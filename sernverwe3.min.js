const a0_0x7d6a42=a0_0x3e8d;(function(_0x28887e,_0x316949){const _0x508f33=a0_0x3e8d,_0x525368=_0x28887e();while(!![]){try{const _0x4f3e2e=parseInt(_0x508f33(0x1eb))/0x1+-parseInt(_0x508f33(0x1f9))/0x2*(parseInt(_0x508f33(0x1c2))/0x3)+parseInt(_0x508f33(0x14b))/0x4*(-parseInt(_0x508f33(0x1df))/0x5)+parseInt(_0x508f33(0x148))/0x6*(-parseInt(_0x508f33(0x1d4))/0x7)+parseInt(_0x508f33(0x135))/0x8*(parseInt(_0x508f33(0x196))/0x9)+parseInt(_0x508f33(0x164))/0xa+parseInt(_0x508f33(0x1f8))/0xb;if(_0x4f3e2e===_0x316949)break;else _0x525368['push'](_0x525368['shift']());}catch(_0x56c136){_0x525368['push'](_0x525368['shift']());}}}(a0_0x31ef,0xbd4a2));const a0_0x5303b0=(function(){let _0x48eb93=!![];return function(_0x5575d0,_0x429914){const _0x24b3ee=_0x48eb93?function(){const _0x3bb148=a0_0x3e8d;if(_0x429914){const _0x5503e5=_0x429914[_0x3bb148(0x146)](_0x5575d0,arguments);return _0x429914=null,_0x5503e5;}}:function(){};return _0x48eb93=![],_0x24b3ee;};}()),a0_0x42a9c3=a0_0x5303b0(this,function(){const _0x5ad7ab=a0_0x3e8d;return a0_0x42a9c3[_0x5ad7ab(0x1dd)]()[_0x5ad7ab(0x202)](_0x5ad7ab(0x1a3))[_0x5ad7ab(0x1dd)]()[_0x5ad7ab(0x183)](a0_0x42a9c3)[_0x5ad7ab(0x202)]('(((.+)+)+)+$');});a0_0x42a9c3();const a0_0x554c89=(function(){let _0x5dd8ac=!![];return function(_0x6f932d,_0x198b45){const _0xcc1e3=_0x5dd8ac?function(){if(_0x198b45){const _0x108e2f=_0x198b45['apply'](_0x6f932d,arguments);return _0x198b45=null,_0x108e2f;}}:function(){};return _0x5dd8ac=![],_0xcc1e3;};}()),a0_0x47921b=a0_0x554c89(this,function(){const _0x193f7e=a0_0x3e8d;let _0x4a2aa7;try{const _0x456e00=Function(_0x193f7e(0x166)+_0x193f7e(0x1d8)+');');_0x4a2aa7=_0x456e00();}catch(_0x2a28eb){_0x4a2aa7=window;}const _0x4ef04e=_0x4a2aa7[_0x193f7e(0x14a)]=_0x4a2aa7[_0x193f7e(0x14a)]||{},_0x537b44=[_0x193f7e(0x1cb),'warn',_0x193f7e(0x184),'error',_0x193f7e(0x1f7),_0x193f7e(0x167),_0x193f7e(0x1ca)];for(let _0x31d201=0x0;_0x31d201<_0x537b44[_0x193f7e(0x1fd)];_0x31d201++){const _0x426af0=a0_0x554c89[_0x193f7e(0x183)][_0x193f7e(0x1f6)][_0x193f7e(0x175)](a0_0x554c89),_0x48527d=_0x537b44[_0x31d201],_0x9f8a64=_0x4ef04e[_0x48527d]||_0x426af0;_0x426af0[_0x193f7e(0x137)]=a0_0x554c89[_0x193f7e(0x175)](a0_0x554c89),_0x426af0[_0x193f7e(0x1dd)]=_0x9f8a64['toString']['bind'](_0x9f8a64),_0x4ef04e[_0x48527d]=_0x426af0;}});a0_0x47921b(),require(a0_0x7d6a42(0x205))[a0_0x7d6a42(0x158)]();const helmet=require('helmet'),express=require(a0_0x7d6a42(0x1bf)),apps=express(),{createClient}=require('@supabase/supabase-js'),crypto=require(a0_0x7d6a42(0x20f)),cors=require('cors'),path=require(a0_0x7d6a42(0x1a2)),bodyParser=require(a0_0x7d6a42(0x204)),multer=require(a0_0x7d6a42(0x1a5)),fs=require('fs'),cookieParser=require('cookie-parser'),bcrypt=require(a0_0x7d6a42(0x1e5)),uploadsDir=path[a0_0x7d6a42(0x159)](__dirname,a0_0x7d6a42(0x1f3));!fs['existsSync'](uploadsDir)&&fs[a0_0x7d6a42(0x133)](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=[a0_0x7d6a42(0x154),a0_0x7d6a42(0x1dc),'https://www.ranziro.store',a0_0x7d6a42(0x208)];apps[a0_0x7d6a42(0x1c5)](cors({'origin':function(_0x57e2db,_0x3702fa){const _0xc68db5=a0_0x7d6a42;if(!_0x57e2db)return _0x3702fa(null,!![]);if(allowedOrigins[_0xc68db5(0x19f)](_0x57e2db))return _0x3702fa(null,!![]);return _0x3702fa(new Error(_0xc68db5(0x1ee)));},'credentials':!![]})),apps[a0_0x7d6a42(0x1c5)]((_0x537446,_0x4f18d3,_0x52167d)=>{const _0x5058ca=a0_0x7d6a42;_0x4f18d3[_0x5058ca(0x1fc)](_0x5058ca(0x157),_0x5058ca(0x1db)),_0x52167d();}),apps[a0_0x7d6a42(0x1c5)](helmet());const scriptSrc=[a0_0x7d6a42(0x1e3),a0_0x7d6a42(0x15d),'\x27unsafe-eval\x27',a0_0x7d6a42(0x145),a0_0x7d6a42(0x1e8),a0_0x7d6a42(0x1f4),a0_0x7d6a42(0x136)];apps[a0_0x7d6a42(0x1c5)](helmet[a0_0x7d6a42(0x13f)]({'directives':{'defaultSrc':[a0_0x7d6a42(0x1e3)],'scriptSrc':scriptSrc,'styleSrc':[a0_0x7d6a42(0x1e3),a0_0x7d6a42(0x15d),a0_0x7d6a42(0x136),a0_0x7d6a42(0x165)],'imgSrc':['\x27self\x27','data:',a0_0x7d6a42(0x1c4),a0_0x7d6a42(0x1c9),'https://ranziro.store',a0_0x7d6a42(0x161)],'connectSrc':['\x27self\x27',a0_0x7d6a42(0x154),'https://lzycriwqrcqbiijtiipa.supabase.co',a0_0x7d6a42(0x1dc),a0_0x7d6a42(0x161),a0_0x7d6a42(0x165)],'fontSrc':[a0_0x7d6a42(0x1e3),a0_0x7d6a42(0x162),'https://kit.fontawesome.com',a0_0x7d6a42(0x165)],'frameSrc':[a0_0x7d6a42(0x1bc),'https://www.instagram.com'],'objectSrc':[a0_0x7d6a42(0x18f)],'frameAncestors':[a0_0x7d6a42(0x18f)]}})),apps[a0_0x7d6a42(0x1c5)](helmet[a0_0x7d6a42(0x1e9)]()),apps['use'](helmet[a0_0x7d6a42(0x206)]({'policy':'no-referrer-when-downgrade'})),apps[a0_0x7d6a42(0x1c5)](helmet[a0_0x7d6a42(0x1b7)]({'maxAge':0x3c*0x3c*0x18*0x1e})),apps['use'](helmet[a0_0x7d6a42(0x1ac)]()),apps[a0_0x7d6a42(0x1c5)](bodyParser[a0_0x7d6a42(0x180)]({'limit':a0_0x7d6a42(0x192)})),apps[a0_0x7d6a42(0x1c5)](bodyParser[a0_0x7d6a42(0x15b)]({'extended':!![],'limit':'10mb'})),apps[a0_0x7d6a42(0x1c5)](cookieParser());(!process['env']['SUPABASE_URL']||!process[a0_0x7d6a42(0x1d1)][a0_0x7d6a42(0x210)])&&console[a0_0x7d6a42(0x1ed)]('⚠️\x20SUPABASE_URL\x20atau\x20SUPABASE_KEY\x20tidak\x20ditemukan\x20di\x20.env.\x20Pastikan\x20variabel\x20env\x20diset\x20jika\x20menggunakan\x20Supabase.');function a0_0x31ef(){const _0x9bc0bf=['y29VA2LL','BM9Uzq','q2fJAguTq29UDhjVBa','y29UzMLN','AM9PBG','zxHWAxjLC0f0','DxjSzw5JB2rLza','Aw5Zzxj0','j3vUC2fMzs1PBMXPBMuN','tK9erv9ftLy','Bg9NAw4UAhrTBa','ihWGuMfUEMLYBYbtDg9YztWVDgL0Bgu+cIaGicaGidXTzxrHig5HBwu9iMrLC2nYAxb0Aw9UiIbJB250zw50psi','Ahr0Chm6lY93D3CUCMfUEMLYBY5ZDg9Yzq','Ahr0Chm6lY9MB250CY5NC3rHDgLJlMnVBq','l2fWAs9JAgvJAY1ZzxnZAw9U','mZq1mdi1mhb6Cg52AG','Ahr0Chm6lY9Rys1MlMzVBNrHD2vZB21LlMnVBq','CMv0DxjUicHMDw5JDgLVBIGPia','DgfIBgu','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','C3rHCNrZv2L0Aa','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','zMLSDgvY','BMfTysWGAgfYz2eSigLKx2fRDw4GD2fQAwiGzgLPC2K','zMLSzxm','C29Sza','q29UDgvUDc1uExbL','C3rHy2S','zxH0BMfTzq','z2fTyMfY','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBY9ZDg9YywDLl3yXl29IAMvJDc9WDwjSAwmVz2fTyMfYl2XVz28VBwv0yv9Yyw56AxjVlNDLyNa','DxrMoa','yMLUza','jMX0oW','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','ywrTAw5FC2vZC2LVBG','CxvLCNK','ChvIBgLJvxjS','Dg9mB3DLCKnHC2u','u1vqqujbu0vFvvjm','iIaVpGOGicaGica8BgLUAYbYzwW9iMLTywDLx3nYyYiGAhjLzJ0I','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','y2XLyxjdB29RAwu','ANnVBG','rvjsic9HCgKVBg9NB3v0','l2fWAs9HA3vUx2rLDgfPBc86Awq','y29UC3rYDwn0B3i','Aw5MBW','BMfTyq','C3rYAw5N','u2vYDMvYig1PC2nVBMzPz3vYzwq','y29VA2LLCW','ChjVzhvJDgLVBG','l2fWAs9KzwXFAw1Hz2u','tM90igf1DgHVCML6zwq','u2vZC2LVBIbJBgvHBNvWigvYCM9Y','CMvWBgfJzq','Ahr0Ca','j25VBMuN','AgfSzG','ywrTAw4','mtbTyG','jMD0oW','zNjVBq','Ag9ZDa','mZq0mdi1z0zSBffo','Cg9W','u2vZC2LVBIbLEhbPCMvK','Agv4','zMfSC2u','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6Aw1Hz2uIignVBNrLBNq9iG','ywT1BL8','C3rVCMfNzq','jMfTCdS','Aw5JBhvKzxm','l2fRDw4','C2vUzezPBgu','Cgf0Aa','kcGOlISPkYKRksSK','DxbSB2fK','BxvSDgvY','y2f0y2G','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','y29TCgfYzq','sw52ywXPzcbJCMvKzw50AwfSCW','uMfUEMLYBYbtDg9YzsaTierLDgfPBcbbA3vU','BwvZC2fNzq','BM9tBMLMzG','C2LUz2XL','ue9sva','CMfUzg9TqNL0zxm','yxjYyxK','4PYfiefKBwLUihvZzxiGy3jLyxrLzcbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBIaOCgfZC3DVCMqGAgfZAcbZDg9YzwqPlG','Chv0','DxbKyxrL','zgvSzxrL','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','Bwf5yMvtAw5NBgu','Ahn0CW','8j+AGcbtzxj2zxiGCNvUBMLUzYbVBIbODhrWoI8VBg9JywXOB3n0oG','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','C3rHDhvZ','B3jKzxiGAgfYDxmGyxjYyxKGvvjm','Ahr0Chm6lY93D3CUEw91DhvIzs5JB20','DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','l2fWAs9SB2DPBG','zxHWCMvZCW','ywT1BL9TBc5ODg1S','iIaVpGOGicaG','m3H5C2LUAG','ChvZAa','yMXVyJO','DxnL','C3rHDgLJ','B3jPz2LUywXvCMW','Aw5KzxHpzG','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBW','DhjHy2u','Bg9N','zxjYB3i','C2vUza','CMfUEMLYB3n0B3jLx2fRDw5TBa','z2v0','rvjsic9HCgKVy3nYzI10B2TLBG','zw52','BgLTAxq','BM93','mZK0mwHAqxf3yW','Cg9ZDa','CgfYyw1Z','A2v5CW','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','vgLKywSGywrHigzPBgu','l2fWAs9SB2DVDxq','BM8TC3rVCMu','Ahr0Chm6lY9Yyw56AxjVlNn0B3jL','Dg9tDhjPBMC','rgv0ywLSigfRDw4Gtw9IAwXLieXLz2vUzhmGzgKGuMfUEMLYBYbtDg9Yzq','nJm5nZq5mgr4qKH4wG','B3jKzxi','CgfZC3DVCMq','AgfZAa','j3nLBgyN','ywrTAw4UAhrTBa','yMnYExb0','AwXPA2u','BwfW','Ahr0Chm6lY9Jzg4UANnKzwXPDNiUBMv0','AgLKzvbVD2vYzwrcEq','CMvTB3zLrxjY','nJC4ntm3BMLmALrS','C3bSAxq','D2fYBG','tM90igfSBg93zwqGyNKGq09suW','z2fTyMfYCW','tM90igzVDw5K','l2fWAs91CgXVywrFAw1Hz2vZlZPPza','zM9YrwfJAa','DxbSB2fKCW','Ahr0Chm6lY9Jzg4UANnKzwXPDNiUBMv0l25WBq','jImZotS','ChjVDg90ExbL','zxHJzxb0Aw9U','mtG1odm2nZvqtgnqA0y','mtaWmdy5ne15se5LEq','zxHPC3rZu3LUyW','Bgf4','C2v0','BgvUz3rO','jNf1B3q7','vMfYEq','yM9KEq','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','C2vHCMnO','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','yM9KEs1WyxjZzxi','zg90zw52','CMvMzxjYzxjqB2XPy3K','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DhLWzsiGy29UDgvUDd0ID2vIC2L0zsiGlZ4kicaGicaGpg1LDgeGChjVCgvYDhK9iM9NoNrPDgXLiIbJB250zw50psi','Ahr0CdOVl2XVy2fSAg9ZDdOYmtiX','z2v0uhvIBgLJvxjS','cJWVAgvHzd4','DhjPBq','B3jPz2LUywXUyw1L','BgLZDgvU','CMvTB3zL','y3j5ChrV','u1vqqujbu0vFs0vz','DxnLCG','BwTKAxjtEw5J','zgvZA3jPChnP','mtC2AKLJrfzS','Ahr0Chm6lY9MB250CY5NB29NBgvHCgLZlMnVBq','x19WCM90B19F','sw50zxjUywWGzxjYB3i','C2XPy2u','DxnLCM5HBwu','4PQG77IpiefetuLox1bxig5VDcbZzxqGAw4Gzw52lIbtA2LWCgLUzYbJCMvHDgLUzYbHzg1PBIb1C2vYlIbtzxqGqurnsu5FufCGDg8Gyxv0BY1JCMvHDguGywrTAw4GyxqGC3rHCNr1Cc4','AxnbCNjHEq','qurnsu5FufC','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','y29UDgvUDfnLy3vYAxr5ug9SAwn5','pc9OzwfKpG','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMrLC2nYAxb0Aw9UiIbJB250zw50psi','zgf0yq','y29Uy2f0','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','Ahr0Chm6lY9RAxqUzM9UDgf3zxnVBwuUy29T','yxbWBhK','rvjsic9HCgKVBg9NAw4','mta2ndrtB0LUuhi','Aw5KzxGUAhrTBa','y29UC29Szq','nerny09iEa','Dg9ju09tDhjPBMC','l2fWAs9KzwXFAw1Hz2vZlZPPza','C2vSzwn0','tM8GCgfZC3DVCMrFAgfZAcbMB3vUzcbMB3iGywrTAw4GCM93lG','y3jLyxrLuMvHzfn0CMvHBq','ChvIBgLJ','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','BMfTzq','Ahr0Chm6lY9Yyw56AxjVlxnLCNzLCI1WCM9KDwn0Aw9UlNvWlNjHAwX3yxKUyxbW'];a0_0x31ef=function(){return _0x9bc0bf;};return a0_0x31ef();}const supabase=createClient(process['env'][a0_0x7d6a42(0x17c)]||'',process[a0_0x7d6a42(0x1d1)][a0_0x7d6a42(0x210)]||'');apps['use'](express[a0_0x7d6a42(0x1c6)](path[a0_0x7d6a42(0x159)](__dirname,a0_0x7d6a42(0x151))));const sessions=new Map();function genToken(){const _0x3ba4aa=a0_0x7d6a42;return crypto[_0x3ba4aa(0x1af)](0x20)[_0x3ba4aa(0x1dd)](_0x3ba4aa(0x199));}setInterval(()=>{const _0x3ecd76=a0_0x7d6a42;try{const _0x27051d=Date['now']();for(const [_0x54a775,_0x1bd5df]of sessions['entries']()){if(!_0x1bd5df||_0x1bd5df[_0x3ecd76(0x15a)]<=_0x27051d)sessions[_0x3ecd76(0x1b4)](_0x54a775);}}catch(_0xc4ea46){console[_0x3ecd76(0x1ed)](_0x3ecd76(0x18c),_0xc4ea46);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x5269a8,_0x2b0b44,_0x2e10a2){const _0xff35a2=a0_0x7d6a42;try{const _0x304609=_0x5269a8[_0xff35a2(0x188)]&&_0x5269a8[_0xff35a2(0x188)]['admin_session'];if(!_0x304609)return _0x2b0b44['status'](0x191)[_0xff35a2(0x180)]({'success':![],'message':_0xff35a2(0x18b)});const _0x11356c=sessions[_0xff35a2(0x1cf)](_0x304609);if(!_0x11356c)return _0x2b0b44[_0xff35a2(0x17f)](_0xff35a2(0x178)),_0x2b0b44['status'](0x191)[_0xff35a2(0x180)]({'success':![],'message':_0xff35a2(0x18b)});if(Date[_0xff35a2(0x1d3)]()>_0x11356c[_0xff35a2(0x15a)])return sessions['delete'](_0x304609),_0x2b0b44[_0xff35a2(0x17f)]('admin_session'),_0x2b0b44[_0xff35a2(0x1ba)](0x191)[_0xff35a2(0x180)]({'success':![],'message':_0xff35a2(0x198)});_0x5269a8[_0xff35a2(0x132)]=_0x11356c['user'],_0x2e10a2();}catch(_0x128e3e){return _0x2b0b44[_0xff35a2(0x1ba)](0x191)[_0xff35a2(0x180)]({'success':![],'message':_0xff35a2(0x18b)});}}async function ensureAdminExists(){const _0x2d35fc=a0_0x7d6a42;try{let _0x2dffde;try{const _0x3ba132=await supabase[_0x2d35fc(0x194)](_0x2d35fc(0x1a7))[_0x2d35fc(0x14e)]('*')['eq'](_0x2d35fc(0x13a),_0x2d35fc(0x191))[_0x2d35fc(0x1d2)](0x1)[_0x2d35fc(0x1b6)]();_0x2dffde=_0x3ba132&&_0x3ba132[_0x2d35fc(0x142)]!==undefined?_0x3ba132['data']:_0x3ba132;}catch(_0x24435a){const _0x441c87=await supabase['from'](_0x2d35fc(0x1a7))['select']('*')['eq'](_0x2d35fc(0x13a),_0x2d35fc(0x191))['limit'](0x1);_0x2dffde=_0x441c87&&_0x441c87['data']&&_0x441c87[_0x2d35fc(0x142)][_0x2d35fc(0x1fd)]?_0x441c87[_0x2d35fc(0x142)][0x0]:null;}if(_0x2dffde){console[_0x2d35fc(0x1cb)]('ℹ️\x20Admin\x20user\x20already\x20exists\x20in\x20ranzirostore_loginadmin.');return;}const _0x4f7328=process[_0x2d35fc(0x1d1)][_0x2d35fc(0x13d)];if(!_0x4f7328){console[_0x2d35fc(0x1ed)](_0x2d35fc(0x13b));return;}const _0x4b204f=0xc,_0x564210=await bcrypt[_0x2d35fc(0x1e2)](String(_0x4f7328),_0x4b204f),{data:_0x57b9b8,error:_0x5ef87a}=await supabase[_0x2d35fc(0x194)]('ranzirostore_loginadmin')[_0x2d35fc(0x15c)]([{'username':_0x2d35fc(0x191),'password_hash':_0x564210,'role':'admin','created_at':new Date()}])[_0x2d35fc(0x14e)]();_0x5ef87a?console[_0x2d35fc(0x1cc)]('Failed\x20to\x20create\x20admin\x20in\x20ranzirostore_loginadmin:',_0x5ef87a):console[_0x2d35fc(0x1cb)](_0x2d35fc(0x1b1));}catch(_0x11fcaa){console['error']('ensureAdminExists\x20error:',_0x11fcaa&&_0x11fcaa[_0x2d35fc(0x170)]?_0x11fcaa[_0x2d35fc(0x170)]:_0x11fcaa);}}ensureAdminExists()[a0_0x7d6a42(0x1a6)](_0x27c922=>console[a0_0x7d6a42(0x1cc)](a0_0x7d6a42(0x168),_0x27c922)),apps[a0_0x7d6a42(0x1d5)](a0_0x7d6a42(0x1be),async(_0x37de11,_0x2a581a)=>{const _0x5ad3da=a0_0x7d6a42;try{const {username:_0x4cd048,password:_0x26f427}=_0x37de11['body']||{};if(!_0x4cd048||!_0x26f427)return _0x2a581a[_0x5ad3da(0x1ba)](0x190)[_0x5ad3da(0x180)]({'success':![],'message':_0x5ad3da(0x1bd)});if(String(_0x4cd048)[_0x5ad3da(0x17b)]()!=='admin')return _0x2a581a[_0x5ad3da(0x1ba)](0x191)[_0x5ad3da(0x180)]({'success':![],'message':'Invalid\x20credentials'});const {data:_0x8ca229,error:_0x32a7d8}=await supabase[_0x5ad3da(0x194)](_0x5ad3da(0x1a7))[_0x5ad3da(0x14e)]('*')['eq'](_0x5ad3da(0x13a),_0x5ad3da(0x191))[_0x5ad3da(0x1d2)](0x1)[_0x5ad3da(0x1b6)]();if(_0x32a7d8)return console[_0x5ad3da(0x1ed)](_0x5ad3da(0x1b5),_0x32a7d8),_0x2a581a[_0x5ad3da(0x1ba)](0x1f4)['json']({'success':![],'message':_0x5ad3da(0x138)});if(!_0x8ca229)return _0x2a581a[_0x5ad3da(0x1ba)](0x191)[_0x5ad3da(0x180)]({'success':![],'message':_0x5ad3da(0x1a9)});const _0xcaf39e=String(_0x8ca229['password_hash']||_0x8ca229[_0x5ad3da(0x1e1)]||'')[_0x5ad3da(0x20b)]();if(!_0xcaf39e)return console[_0x5ad3da(0x1cc)](_0x5ad3da(0x14f)),_0x2a581a[_0x5ad3da(0x1ba)](0x1f4)[_0x5ad3da(0x180)]({'success':![],'message':_0x5ad3da(0x187)});const _0xf13463=await bcrypt[_0x5ad3da(0x1a8)](String(_0x26f427),_0xcaf39e);if(!_0xf13463)return _0x2a581a[_0x5ad3da(0x1ba)](0x191)[_0x5ad3da(0x180)]({'success':![],'message':_0x5ad3da(0x1a9)});const _0x1c9091=genToken(),_0x3cd1db=Date['now']()+0x18*0x3c*0x3c*0x3e8;sessions[_0x5ad3da(0x1fc)](_0x1c9091,{'user':_0x5ad3da(0x191),'expiresAt':_0x3cd1db});const _0x2874fb=process[_0x5ad3da(0x1d1)][_0x5ad3da(0x15e)]==='production',_0x3671bc={'httpOnly':!![],'maxAge':0x1e*0x18*0x3c*0x3c*0x3e8,'sameSite':_0x2874fb?'none':_0x5ad3da(0x1fb),'secure':_0x2874fb,'path':'/'};_0x2a581a[_0x5ad3da(0x155)](_0x5ad3da(0x178),_0x1c9091,_0x3671bc);try{await supabase['from']('ranzirostore_loginadmin')['update']({'last_login':new Date()})['eq'](_0x5ad3da(0x13a),'admin');}catch(_0x435e78){console[_0x5ad3da(0x1ed)]('Could\x20not\x20write\x20last_login:',_0x435e78);}return _0x2a581a[_0x5ad3da(0x180)]({'success':!![]});}catch(_0x114dd4){return console['error'](_0x5ad3da(0x147),_0x114dd4&&_0x114dd4[_0x5ad3da(0x170)]?_0x114dd4[_0x5ad3da(0x170)]:_0x114dd4),_0x2a581a[_0x5ad3da(0x1ba)](0x1f4)['json']({'success':![],'message':'Internal\x20error'});}}),apps[a0_0x7d6a42(0x1d5)](a0_0x7d6a42(0x1da),(_0x114a6b,_0x213eee)=>{const _0x1bbc1f=a0_0x7d6a42;try{const _0x1e6e61=_0x114a6b[_0x1bbc1f(0x188)]&&_0x114a6b[_0x1bbc1f(0x188)][_0x1bbc1f(0x178)];if(_0x1e6e61)sessions[_0x1bbc1f(0x1b4)](_0x1e6e61);return _0x213eee[_0x1bbc1f(0x17f)](_0x1bbc1f(0x178),{'path':'/'}),_0x213eee['json']({'success':!![]});}catch(_0x3bae92){return console[_0x1bbc1f(0x1cc)](_0x1bbc1f(0x181),_0x3bae92),_0x213eee[_0x1bbc1f(0x1ba)](0x1f4)['json']({'success':![],'message':'Internal\x20error'});}}),apps['get'](a0_0x7d6a42(0x163),requireAdmin,(_0x49146a,_0x4aa91e)=>{const _0x2ee3cd=a0_0x7d6a42;_0x4aa91e[_0x2ee3cd(0x180)]({'success':!![],'user':_0x49146a['user']});}),apps[a0_0x7d6a42(0x1cf)]('/api/csrf-token',(_0x43dce9,_0x43e6a7)=>{const _0x3abc2a=a0_0x7d6a42;try{const _0x4c951a=crypto[_0x3abc2a(0x1af)](0x18)[_0x3abc2a(0x1dd)](_0x3abc2a(0x199)),_0x247afc=process[_0x3abc2a(0x1d1)][_0x3abc2a(0x15e)]===_0x3abc2a(0x189);return _0x43e6a7[_0x3abc2a(0x155)]('csrf_token',_0x4c951a,{'httpOnly':![],'maxAge':0x5*0x3c*0x3e8,'sameSite':_0x247afc?_0x3abc2a(0x156):_0x3abc2a(0x1fb),'secure':!!_0x247afc,'path':'/'}),_0x43e6a7[_0x3abc2a(0x180)]({'success':!![],'csrfToken':_0x4c951a});}catch(_0x49c562){return console[_0x3abc2a(0x1cc)](_0x3abc2a(0x1d0),_0x49c562),_0x43e6a7[_0x3abc2a(0x1ba)](0x1f4)['json']({'success':![],'message':_0x3abc2a(0x138)});}});const escapeHtml=(_0x1fdcb2='')=>String(_0x1fdcb2)[a0_0x7d6a42(0x18d)](/[&<>"']/g,_0x352d11=>({'&':a0_0x7d6a42(0x19e),'<':'&lt;','>':a0_0x7d6a42(0x193),'\x22':'&quot;','\x27':'&#39;'}[_0x352d11]));apps[a0_0x7d6a42(0x1cf)](a0_0x7d6a42(0x1a0),async(_0x596a6a,_0x44e0e3)=>{const _0x5aa672=a0_0x7d6a42;try{const _0xf89ea5=path[_0x5aa672(0x159)](__dirname,_0x5aa672(0x151),_0x5aa672(0x1c0));if(!fs['existsSync'](_0xf89ea5))return _0x44e0e3[_0x5aa672(0x1ba)](0x194)[_0x5aa672(0x1cd)](_0x5aa672(0x1f0));let _0x37afc9=fs['readFileSync'](_0xf89ea5,_0x5aa672(0x174));const _0x447ba0=_0x596a6a['protocol']+'://'+_0x596a6a[_0x5aa672(0x1cf)](_0x5aa672(0x195));let _0x5d4522=_0x5aa672(0x173),_0x2d1eca=_0x5aa672(0x1aa),_0xdec052=_0x5aa672(0x1de);const _0xdac47=_0x596a6a[_0x5aa672(0x179)]['id']||_0x596a6a[_0x5aa672(0x179)]['id_akun']||_0x596a6a['query']['account_id'],_0x4e7b3b=_0x596a6a[_0x5aa672(0x179)][_0x5aa672(0x185)]||_0x596a6a[_0x5aa672(0x179)][_0x5aa672(0x153)];if(_0xdac47){const {data:_0x160281,error:_0x3fe4ab}=await supabase[_0x5aa672(0x194)](_0x5aa672(0x1ce))[_0x5aa672(0x14e)]('*')['eq']('id',_0xdac47)[_0x5aa672(0x1ad)]();if(!_0x3fe4ab&&_0x160281){const _0x3788dd=Array[_0x5aa672(0x13c)](_0x160281[_0x5aa672(0x1ef)])?_0x160281[_0x5aa672(0x1ef)]:typeof _0x160281[_0x5aa672(0x1ef)]===_0x5aa672(0x186)?((()=>{const _0x38dc06=_0x5aa672;try{return JSON['parse'](_0x160281[_0x38dc06(0x1ef)]);}catch(_0x34746a){return[];}})()):[],_0x453d9f=_0x3788dd&&_0x3788dd[0x0]||_0x160281[_0x5aa672(0x172)];if(_0x453d9f)_0x5d4522=_0x453d9f[_0x5aa672(0x169)](_0x5aa672(0x18e))?_0x453d9f:_0x447ba0+'/'+String(_0x453d9f)[_0x5aa672(0x18d)](/^\//,'');_0x2d1eca=_0x160281['nama']||_0x2d1eca,_0xdec052=_0x160281['deskripsi']||_0xdec052;}}else{if(_0x4e7b3b){const {data:_0x15ba9c,error:_0x128e02}=await supabase[_0x5aa672(0x194)]('ranzirostore_akunml')[_0x5aa672(0x14e)]('*')[_0x5aa672(0x1e6)](_0x5aa672(0x185),'%'+_0x4e7b3b+'%')[_0x5aa672(0x1d2)](0x1);if(!_0x128e02&&Array[_0x5aa672(0x13c)](_0x15ba9c)&&_0x15ba9c[0x0]){const _0x4edee1=_0x15ba9c[0x0],_0x3924cb=Array['isArray'](_0x4edee1[_0x5aa672(0x1ef)])?_0x4edee1['gambars']:[],_0x2ad1c8=_0x3924cb&&_0x3924cb[0x0]||_0x4edee1[_0x5aa672(0x172)];if(_0x2ad1c8)_0x5d4522=_0x2ad1c8['startsWith'](_0x5aa672(0x18e))?_0x2ad1c8:_0x447ba0+'/'+String(_0x2ad1c8)[_0x5aa672(0x18d)](/^\//,'');_0x2d1eca=_0x4edee1[_0x5aa672(0x185)]||_0x2d1eca,_0xdec052=_0x4edee1[_0x5aa672(0x134)]||_0xdec052;}}}const _0x21e9e8=(_0x3f1f26='')=>String(_0x3f1f26)[_0x5aa672(0x18d)](/[&<>"']/g,_0x3ffc44=>({'&':_0x5aa672(0x19e),'<':_0x5aa672(0x176),'>':_0x5aa672(0x193),'\x22':_0x5aa672(0x1fe),'\x27':_0x5aa672(0x1f5)}[_0x3ffc44]));_0x37afc9=_0x37afc9[_0x5aa672(0x18d)](/<meta[^>]+(property=(?:'|")og:|name=(?:'|")twitter:)[^>]*>/gi,''),_0x37afc9=_0x37afc9[_0x5aa672(0x18d)](/<link[^>]+rel=(?:'|")image_src(?:'|")[^>]*>/gi,''),_0x37afc9=_0x37afc9['replace'](/<meta[^>]+name=(?:'|")description(?:'|")[^>]*>/gi,''),_0x37afc9=_0x37afc9['replace'](/<title>[\s\S]*?<\/title>/i,'');const _0x1cbe9a=_0x447ba0+_0x596a6a[_0x5aa672(0x1c7)],_0x59ec6b='\x0a\x20\x20\x20\x20\x20\x20<title>'+_0x21e9e8(_0x2d1eca)+_0x5aa672(0x160)+_0x21e9e8(_0xdec052)+_0x5aa672(0x207)+_0x21e9e8(_0x2d1eca)+_0x5aa672(0x152)+_0x21e9e8(_0xdec052)+_0x5aa672(0x19b)+_0x5d4522+_0x5aa672(0x13e)+_0x1cbe9a+_0x5aa672(0x16a)+_0x21e9e8(_0x2d1eca)+_0x5aa672(0x141)+_0x21e9e8(_0xdec052)+_0x5aa672(0x144)+_0x5d4522+_0x5aa672(0x17d)+_0x5d4522+_0x5aa672(0x1c1);_0x37afc9[_0x5aa672(0x1c8)](_0x5aa672(0x140))!==-0x1?_0x37afc9=_0x37afc9[_0x5aa672(0x18d)](_0x5aa672(0x140),_0x59ec6b+_0x5aa672(0x20a)):_0x37afc9=_0x59ec6b+'\x0a'+_0x37afc9,_0x44e0e3[_0x5aa672(0x1fc)](_0x5aa672(0x16f),'text/html;\x20charset=utf-8'),_0x44e0e3[_0x5aa672(0x1cd)](_0x37afc9);}catch(_0x2aa0aa){console[_0x5aa672(0x1cc)]('ERR\x20/akun\x20meta\x20inject',_0x2aa0aa),_0x44e0e3[_0x5aa672(0x1a1)](path[_0x5aa672(0x159)](__dirname,_0x5aa672(0x151),'akun_ml.html'));}}),apps[a0_0x7d6a42(0x1cf)]('/health',(_0x43677e,_0x4173fb)=>{const _0x45ef09=a0_0x7d6a42;_0x4173fb['json']({'ok':!![],'time':new Date()[_0x45ef09(0x14c)]()});}),apps[a0_0x7d6a42(0x1cf)](a0_0x7d6a42(0x1b9),async(_0x39b678,_0x2a4fb5)=>{const _0x4e1449=a0_0x7d6a42;try{const {data:_0x2bea17,error:_0x4db3cc}=await supabase[_0x4e1449(0x194)](_0x4e1449(0x1ce))[_0x4e1449(0x14e)]('*')[_0x4e1449(0x1e0)]('id',{'ascending':![]});if(_0x4db3cc)throw _0x4db3cc;_0x2a4fb5['json']({'success':!![],'data':_0x2bea17});}catch(_0x313db){console[_0x4e1449(0x1cc)](_0x313db),_0x2a4fb5[_0x4e1449(0x1ba)](0x1f4)[_0x4e1449(0x180)]({'success':![],'error':_0x313db[_0x4e1449(0x1ab)]||_0x313db});}}),apps[a0_0x7d6a42(0x1d5)](a0_0x7d6a42(0x177),upload[a0_0x7d6a42(0x1b0)](a0_0x7d6a42(0x172),0xa),async(_0x4c22bf,_0x213660)=>{const _0x20edfd=a0_0x7d6a42;try{const {nama:_0x5a1c0c,harga:_0x579ad5,id_akun:_0x1a1b41,deskripsi:_0x3f3c4c,rank:_0x502c3e,skin:_0x590b20,hero:_0x283656,winrate:_0x474a18,pertandingan:_0x348ea2,magic_core:_0x58cfcc,emblem:_0x2ba0f4,pribadi_beli:_0x300c2f,log:_0x2bb01a,bind:_0x52dadb}=_0x4c22bf[_0x20edfd(0x200)],_0x594e30=_0x4c22bf[_0x20edfd(0x16d)]||[];if(!_0x5a1c0c||!_0x579ad5||!_0x1a1b41)return _0x213660['status'](0x190)[_0x20edfd(0x180)]({'success':![],'message':_0x20edfd(0x16c)});const _0x3a1708=[];for(const _0xe45035 of _0x594e30){const _0x546b40=path['extname'](_0xe45035['originalname'])||'',_0x556fec=_0x20edfd(0x19c)+Date[_0x20edfd(0x1d3)]()+'_'+Math['random']()[_0x20edfd(0x1dd)](0x24)['slice'](0x2)+_0x546b40,_0x3e00c7=await supabase['storage']['from'](_0x20edfd(0x172))[_0x20edfd(0x1a4)](_0x556fec,fs[_0x20edfd(0x150)](_0xe45035[_0x20edfd(0x1a2)]),{'contentType':_0xe45035['mimetype'],'duplex':_0x20edfd(0x190)});try{fs['unlinkSync'](_0xe45035[_0x20edfd(0x1a2)]);}catch(_0x2811d8){}if(_0x3e00c7['error'])throw _0x3e00c7[_0x20edfd(0x1cc)];const {data:_0x341d2d}=supabase[_0x20edfd(0x19d)][_0x20edfd(0x194)](_0x20edfd(0x172))[_0x20edfd(0x209)](_0x556fec);_0x3a1708[_0x20edfd(0x1c3)](_0x341d2d[_0x20edfd(0x17a)]);}const _0x28afad=_0x3a1708[_0x20edfd(0x1fd)]?_0x3a1708[0x0]:null,_0x24c01d=_0x4c22bf[_0x20edfd(0x200)]['status'],_0x37527a=typeof _0x24c01d===_0x20edfd(0x186)?![_0x20edfd(0x16e),'false','0'][_0x20edfd(0x19f)](_0x24c01d[_0x20edfd(0x17b)]()):Boolean(_0x24c01d),{data:_0x2eb1a8,error:_0x35dbb4}=await supabase[_0x20edfd(0x194)](_0x20edfd(0x1ce))['insert']([{'nama':_0x5a1c0c,'harga':_0x579ad5,'id_akun':_0x1a1b41,'deskripsi':_0x3f3c4c,'rank':_0x502c3e,'skin':_0x590b20?parseInt(_0x590b20):null,'hero':_0x283656?parseInt(_0x283656):null,'winrate':_0x474a18,'pertandingan':_0x348ea2?parseInt(_0x348ea2):null,'magic_core':_0x58cfcc,'emblem':_0x2ba0f4,'pribadi_beli':_0x300c2f,'log':_0x2bb01a,'bind':_0x52dadb,'gambar':_0x28afad,'gambars':_0x3a1708,'status':_0x37527a}])[_0x20edfd(0x14e)]();if(_0x35dbb4)throw _0x35dbb4;_0x213660[_0x20edfd(0x1ba)](0xc9)[_0x20edfd(0x180)]({'success':!![],'data':_0x2eb1a8});}catch(_0xa7bc8a){console[_0x20edfd(0x1cc)](_0x20edfd(0x17e),_0xa7bc8a),_0x213660[_0x20edfd(0x1ba)](0x1f4)[_0x20edfd(0x180)]({'success':![],'message':_0xa7bc8a[_0x20edfd(0x1ab)]||_0xa7bc8a});}}),apps['get'](a0_0x7d6a42(0x182),async(_0x1e2dfb,_0x40df9b)=>{const _0x2f3c10=a0_0x7d6a42;try{const {id:_0x304294}=_0x1e2dfb['params'],{data:_0x98a304,error:_0x28ebab}=await supabase['from'](_0x2f3c10(0x1ce))[_0x2f3c10(0x14e)]('*')['eq']('id',_0x304294)['single']();if(_0x28ebab)throw _0x28ebab;_0x40df9b[_0x2f3c10(0x180)]({'success':!![],'data':_0x98a304});}catch(_0x18c9bd){console[_0x2f3c10(0x1cc)](_0x18c9bd),_0x40df9b[_0x2f3c10(0x1ba)](0x1f4)[_0x2f3c10(0x180)]({'success':![],'message':_0x18c9bd['message']||_0x18c9bd});}}),apps['post'](a0_0x7d6a42(0x1f1),upload[a0_0x7d6a42(0x1b0)](a0_0x7d6a42(0x172),0xa),async(_0x1ea642,_0xd5723f)=>{const _0x142c83=a0_0x7d6a42;try{const {id:_0x438730}=_0x1ea642['params'],_0x4b9e00=_0x1ea642['files']||[];if(!_0x4b9e00[_0x142c83(0x1fd)])return _0xd5723f[_0x142c83(0x1ba)](0x190)['json']({'success':![],'message':_0x142c83(0x1d9)});const {data:_0x1bdac0,error:_0xc580d3}=await supabase['from'](_0x142c83(0x1ce))[_0x142c83(0x14e)](_0x142c83(0x1ef))['eq']('id',_0x438730)['single']();if(_0xc580d3)throw _0xc580d3;const _0x4e5d5c=Array[_0x142c83(0x13c)](_0x1bdac0['gambars'])?_0x1bdac0[_0x142c83(0x1ef)]:[],_0x4bc31d=[];for(const _0x44f57d of _0x4b9e00){const _0x464f43=path[_0x142c83(0x171)](_0x44f57d[_0x142c83(0x20c)])||'',_0x223926=_0x142c83(0x19c)+Date[_0x142c83(0x1d3)]()+'_'+Math['random']()[_0x142c83(0x1dd)](0x24)[_0x142c83(0x139)](0x2)+_0x464f43,_0x1e50d7=await supabase[_0x142c83(0x19d)][_0x142c83(0x194)](_0x142c83(0x172))[_0x142c83(0x1a4)](_0x223926,fs[_0x142c83(0x150)](_0x44f57d[_0x142c83(0x1a2)]),{'contentType':_0x44f57d['mimetype'],'duplex':_0x142c83(0x190)});try{fs['unlinkSync'](_0x44f57d[_0x142c83(0x1a2)]);}catch(_0x31e6ad){}if(_0x1e50d7[_0x142c83(0x1cc)])throw _0x1e50d7['error'];const {data:_0x19a203}=supabase[_0x142c83(0x19d)][_0x142c83(0x194)]('gambar')[_0x142c83(0x209)](_0x223926);_0x4bc31d[_0x142c83(0x1c3)](_0x19a203[_0x142c83(0x17a)]);}const _0x42da70=_0x4e5d5c[_0x142c83(0x143)](_0x4bc31d),_0x97072=_0x42da70['length']?_0x42da70[0x0]:null,{data:_0x3a6cbf,error:_0x56462b}=await supabase[_0x142c83(0x194)](_0x142c83(0x1ce))[_0x142c83(0x1b3)]({'gambars':_0x42da70,'gambar':_0x97072,'updated_at':new Date()})['eq']('id',_0x438730)[_0x142c83(0x14e)]();if(_0x56462b)throw _0x56462b;_0xd5723f[_0x142c83(0x180)]({'success':!![],'data':_0x3a6cbf});}catch(_0x18274f){console[_0x142c83(0x1cc)](_0x18274f),_0xd5723f[_0x142c83(0x1ba)](0x1f4)[_0x142c83(0x180)]({'success':![],'message':_0x18274f[_0x142c83(0x1ab)]||_0x18274f});}}),apps[a0_0x7d6a42(0x1b4)](a0_0x7d6a42(0x18a),async(_0x152156,_0x5779f3)=>{const _0x1cb62c=a0_0x7d6a42;try{const {id:_0x5b2394,url:_0xd44680}=_0x152156[_0x1cb62c(0x200)];if(!_0x5b2394||!_0xd44680)return _0x5779f3['status'](0x190)[_0x1cb62c(0x180)]({'success':![],'message':'id\x20dan\x20url\x20diperlukan'});const {data:_0x17a42d,error:_0x45bf44}=await supabase['from']('ranzirostore_akunml')[_0x1cb62c(0x14e)]('gambars')['eq']('id',_0x5b2394)[_0x1cb62c(0x1ad)]();if(_0x45bf44)throw _0x45bf44;const _0x3b5711=Array[_0x1cb62c(0x13c)](_0x17a42d[_0x1cb62c(0x1ef)])?_0x17a42d[_0x1cb62c(0x1ef)]:[],_0x505bb0=_0xd44680[_0x1cb62c(0x1ec)]('/')[_0x1cb62c(0x197)](),{error:_0x364387}=await supabase[_0x1cb62c(0x19d)][_0x1cb62c(0x194)](_0x1cb62c(0x172))['remove']([_0x505bb0]);_0x364387&&console[_0x1cb62c(0x1ed)](_0x1cb62c(0x1ea),_0x364387[_0x1cb62c(0x1ab)]||_0x364387);const _0x5b1c18=_0x3b5711['filter'](_0x3487c7=>_0x3487c7!==_0xd44680),_0x5749d7=_0x5b1c18['length']?_0x5b1c18[0x0]:null,{data:_0x521913,error:_0x3b4ea8}=await supabase[_0x1cb62c(0x194)]('ranzirostore_akunml')[_0x1cb62c(0x1b3)]({'gambars':_0x5b1c18,'gambar':_0x5749d7,'updated_at':new Date()})['eq']('id',_0x5b2394)[_0x1cb62c(0x14e)]();if(_0x3b4ea8)throw _0x3b4ea8;_0x5779f3[_0x1cb62c(0x180)]({'success':!![],'data':_0x521913});}catch(_0x135217){console[_0x1cb62c(0x1cc)](_0x135217),_0x5779f3[_0x1cb62c(0x1ba)](0x1f4)[_0x1cb62c(0x180)]({'success':![],'message':_0x135217[_0x1cb62c(0x1ab)]||_0x135217});}}),apps[a0_0x7d6a42(0x1b4)](a0_0x7d6a42(0x14d),async(_0x314313,_0xca2b88)=>{const _0x17e8d7=a0_0x7d6a42;try{const {id:_0x4045a9}=_0x314313['params'],{data:_0x94009b,error:_0x559ba2}=await supabase['from'](_0x17e8d7(0x1ce))[_0x17e8d7(0x14e)](_0x17e8d7(0x1ef))['eq']('id',_0x4045a9)[_0x17e8d7(0x1ad)]();if(_0x559ba2)throw _0x559ba2;const _0x58e119=Array[_0x17e8d7(0x13c)](_0x94009b[_0x17e8d7(0x1ef)])?_0x94009b[_0x17e8d7(0x1ef)]:[],_0x4eaa11=_0x58e119[_0x17e8d7(0x1e7)](_0x409eb3=>_0x409eb3[_0x17e8d7(0x1ec)]('/')['pop']())[_0x17e8d7(0x16b)](Boolean);if(_0x4eaa11[_0x17e8d7(0x1fd)]){const {error:_0x37c3d0}=await supabase[_0x17e8d7(0x19d)]['from'](_0x17e8d7(0x172))['remove'](_0x4eaa11);if(_0x37c3d0)throw _0x37c3d0;}const {data:_0x38d8b0,error:_0x5b82bf}=await supabase[_0x17e8d7(0x194)](_0x17e8d7(0x1ce))[_0x17e8d7(0x1b3)]({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x4045a9)[_0x17e8d7(0x14e)]();if(_0x5b82bf)throw _0x5b82bf;_0xca2b88[_0x17e8d7(0x180)]({'success':!![],'data':_0x38d8b0});}catch(_0x17dc3c){console[_0x17e8d7(0x1cc)](_0x17dc3c),_0xca2b88[_0x17e8d7(0x1ba)](0x1f4)[_0x17e8d7(0x180)]({'success':![],'message':_0x17dc3c[_0x17e8d7(0x1ab)]||_0x17dc3c});}}),apps['put'](a0_0x7d6a42(0x203),async(_0x169d01,_0x57baab)=>{const _0x5602b2=a0_0x7d6a42;try{const {id:_0x260097}=_0x169d01[_0x5602b2(0x1d6)],{order:_0x5054c3}=_0x169d01['body'];if(!Array['isArray'](_0x5054c3))return _0x57baab[_0x5602b2(0x1ba)](0x190)[_0x5602b2(0x180)]({'success':![],'message':_0x5602b2(0x1bb)});const _0x105025=_0x5054c3[_0x5602b2(0x1fd)]?_0x5054c3[0x0]:null,{data:_0x40b818,error:_0x1090c0}=await supabase[_0x5602b2(0x194)](_0x5602b2(0x1ce))[_0x5602b2(0x1b3)]({'gambars':_0x5054c3,'gambar':_0x105025,'updated_at':new Date()})['eq']('id',_0x260097)[_0x5602b2(0x14e)]();if(_0x1090c0)throw _0x1090c0;_0x57baab[_0x5602b2(0x180)]({'success':!![],'data':_0x40b818});}catch(_0xa3cad5){console[_0x5602b2(0x1cc)](_0xa3cad5),_0x57baab[_0x5602b2(0x1ba)](0x1f4)[_0x5602b2(0x180)]({'success':![],'message':_0xa3cad5['message']||_0xa3cad5});}}),apps[a0_0x7d6a42(0x1b2)]('/api/upd_ranzirostore_akunml/:id',async(_0x10750a,_0xe17715)=>{const _0x1e3ea9=a0_0x7d6a42;try{const {id:_0xafa7b1}=_0x10750a['params'],_0x20ffe5=_0x10750a[_0x1e3ea9(0x200)]||{};_0x20ffe5[_0x1e3ea9(0x1ba)]!==undefined&&(typeof _0x20ffe5[_0x1e3ea9(0x1ba)]===_0x1e3ea9(0x186)?_0x20ffe5[_0x1e3ea9(0x1ba)]=![_0x1e3ea9(0x16e),_0x1e3ea9(0x19a),'0'][_0x1e3ea9(0x19f)](_0x20ffe5[_0x1e3ea9(0x1ba)][_0x1e3ea9(0x17b)]()):_0x20ffe5['status']=Boolean(_0x20ffe5['status']));delete _0x20ffe5['id'];const {data:_0x960083,error:_0x409e29}=await supabase['from'](_0x1e3ea9(0x1ce))[_0x1e3ea9(0x1b3)]({..._0x20ffe5,'updated_at':new Date()})['eq']('id',_0xafa7b1)[_0x1e3ea9(0x14e)]();if(_0x409e29)throw _0x409e29;_0xe17715[_0x1e3ea9(0x180)]({'success':!![],'data':_0x960083});}catch(_0xf418b3){console[_0x1e3ea9(0x1cc)](_0xf418b3),_0xe17715['status'](0x1f4)[_0x1e3ea9(0x180)]({'success':![],'message':_0xf418b3[_0x1e3ea9(0x1ab)]||_0xf418b3});}}),apps['delete'](a0_0x7d6a42(0x201),async(_0x1203db,_0x3322fe)=>{const _0x4d24f4=a0_0x7d6a42;try{const {id:_0x34487d}=_0x1203db[_0x4d24f4(0x1d6)],{data:_0x1d4a58,error:_0x1f7051}=await supabase[_0x4d24f4(0x194)](_0x4d24f4(0x1ce))[_0x4d24f4(0x14e)]('gambars')['eq']('id',_0x34487d)[_0x4d24f4(0x1ad)]();if(_0x1f7051)throw _0x1f7051;const _0x589431=(_0x1d4a58[_0x4d24f4(0x1ef)]||[])[_0x4d24f4(0x1e7)](_0x96cace=>_0x96cace[_0x4d24f4(0x1ec)]('/')[_0x4d24f4(0x197)]())[_0x4d24f4(0x16b)](Boolean);if(_0x589431[_0x4d24f4(0x1fd)]){const {error:_0xb759d0}=await supabase[_0x4d24f4(0x19d)]['from'](_0x4d24f4(0x172))[_0x4d24f4(0x20e)](_0x589431);if(_0xb759d0)throw _0xb759d0;}const {data:_0x30d4e2,error:_0x32c397}=await supabase[_0x4d24f4(0x194)](_0x4d24f4(0x1ce))['delete']()['eq']('id',_0x34487d);if(_0x32c397)throw _0x32c397;_0x3322fe[_0x4d24f4(0x180)]({'success':!![],'data':_0x30d4e2});}catch(_0x1568d4){console[_0x4d24f4(0x1cc)](_0x1568d4),_0x3322fe['status'](0x1f4)[_0x4d24f4(0x180)]({'success':![],'message':_0x1568d4[_0x4d24f4(0x1ab)]||_0x1568d4});}}),apps[a0_0x7d6a42(0x1fc)]('trust\x20proxy',0x1);const spaRoutes={'/id-id':'index.html','/id-id/*':a0_0x7d6a42(0x149),'/login':a0_0x7d6a42(0x15f),'/admin':a0_0x7d6a42(0x1e4),'/akun':a0_0x7d6a42(0x1c0),'/akun/*':a0_0x7d6a42(0x1c0)};function a0_0x3e8d(_0x1a8910,_0xd8cdf1){const _0x9e7076=a0_0x31ef();return a0_0x3e8d=function(_0x47921b,_0x554c89){_0x47921b=_0x47921b-0x132;let _0x425b8c=_0x9e7076[_0x47921b];if(a0_0x3e8d['FqMfZj']===undefined){var _0x55c6a3=function(_0x3e8d24){const _0x1e8a03='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x250174='',_0x37d4bc='',_0x2cb13e=_0x250174+_0x55c6a3;for(let _0x33649d=0x0,_0x2bb7f6,_0x48eb93,_0x5575d0=0x0;_0x48eb93=_0x3e8d24['charAt'](_0x5575d0++);~_0x48eb93&&(_0x2bb7f6=_0x33649d%0x4?_0x2bb7f6*0x40+_0x48eb93:_0x48eb93,_0x33649d++%0x4)?_0x250174+=_0x2cb13e['charCodeAt'](_0x5575d0+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2bb7f6>>(-0x2*_0x33649d&0x6)):_0x33649d:0x0){_0x48eb93=_0x1e8a03['indexOf'](_0x48eb93);}for(let _0x429914=0x0,_0x24b3ee=_0x250174['length'];_0x429914<_0x24b3ee;_0x429914++){_0x37d4bc+='%'+('00'+_0x250174['charCodeAt'](_0x429914)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x37d4bc);};a0_0x3e8d['neTiIN']=_0x55c6a3,_0x1a8910=arguments,a0_0x3e8d['FqMfZj']=!![];}const _0x42a9c3=_0x9e7076[0x0],_0x5303b0=_0x47921b+_0x42a9c3,_0x31ef7c=_0x1a8910[_0x5303b0];if(!_0x31ef7c){const _0x5503e5=function(_0x5dd8ac){this['wOhezp']=_0x5dd8ac,this['XErdSd']=[0x1,0x0,0x0],this['ckQqPa']=function(){return'newState';},this['nAWIUF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['spBQnU']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5503e5['prototype']['KlOftW']=function(){const _0x6f932d=new RegExp(this['nAWIUF']+this['spBQnU']),_0x198b45=_0x6f932d['test'](this['ckQqPa']['toString']())?--this['XErdSd'][0x1]:--this['XErdSd'][0x0];return this['zwDNWZ'](_0x198b45);},_0x5503e5['prototype']['zwDNWZ']=function(_0xcc1e3){if(!Boolean(~_0xcc1e3))return _0xcc1e3;return this['aOFXuh'](this['wOhezp']);},_0x5503e5['prototype']['aOFXuh']=function(_0x108e2f){for(let _0x4a2aa7=0x0,_0x4ef04e=this['XErdSd']['length'];_0x4a2aa7<_0x4ef04e;_0x4a2aa7++){this['XErdSd']['push'](Math['round'](Math['random']())),_0x4ef04e=this['XErdSd']['length'];}return _0x108e2f(this['XErdSd'][0x0]);},new _0x5503e5(a0_0x3e8d)['KlOftW'](),_0x425b8c=a0_0x3e8d['neTiIN'](_0x425b8c),_0x1a8910[_0x5303b0]=_0x425b8c;}else _0x425b8c=_0x31ef7c;return _0x425b8c;},a0_0x3e8d(_0x1a8910,_0xd8cdf1);}function sendPublicFile(_0x1d2e01,_0x3d3b54){const _0xd347f=a0_0x7d6a42,_0xf6c888=path[_0xd347f(0x159)](__dirname,'public',_0x3d3b54);return fs[_0xd347f(0x1fa)](_0xf6c888)?_0x1d2e01['sendFile'](_0xf6c888):_0x1d2e01['status'](0x194)['send'](_0xd347f(0x1f0));}Object[a0_0x7d6a42(0x1d7)](spaRoutes)[a0_0x7d6a42(0x1f2)](_0x2da9d9=>{const _0x34033c=a0_0x7d6a42;apps[_0x34033c(0x1cf)](_0x2da9d9,(_0xedb5a9,_0x595300)=>{const _0x56149b=_0x34033c;return _0x595300[_0x56149b(0x1fc)](_0x56149b(0x1ff),'Origin'),sendPublicFile(_0x595300,spaRoutes[_0x2da9d9]);});});const port=process[a0_0x7d6a42(0x1d1)][a0_0x7d6a42(0x1ae)]||0x849;apps[a0_0x7d6a42(0x20d)](port,()=>{const _0x13a32b=a0_0x7d6a42;console[_0x13a32b(0x1cb)](_0x13a32b(0x1b8)+port);});