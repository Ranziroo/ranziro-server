const a0_0x4dfdce=a0_0x30f4;(function(_0x4ee621,_0x337a2e){const _0x3f1609=a0_0x30f4,_0x8516a0=_0x4ee621();while(!![]){try{const _0x223f1c=-parseInt(_0x3f1609(0x20b))/0x1*(parseInt(_0x3f1609(0x18f))/0x2)+-parseInt(_0x3f1609(0x166))/0x3+-parseInt(_0x3f1609(0x156))/0x4+-parseInt(_0x3f1609(0x19b))/0x5+-parseInt(_0x3f1609(0x185))/0x6+-parseInt(_0x3f1609(0x198))/0x7+parseInt(_0x3f1609(0x1f5))/0x8;if(_0x223f1c===_0x337a2e)break;else _0x8516a0['push'](_0x8516a0['shift']());}catch(_0x3527b4){_0x8516a0['push'](_0x8516a0['shift']());}}}(a0_0x78ad,0xa1364));const a0_0x119a6c=(function(){let _0x95531a=!![];return function(_0xb8b0fe,_0x448734){const _0x32934f=_0x95531a?function(){const _0xb98ec8=a0_0x30f4;if(_0x448734){const _0x74db8c=_0x448734[_0xb98ec8(0x173)](_0xb8b0fe,arguments);return _0x448734=null,_0x74db8c;}}:function(){};return _0x95531a=![],_0x32934f;};}()),a0_0x2c3e52=a0_0x119a6c(this,function(){const _0x54cc96=a0_0x30f4;return a0_0x2c3e52[_0x54cc96(0x1da)]()['search'](_0x54cc96(0x159))[_0x54cc96(0x1da)]()[_0x54cc96(0x1b8)](a0_0x2c3e52)[_0x54cc96(0x1e6)](_0x54cc96(0x159));});a0_0x2c3e52();const a0_0x4ae0e4=(function(){let _0x2feb63=!![];return function(_0xe264a7,_0x4b4347){const _0xa140dc=_0x2feb63?function(){if(_0x4b4347){const _0x4bf15e=_0x4b4347['apply'](_0xe264a7,arguments);return _0x4b4347=null,_0x4bf15e;}}:function(){};return _0x2feb63=![],_0xa140dc;};}()),a0_0x5550e4=a0_0x4ae0e4(this,function(){const _0x503aa2=a0_0x30f4;let _0x4723da;try{const _0x2228b5=Function('return\x20(function()\x20'+_0x503aa2(0x203)+');');_0x4723da=_0x2228b5();}catch(_0x5132bd){_0x4723da=window;}const _0x259f0f=_0x4723da[_0x503aa2(0x1b6)]=_0x4723da[_0x503aa2(0x1b6)]||{},_0x4f75b8=[_0x503aa2(0x1fc),_0x503aa2(0x1ee),'info',_0x503aa2(0x15f),_0x503aa2(0x186),_0x503aa2(0x1ef),'trace'];for(let _0x1a28ae=0x0;_0x1a28ae<_0x4f75b8[_0x503aa2(0x1c1)];_0x1a28ae++){const _0x338dcd=a0_0x4ae0e4[_0x503aa2(0x1b8)][_0x503aa2(0x16b)][_0x503aa2(0x1e1)](a0_0x4ae0e4),_0x3c7c2e=_0x4f75b8[_0x1a28ae],_0x17b4f1=_0x259f0f[_0x3c7c2e]||_0x338dcd;_0x338dcd[_0x503aa2(0x1f3)]=a0_0x4ae0e4['bind'](a0_0x4ae0e4),_0x338dcd[_0x503aa2(0x1da)]=_0x17b4f1[_0x503aa2(0x1da)][_0x503aa2(0x1e1)](_0x17b4f1),_0x259f0f[_0x3c7c2e]=_0x338dcd;}});a0_0x5550e4(),require(a0_0x4dfdce(0x1de))[a0_0x4dfdce(0x187)]();const express=require(a0_0x4dfdce(0x19f)),apps=express(),{createClient}=require(a0_0x4dfdce(0x1b3)),crypto=require('crypto'),cors=require(a0_0x4dfdce(0x162)),path=require(a0_0x4dfdce(0x15d)),bodyParser=require(a0_0x4dfdce(0x1df)),multer=require('multer'),fs=require('fs'),cookieParser=require(a0_0x4dfdce(0x1d1)),bcrypt=require('bcrypt'),uploadsDir=path[a0_0x4dfdce(0x192)](__dirname,a0_0x4dfdce(0x1fa));!fs[a0_0x4dfdce(0x170)](uploadsDir)&&fs[a0_0x4dfdce(0x19c)](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=['https://ranziro-server-production.up.railway.app/',a0_0x4dfdce(0x164),a0_0x4dfdce(0x1ae)];function a0_0x78ad(){const _0x99458e=['iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMrLC2nYAxb0Aw9UiIbJB250zw50psi','u1vqqujbu0vFs0vz','Aw5Zzxj0','ANnVBG','l2fWAs91CgrFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','pc9OzwfKpG','Ahr0CdOVl2XVy2fSAg9ZDdOYmtiX','CMvTB3zL','AwqGzgfUihvYBcbKAxbLCMX1A2fU','CM91DgvY','C3rYAw5N','qhn1CgfIyxnLl3n1CgfIyxnLlwPZ','DxbKyxrL','BwfW','y29UC29Szq','z2fTyMfY','y29UC3rYDwn0B3i','Dg9mB3DLCKnHC2u','AgfZAa','Bgf4','cJWVAgvHzd4','zgf0yq','jImZotS','CgfZC3DVCMrFAgfZAa','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','BgvUz3rO','iIaVpGOGicaG','C2vSzwn0','l2fWAs91CgXVywrFAw1Hz2vZlZPPza','zNvUy3rPB24','DhjPBq','C2LUz2XL','ChvIBgLJvxjS','q2fJAguTq29UDhjVBa','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','ywT1BL9TBc5ODg1S','ChjVzhvJDgLVBG','sw50zxjUywWGzxjYB3i','Ahr0Ca','l2fWAs9SB2DPBG','rxjYB3iGCMvXDwLYAw5Nic4VCM91DgvZl3jVDxrZzxmZmdq4mZO','y29VA2LLlxbHCNnLCG','C29Sza','CgfYyw1Z','4PYfiefKBwLUihvZzxiGy3jLyxrLzcbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBIaOCgfZC3DVCMqGAgfZAcbZDg9YzwqPlG','DxbSB2fK','rgv0ywLSigfRDw4Gtw9IAwXLieXLz2vUzhmGzgKGuMfUEMLYBYbtDg9Yzq','zMLSDgvY','q29UDgvUDc1uExbL','C3bSAxq','Dg9tDhjPBMC','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','zxHWAxjLC0f0','zg90zw52','yM9KEs1WyxjZzxi','BMfTyq','yMLUza','sw52ywXPzcbJCMvKzw50AwfSCW','zMLSzxm','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','oI8V','C2vHCMnO','BM93','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','l2HLywX0Aa','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','yxjYyxK','CMfUEMLYB3n0B3jLx2fRDw5TBa','CMvTB3zLrxjY','D2fYBG','DgfIBgu','B3jKzxiGAgfYDxmGyxjYyxKGvvjm','B3jKzxi','AgfSzG','x19WCM90B19F','Aw5JBhvKzxm','mJK1nJu0ndbLtKjxt2W','ywrTAw4','CMvHzezPBgvtEw5J','z2v0uhvIBgLJvxjS','ywnJB3vUDf9Pza','DxbSB2fKCW','C2v0','Bg9N','u1vqqujbu0vFvvjm','ywrTAw5FC2vZC2LVBG','CgfZC3DVCMq','jMX0oW','DxjSzw5JB2rLza','DxrMoa','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','y2XLyxjdB29RAwu','tM8GCgfZC3DVCMrFAgfZAcbMB3vUzcbMB3iGywrTAw4GCM93lG','4PQG77Ipifnvuefcqvnfx1vstcbHDgf1ifnvuefcqvnfx0Tfwsb0AwrHAYbKAxrLBxvRyw4GzgKGlMvUDI4GugfZDgLRyw4GDMfYAwfIzwWGzw52igrPC2v0igPPA2eGBwvUz2D1BMfRyw4Gu3vWywjHC2uU','zgvSzxrL','tM90igf1DgHVCML6zwq','u2vZC2LVBIbLEhbPCMvK','B3jPz2LUywXUyw1L','mJC3mZC4DMXSqxfT','DxnL','Aw5KzxHpzG','AgfUzgXL','mZK4nti0EvzTvxvS','z2fTyMfYCW','CxvLCNK','kcGOlISPkYKRksSK','DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','C3rHy2S','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','Cgf0Aa','ChjVDg9JB2W','zxjYB3i','y3jLyxrLuMvHzfn0CMvHBq','zNjVBq','y29YCW','AwXPA2u','Ahr0Chm6lY9Yyw56AxjVC3rVCMuUDMvYy2vSlMfWCa','zw52','mtyWnJK5mK5juvLyua','DxnLCM5HBwu','BgLTAxq','tM90igfSBg93zwqGyNKGq09suW','zMfSC2u','ChjVDg90ExbL','z2v0','rvjsic9HA3vUig1LDgeGAw5Qzwn0','B3jPz2LUywXvCMW','jMfTCdS','zxHPC3rZu3LUyW','jMD0oW','y29VA2LLCW','yxbWBhK','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','Bwf5yMvtAw5NBgu','C3rHDhvZ','AwrFywT1BG','y29VA2LL','Cg9ZDa','BwvZC2fNzq','zxH0BMfTzq','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6Aw1Hz2uIignVBNrLBNq9iG','tK9erv9ftLy','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','Chv0','CMfUzg9TqNL0zxm','C3rHCNrZv2L0Aa','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','4PQG77IpihbHz2vZuM91DgvYig5VDcbMB3vUzc4GugfZDgLRyw4GlI9YB3v0zxmVCM91DhnLCZmWndGZlM1PBI5QCYbTzw5NzwTZCg9Yigv4ChjLC3mUuM91DgvYkcK','nZm2mJGXmgnvuuLyDW','zxHJzxb0Aw9U','y29UzMLN','ywT1BL8','C2vUzezPBgu','lI9YB3v0zxmVCM91DhnLCZmWndGZ','qurnsu5FufC','yM9KEq','CMfUzg9T','l2fWAs9HA3vUx2rLDgfPBc86Awq','mKnjqw55vW','mtbTyG','CMvWBgfJzq','AM9PBG','zgvZA3jPChnP','l2fRDw4','DxnLCG','C2vUza','y29TCgfYzq','ndi5nZiWovHYt2Pquq','l2fWAs9KzwXFAw1Hz2u','ChvIBgLJ','mtqWodmWnvPPCu12Dq','BwTKAxjtEw5J','Ag9ZDa','Cg9W','zxHWCMvZCW','l2fWAs9SB2DVDxq','rvjsic9HCgKVBg9NB3v0','C3rVCMfNzq','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','ue9sva','C2XPy2u','AxnbCNjHEq','cIaGicaGidXTzxrHihbYB3bLCNr5psjVzZP0ExbLiIbJB250zw50psj3zwjZAxrLiIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DgL0BguIignVBNrLBNq9iG'];a0_0x78ad=function(){return _0x99458e;};return a0_0x78ad();}apps[a0_0x4dfdce(0x20c)](cors({'origin':function(_0x3e84f9,_0x3bbdaa){const _0x37675d=a0_0x4dfdce;!_0x3e84f9||allowedOrigins[_0x37675d(0x1f4)](_0x3e84f9)?_0x3bbdaa(null,!![]):_0x3bbdaa(new Error(_0x37675d(0x169)));},'credentials':!![]})),apps[a0_0x4dfdce(0x20c)]((_0x4763e6,_0x2eee9d,_0x8fe10c)=>{const _0x35eae1=a0_0x4dfdce;_0x2eee9d[_0x35eae1(0x1fb)](_0x35eae1(0x1c9),'no-store'),_0x8fe10c();}),apps['use'](bodyParser['json']({'limit':a0_0x4dfdce(0x190)})),apps[a0_0x4dfdce(0x20c)](bodyParser[a0_0x4dfdce(0x201)]({'extended':!![],'limit':a0_0x4dfdce(0x190)})),apps[a0_0x4dfdce(0x20c)](cookieParser()),apps['use'](express['static'](path[a0_0x4dfdce(0x192)](__dirname,a0_0x4dfdce(0x19a))));(!process[a0_0x4dfdce(0x165)][a0_0x4dfdce(0x1fd)]||!process[a0_0x4dfdce(0x165)][a0_0x4dfdce(0x1a9)])&&console['warn'](a0_0x4dfdce(0x206));const supabase=createClient(process[a0_0x4dfdce(0x165)][a0_0x4dfdce(0x1fd)]||'',process[a0_0x4dfdce(0x165)]['SUPABASE_KEY']||'');let pagesRouter=null;try{const pagesModule=require(a0_0x4dfdce(0x18a));if(pagesModule){if(typeof pagesModule===a0_0x4dfdce(0x1c5)||typeof pagesModule[a0_0x4dfdce(0x20e)]===a0_0x4dfdce(0x1c5))pagesRouter=pagesModule;else pagesModule[a0_0x4dfdce(0x1b1)]&&(pagesRouter=pagesModule['router']);}}catch(a0_0x25caf3){console['error'](a0_0x4dfdce(0x1d0),a0_0x25caf3&&a0_0x25caf3[a0_0x4dfdce(0x15b)]?a0_0x25caf3[a0_0x4dfdce(0x15b)]:a0_0x25caf3);}pagesRouter?(apps['use']('/',pagesRouter),console[a0_0x4dfdce(0x1fc)]('âœ…\x20pagesRouter\x20mounted\x20from\x20./routes/routses30483')):console['warn'](a0_0x4dfdce(0x184));const sessions=new Map();function genToken(){const _0x2b4609=a0_0x4dfdce;return crypto[_0x2b4609(0x181)](0x20)[_0x2b4609(0x1da)]('hex');}setInterval(()=>{const _0x193ae3=a0_0x4dfdce,_0xd4876a=Date[_0x193ae3(0x1e7)]();for(const [_0x224888,_0x1490eb]of sessions['entries']()){if(!_0x1490eb||_0x1490eb[_0x193ae3(0x1dd)]<=_0xd4876a)sessions[_0x193ae3(0x207)](_0x224888);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x1e8635,_0x65e91d,_0x20129b){const _0x2281bd=a0_0x4dfdce;try{const _0x3e96e6=_0x1e8635['cookies']&&_0x1e8635['cookies'][_0x2281bd(0x1fe)];if(!_0x3e96e6)return _0x65e91d['status'](0x191)[_0x2281bd(0x1ab)]({'success':![],'message':'Not\x20authorized'});const _0x11b610=sessions['get'](_0x3e96e6);if(!_0x11b610)return _0x65e91d[_0x2281bd(0x204)](_0x2281bd(0x1fe)),_0x65e91d[_0x2281bd(0x176)](0x191)[_0x2281bd(0x1ab)]({'success':![],'message':'Not\x20authorized'});if(Date[_0x2281bd(0x1e7)]()>_0x11b610['expiresAt'])return sessions[_0x2281bd(0x207)](_0x3e96e6),_0x65e91d['clearCookie']('admin_session'),_0x65e91d[_0x2281bd(0x176)](0x191)[_0x2281bd(0x1ab)]({'success':![],'message':_0x2281bd(0x209)});_0x1e8635[_0x2281bd(0x195)]=_0x11b610[_0x2281bd(0x195)],_0x20129b();}catch(_0x3387be){return _0x65e91d[_0x2281bd(0x176)](0x191)[_0x2281bd(0x1ab)]({'success':![],'message':_0x2281bd(0x208)});}}async function ensureAdminExists(){const _0x2cdcb8=a0_0x4dfdce;try{let _0x354801;try{const _0x44007b=await supabase[_0x2cdcb8(0x161)](_0x2cdcb8(0x183))['select']('*')['eq'](_0x2cdcb8(0x167),_0x2cdcb8(0x1f6))[_0x2cdcb8(0x168)](0x1)[_0x2cdcb8(0x175)]();_0x354801=_0x44007b&&_0x44007b[_0x2cdcb8(0x1bd)]!==undefined?_0x44007b[_0x2cdcb8(0x1bd)]:_0x44007b;}catch(_0x393e1d){const _0x2c7d7d=await supabase[_0x2cdcb8(0x161)](_0x2cdcb8(0x183))[_0x2cdcb8(0x1c3)]('*')['eq'](_0x2cdcb8(0x167),_0x2cdcb8(0x1f6))['limit'](0x1);_0x354801=_0x2c7d7d&&_0x2c7d7d[_0x2cdcb8(0x1bd)]&&_0x2c7d7d['data'][_0x2cdcb8(0x1c1)]?_0x2c7d7d['data'][0x0]:null;}if(_0x354801){console[_0x2cdcb8(0x1fc)](_0x2cdcb8(0x15c));return;}const _0x13094a=process[_0x2cdcb8(0x165)][_0x2cdcb8(0x18b)];if(!_0x13094a){console[_0x2cdcb8(0x1ee)]('âš ï¸\x20ADMIN_PW\x20not\x20set\x20in\x20env.\x20Skipping\x20creating\x20admin\x20user.\x20Set\x20ADMIN_PW\x20to\x20auto-create\x20admin\x20at\x20startup.');return;}const _0x55b38d=0xc,_0x44c855=await bcrypt[_0x2cdcb8(0x1ba)](String(_0x13094a),_0x55b38d),{data:_0x5d8c5b,error:_0x384c2b}=await supabase['from']('ranzirostore_loginadmin')['insert']([{'username':_0x2cdcb8(0x1f6),'password_hash':_0x44c855,'role':_0x2cdcb8(0x1f6),'created_at':new Date()}])['select']();_0x384c2b?console[_0x2cdcb8(0x15f)](_0x2cdcb8(0x174),_0x384c2b):console[_0x2cdcb8(0x1fc)](_0x2cdcb8(0x1d4));}catch(_0x4f2c45){console[_0x2cdcb8(0x15f)]('ensureAdminExists\x20error:',_0x4f2c45&&_0x4f2c45[_0x2cdcb8(0x15b)]?_0x4f2c45[_0x2cdcb8(0x15b)]:_0x4f2c45);}}ensureAdminExists()['catch'](_0x468eae=>console['error'](a0_0x4dfdce(0x1ca),_0x468eae)),apps[a0_0x4dfdce(0x179)](a0_0x4dfdce(0x1cf),async(_0x5c620d,_0x3d75e5)=>{const _0x4a2073=a0_0x4dfdce;try{const {username:_0x38b23d,password:_0x23acc6}=_0x5c620d[_0x4a2073(0x18c)]||{};if(!_0x38b23d||!_0x23acc6)return _0x3d75e5[_0x4a2073(0x176)](0x190)['json']({'success':![],'message':_0x4a2073(0x15a)});if(String(_0x38b23d)[_0x4a2073(0x1b9)]()!==_0x4a2073(0x1f6))return _0x3d75e5[_0x4a2073(0x176)](0x191)[_0x4a2073(0x1ab)]({'success':![],'message':_0x4a2073(0x1e2)});const {data:_0x5e09c7,error:_0x51aa1d}=await supabase['from']('ranzirostore_loginadmin')[_0x4a2073(0x1c3)]('*')['eq'](_0x4a2073(0x167),_0x4a2073(0x1f6))['limit'](0x1)['maybeSingle']();if(_0x51aa1d)return console[_0x4a2073(0x1ee)](_0x4a2073(0x1c0),_0x51aa1d),_0x3d75e5[_0x4a2073(0x176)](0x1f4)[_0x4a2073(0x1ab)]({'success':![],'message':_0x4a2073(0x1cd)});if(!_0x5e09c7)return _0x3d75e5[_0x4a2073(0x176)](0x191)['json']({'success':![],'message':_0x4a2073(0x1e2)});const _0x375661=String(_0x5e09c7[_0x4a2073(0x1bf)]||_0x5e09c7[_0x4a2073(0x1ff)]||'')[_0x4a2073(0x1c6)]();if(!_0x375661)return console[_0x4a2073(0x15f)](_0x4a2073(0x205)),_0x3d75e5['status'](0x1f4)[_0x4a2073(0x1ab)]({'success':![],'message':'Server\x20misconfigured'});const _0x530532=await bcrypt[_0x4a2073(0x197)](String(_0x23acc6),_0x375661);if(!_0x530532)return _0x3d75e5[_0x4a2073(0x176)](0x191)[_0x4a2073(0x1ab)]({'success':![],'message':_0x4a2073(0x1e2)});const _0x4007e3=genToken(),_0x2b18c5=Date[_0x4a2073(0x1e7)]()+0x18*0x3c*0x3c*0x3e8;sessions[_0x4a2073(0x1fb)](_0x4007e3,{'user':_0x4a2073(0x1f6),'expiresAt':_0x2b18c5});const _0x39559a={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':_0x4a2073(0x1bb),'path':'/'};if(process['env'][_0x4a2073(0x17e)]===_0x4a2073(0x1cc))_0x39559a['secure']=!![];_0x3d75e5[_0x4a2073(0x178)](_0x4a2073(0x1fe),_0x4007e3,_0x39559a);try{await supabase[_0x4a2073(0x161)](_0x4a2073(0x183))[_0x4a2073(0x1b4)]({'last_login':new Date()})['eq'](_0x4a2073(0x167),'admin');}catch(_0x1d93c3){console['warn']('Could\x20not\x20write\x20last_login:',_0x1d93c3);}return _0x3d75e5['json']({'success':!![]});}catch(_0x1512c7){return console[_0x4a2073(0x15f)]('ERR\x20/api/login',_0x1512c7&&_0x1512c7[_0x4a2073(0x15b)]?_0x1512c7[_0x4a2073(0x15b)]:_0x1512c7),_0x3d75e5[_0x4a2073(0x176)](0x1f4)[_0x4a2073(0x1ab)]({'success':![],'message':_0x4a2073(0x1cd)});}}),apps['post'](a0_0x4dfdce(0x1a0),(_0x13911d,_0x78f91e)=>{const _0x2459fe=a0_0x4dfdce;try{const _0x1dd3ae=_0x13911d[_0x2459fe(0x172)]&&_0x13911d[_0x2459fe(0x172)][_0x2459fe(0x1fe)];if(_0x1dd3ae)sessions[_0x2459fe(0x207)](_0x1dd3ae);return _0x78f91e[_0x2459fe(0x204)]('admin_session',{'path':'/'}),_0x78f91e['json']({'success':!![]});}catch(_0x41608a){return console[_0x2459fe(0x15f)](_0x2459fe(0x1a1),_0x41608a),_0x78f91e[_0x2459fe(0x176)](0x1f4)['json']({'success':![],'message':_0x2459fe(0x1cd)});}}),apps['get']('/api/check-session',requireAdmin,(_0x5bef0d,_0x466eb4)=>{const _0x1871d5=a0_0x4dfdce;_0x466eb4[_0x1871d5(0x1ab)]({'success':!![],'user':_0x5bef0d[_0x1871d5(0x195)]});});const escapeHtml=(_0xd870aa='')=>String(_0xd870aa)[a0_0x4dfdce(0x191)](/[&<>"']/g,_0x34d899=>({'&':a0_0x4dfdce(0x16f),'<':a0_0x4dfdce(0x200),'>':a0_0x4dfdce(0x171),'\x22':'&quot;','\x27':a0_0x4dfdce(0x1be)}[_0x34d899]));function a0_0x30f4(_0x2b9dac,_0x5507a6){const _0xed5f93=a0_0x78ad();return a0_0x30f4=function(_0x5550e4,_0x4ae0e4){_0x5550e4=_0x5550e4-0x156;let _0x20f8bf=_0xed5f93[_0x5550e4];if(a0_0x30f4['EIhaRG']===undefined){var _0x261424=function(_0x30f429){const _0xe5fe0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4eb9d9='',_0x5c560d='',_0x409d79=_0x4eb9d9+_0x261424;for(let _0x551fdb=0x0,_0x22fd3f,_0x95531a,_0xb8b0fe=0x0;_0x95531a=_0x30f429['charAt'](_0xb8b0fe++);~_0x95531a&&(_0x22fd3f=_0x551fdb%0x4?_0x22fd3f*0x40+_0x95531a:_0x95531a,_0x551fdb++%0x4)?_0x4eb9d9+=_0x409d79['charCodeAt'](_0xb8b0fe+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x22fd3f>>(-0x2*_0x551fdb&0x6)):_0x551fdb:0x0){_0x95531a=_0xe5fe0['indexOf'](_0x95531a);}for(let _0x448734=0x0,_0x32934f=_0x4eb9d9['length'];_0x448734<_0x32934f;_0x448734++){_0x5c560d+='%'+('00'+_0x4eb9d9['charCodeAt'](_0x448734)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c560d);};a0_0x30f4['jJHuiT']=_0x261424,_0x2b9dac=arguments,a0_0x30f4['EIhaRG']=!![];}const _0x2c3e52=_0xed5f93[0x0],_0x119a6c=_0x5550e4+_0x2c3e52,_0x78ad68=_0x2b9dac[_0x119a6c];if(!_0x78ad68){const _0x74db8c=function(_0x2feb63){this['irtnYa']=_0x2feb63,this['eqRHbN']=[0x1,0x0,0x0],this['IRKJWL']=function(){return'newState';},this['ANXxRY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BbgnpV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x74db8c['prototype']['bMmNHr']=function(){const _0xe264a7=new RegExp(this['ANXxRY']+this['BbgnpV']),_0x4b4347=_0xe264a7['test'](this['IRKJWL']['toString']())?--this['eqRHbN'][0x1]:--this['eqRHbN'][0x0];return this['sXLymY'](_0x4b4347);},_0x74db8c['prototype']['sXLymY']=function(_0xa140dc){if(!Boolean(~_0xa140dc))return _0xa140dc;return this['mWKqsg'](this['irtnYa']);},_0x74db8c['prototype']['mWKqsg']=function(_0x4bf15e){for(let _0x4723da=0x0,_0x259f0f=this['eqRHbN']['length'];_0x4723da<_0x259f0f;_0x4723da++){this['eqRHbN']['push'](Math['round'](Math['random']())),_0x259f0f=this['eqRHbN']['length'];}return _0x4bf15e(this['eqRHbN'][0x0]);},new _0x74db8c(a0_0x30f4)['bMmNHr'](),_0x20f8bf=a0_0x30f4['jJHuiT'](_0x20f8bf),_0x2b9dac[_0x119a6c]=_0x20f8bf;}else _0x20f8bf=_0x78ad68;return _0x20f8bf;},a0_0x30f4(_0x2b9dac,_0x5507a6);}apps['get'](a0_0x4dfdce(0x194),async(_0x81048e,_0x2dac07)=>{const _0xcd31cf=a0_0x4dfdce;try{const _0x228df4=path[_0xcd31cf(0x192)](__dirname,_0xcd31cf(0x19a),'akun_ml.html');if(!fs[_0xcd31cf(0x170)](_0x228df4))return _0x2dac07['status'](0x194)[_0xcd31cf(0x196)]('Not\x20found');let _0x4879c3=fs[_0xcd31cf(0x1f7)](_0x228df4,_0xcd31cf(0x202));const _0x321e29=_0x81048e[_0xcd31cf(0x15e)]+_0xcd31cf(0x1e5)+_0x81048e[_0xcd31cf(0x16c)](_0xcd31cf(0x19d));let _0x4ee0c2=_0x321e29+'https://lzycriwqrcqbiijtiipa.supabase.co/storage/v1/object/public/gambar/logo/meta_ranziro.webp',_0x47fe3e='Ranziro\x20Store\x20-\x20Detail\x20Akun',_0x2c95a9=_0xcd31cf(0x1d6);const _0x348603=_0x81048e['query']['id']||_0x81048e[_0xcd31cf(0x158)][_0xcd31cf(0x177)]||_0x81048e[_0xcd31cf(0x158)][_0xcd31cf(0x1f9)],_0x5ea81c=_0x81048e[_0xcd31cf(0x158)]['nama']||_0x81048e[_0xcd31cf(0x158)]['name'];if(_0x348603){const {data:_0x34f911,error:_0x5549b2}=await supabase[_0xcd31cf(0x161)]('ranzirostore_akunml')[_0xcd31cf(0x1c3)]('*')['eq']('id',_0x348603)[_0xcd31cf(0x1c7)]();if(!_0x5549b2&&_0x34f911){const _0x2cb054=Array[_0xcd31cf(0x1a6)](_0x34f911[_0xcd31cf(0x157)])?_0x34f911['gambars']:typeof _0x34f911[_0xcd31cf(0x157)]==='string'?((()=>{const _0x20b80a=_0xcd31cf;try{return JSON['parse'](_0x34f911[_0x20b80a(0x157)]);}catch(_0x4d47af){return[];}})()):[],_0x575506=_0x2cb054&&_0x2cb054[0x0]||_0x34f911[_0xcd31cf(0x1b7)];if(_0x575506)_0x4ee0c2=_0x575506[_0xcd31cf(0x182)](_0xcd31cf(0x1ce))?_0x575506:_0x321e29+'/'+_0x575506[_0xcd31cf(0x191)](/^\//,'');_0x47fe3e=_0x34f911['nama']||_0x47fe3e,_0x2c95a9=_0x34f911[_0xcd31cf(0x193)]||_0x2c95a9;}}else{if(_0x5ea81c){const {data:_0x584999,error:_0x1f0747}=await supabase[_0xcd31cf(0x161)](_0xcd31cf(0x1ec))[_0xcd31cf(0x1c3)]('*')[_0xcd31cf(0x163)](_0xcd31cf(0x1e0),'%'+_0x5ea81c+'%')[_0xcd31cf(0x168)](0x1);if(!_0x1f0747&&Array['isArray'](_0x584999)&&_0x584999[0x0]){const _0x72238d=_0x584999[0x0],_0x4ed434=Array[_0xcd31cf(0x1a6)](_0x72238d['gambars'])?_0x72238d[_0xcd31cf(0x157)]:[],_0xa50ed1=_0x4ed434&&_0x4ed434[0x0]||_0x72238d[_0xcd31cf(0x1b7)];if(_0xa50ed1)_0x4ee0c2=_0xa50ed1['startsWith']('http')?_0xa50ed1:_0x321e29+'/'+_0xa50ed1[_0xcd31cf(0x191)](/^\//,'');_0x47fe3e=_0x72238d[_0xcd31cf(0x1e0)]||_0x47fe3e,_0x2c95a9=_0x72238d[_0xcd31cf(0x193)]||_0x2c95a9;}}}const _0x421794=_0xcd31cf(0x1a7)+escapeHtml(_0x47fe3e)+_0xcd31cf(0x1a3)+escapeHtml(_0x2c95a9)+_0xcd31cf(0x17d)+_0x4ee0c2+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:url\x22\x20content=\x22'+(_0x321e29+_0x81048e[_0xcd31cf(0x16e)])+_0xcd31cf(0x17c)+escapeHtml(_0x47fe3e)+_0xcd31cf(0x1a8)+escapeHtml(_0x2c95a9)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22twitter:image\x22\x20content=\x22'+_0x4ee0c2+_0xcd31cf(0x1c2);_0x4879c3[_0xcd31cf(0x20d)](_0xcd31cf(0x1ad))!==-0x1?_0x4879c3=_0x4879c3['replace']('</head>',_0x421794+_0xcd31cf(0x1bc)):_0x4879c3=_0x421794+'\x0a'+_0x4879c3,_0x2dac07[_0xcd31cf(0x1fb)](_0xcd31cf(0x1d8),_0xcd31cf(0x1dc)),_0x2dac07['send'](_0x4879c3);}catch(_0x5885ed){console[_0xcd31cf(0x15f)](_0xcd31cf(0x16d),_0x5885ed),_0x2dac07[_0xcd31cf(0x189)](path[_0xcd31cf(0x192)](__dirname,'public',_0xcd31cf(0x1cb)));}}),apps[a0_0x4dfdce(0x16c)](a0_0x4dfdce(0x1e9),(_0x54e4af,_0xa29633)=>{const _0x4d8f41=a0_0x4dfdce;_0xa29633[_0x4d8f41(0x1ab)]({'ok':!![],'time':new Date()['toISOString']()});}),apps['get'](a0_0x4dfdce(0x1ea),async(_0x29790f,_0x2e78c5)=>{const _0x195af5=a0_0x4dfdce;try{const {data:_0x10f141,error:_0x1636bb}=await supabase['from'](_0x195af5(0x1ec))[_0x195af5(0x1c3)]('*')[_0x195af5(0x1f1)]('id',{'ascending':![]});if(_0x1636bb)throw _0x1636bb;_0x2e78c5['json']({'success':!![],'data':_0x10f141});}catch(_0x27aa9d){console[_0x195af5(0x15f)](_0x27aa9d),_0x2e78c5[_0x195af5(0x176)](0x1f4)['json']({'success':![],'error':_0x27aa9d['message']||_0x27aa9d});}}),apps[a0_0x4dfdce(0x179)](a0_0x4dfdce(0x1db),upload[a0_0x4dfdce(0x1eb)](a0_0x4dfdce(0x1b7),0xa),async(_0x2ba472,_0x39d6e0)=>{const _0x320c93=a0_0x4dfdce;try{const {nama:_0x1e0096,harga:_0x521c8c,id_akun:_0x5f3632,deskripsi:_0x22a1df,rank:_0x50c39c,skin:_0xaaaeee,hero:_0x34ac47,winrate:_0x14127c,pertandingan:_0xec9709,magic_core:_0x532c79,emblem:_0x385cf3,pribadi_beli:_0x3aacb7,log:_0x457ff9,bind:_0x5f83d9}=_0x2ba472[_0x320c93(0x18c)],_0x2c185d=_0x2ba472['files']||[];if(!_0x1e0096||!_0x521c8c||!_0x5f3632)return _0x39d6e0['status'](0x190)[_0x320c93(0x1ab)]({'success':![],'message':'nama,\x20harga,\x20id_akun\x20wajib\x20diisi'});const _0x2120de=[];for(const _0x275c1e of _0x2c185d){const _0x10b196=path[_0x320c93(0x17b)](_0x275c1e[_0x320c93(0x20a)])||'',_0x3e1c74=_0x320c93(0x188)+Date[_0x320c93(0x1e7)]()+'_'+Math[_0x320c93(0x18d)]()[_0x320c93(0x1da)](0x24)[_0x320c93(0x1a5)](0x2)+_0x10b196,_0x3072b3=await supabase['storage'][_0x320c93(0x161)](_0x320c93(0x1b7))[_0x320c93(0x1d5)](_0x3e1c74,fs[_0x320c93(0x160)](_0x275c1e[_0x320c93(0x15d)]),{'contentType':_0x275c1e['mimetype'],'duplex':_0x320c93(0x1f2)});try{fs['unlinkSync'](_0x275c1e[_0x320c93(0x15d)]);}catch(_0x3234cc){}if(_0x3072b3[_0x320c93(0x15f)])throw _0x3072b3[_0x320c93(0x15f)];const {data:_0x17e51}=supabase[_0x320c93(0x1a2)][_0x320c93(0x161)]('gambar')[_0x320c93(0x1f8)](_0x3e1c74);_0x2120de['push'](_0x17e51[_0x320c93(0x1c8)]);}const _0x31f1d2=_0x2120de[_0x320c93(0x1c1)]?_0x2120de[0x0]:null,_0x442daa=_0x2ba472[_0x320c93(0x18c)]['status'],_0x6405ee=typeof _0x442daa===_0x320c93(0x1b2)?![_0x320c93(0x1d2),_0x320c93(0x16a),'0']['includes'](_0x442daa[_0x320c93(0x1b9)]()):Boolean(_0x442daa),{data:_0x86a696,error:_0x14d8e0}=await supabase[_0x320c93(0x161)](_0x320c93(0x1ec))[_0x320c93(0x1aa)]([{'nama':_0x1e0096,'harga':_0x521c8c,'id_akun':_0x5f3632,'deskripsi':_0x22a1df,'rank':_0x50c39c,'skin':_0xaaaeee?parseInt(_0xaaaeee):null,'hero':_0x34ac47?parseInt(_0x34ac47):null,'winrate':_0x14127c,'pertandingan':_0xec9709?parseInt(_0xec9709):null,'magic_core':_0x532c79,'emblem':_0x385cf3,'pribadi_beli':_0x3aacb7,'log':_0x457ff9,'bind':_0x5f83d9,'gambar':_0x31f1d2,'gambars':_0x2120de,'status':_0x6405ee}])[_0x320c93(0x1c3)]();if(_0x14d8e0)throw _0x14d8e0;_0x39d6e0[_0x320c93(0x176)](0xc9)[_0x320c93(0x1ab)]({'success':!![],'data':_0x86a696});}catch(_0x1df3fe){console['error'](_0x320c93(0x1e4),_0x1df3fe),_0x39d6e0['status'](0x1f4)[_0x320c93(0x1ab)]({'success':![],'message':_0x1df3fe['message']||_0x1df3fe});}}),apps[a0_0x4dfdce(0x16c)](a0_0x4dfdce(0x18e),async(_0x35ec93,_0x213971)=>{const _0x38ff45=a0_0x4dfdce;try{const {id:_0x58a9b0}=_0x35ec93[_0x38ff45(0x1d3)],{data:_0x4f1992,error:_0x5223ec}=await supabase[_0x38ff45(0x161)](_0x38ff45(0x1ec))[_0x38ff45(0x1c3)]('*')['eq']('id',_0x58a9b0)[_0x38ff45(0x1c7)]();if(_0x5223ec)throw _0x5223ec;_0x213971[_0x38ff45(0x1ab)]({'success':!![],'data':_0x4f1992});}catch(_0x11976f){console['error'](_0x11976f),_0x213971[_0x38ff45(0x176)](0x1f4)[_0x38ff45(0x1ab)]({'success':![],'message':_0x11976f[_0x38ff45(0x17a)]||_0x11976f});}}),apps[a0_0x4dfdce(0x179)](a0_0x4dfdce(0x1c4),upload[a0_0x4dfdce(0x1eb)](a0_0x4dfdce(0x1b7),0xa),async(_0xe13b59,_0x205836)=>{const _0x124c82=a0_0x4dfdce;try{const {id:_0x3bd359}=_0xe13b59[_0x124c82(0x1d3)],_0x2794b5=_0xe13b59[_0x124c82(0x1e3)]||[];if(!_0x2794b5[_0x124c82(0x1c1)])return _0x205836['status'](0x190)[_0x124c82(0x1ab)]({'success':![],'message':'Tidak\x20ada\x20file'});const {data:_0x15a109,error:_0x336568}=await supabase[_0x124c82(0x161)](_0x124c82(0x1ec))[_0x124c82(0x1c3)](_0x124c82(0x157))['eq']('id',_0x3bd359)[_0x124c82(0x1c7)]();if(_0x336568)throw _0x336568;const _0x132a70=Array['isArray'](_0x15a109[_0x124c82(0x157)])?_0x15a109[_0x124c82(0x157)]:[],_0x203d0c=[];for(const _0x447098 of _0x2794b5){const _0x4387e8=path[_0x124c82(0x17b)](_0x447098[_0x124c82(0x20a)])||'',_0x2d9add=_0x124c82(0x188)+Date[_0x124c82(0x1e7)]()+'_'+Math['random']()[_0x124c82(0x1da)](0x24)[_0x124c82(0x1a5)](0x2)+_0x4387e8,_0x33b9f3=await supabase[_0x124c82(0x1a2)]['from'](_0x124c82(0x1b7))[_0x124c82(0x1d5)](_0x2d9add,fs[_0x124c82(0x160)](_0x447098[_0x124c82(0x15d)]),{'contentType':_0x447098['mimetype'],'duplex':'half'});try{fs['unlinkSync'](_0x447098[_0x124c82(0x15d)]);}catch(_0xbd9175){}if(_0x33b9f3[_0x124c82(0x15f)])throw _0x33b9f3[_0x124c82(0x15f)];const {data:_0x4a8264}=supabase[_0x124c82(0x1a2)][_0x124c82(0x161)]('gambar')[_0x124c82(0x1f8)](_0x2d9add);_0x203d0c['push'](_0x4a8264[_0x124c82(0x1c8)]);}const _0x47905f=_0x132a70['concat'](_0x203d0c),_0x29d39b=_0x47905f[_0x124c82(0x1c1)]?_0x47905f[0x0]:null,{data:_0x61f3f3,error:_0x3271fc}=await supabase[_0x124c82(0x161)](_0x124c82(0x1ec))[_0x124c82(0x1b4)]({'gambars':_0x47905f,'gambar':_0x29d39b,'updated_at':new Date()})['eq']('id',_0x3bd359)[_0x124c82(0x1c3)]();if(_0x3271fc)throw _0x3271fc;_0x205836[_0x124c82(0x1ab)]({'success':!![],'data':_0x61f3f3});}catch(_0x4ce7b8){console[_0x124c82(0x15f)](_0x4ce7b8),_0x205836[_0x124c82(0x176)](0x1f4)[_0x124c82(0x1ab)]({'success':![],'message':_0x4ce7b8[_0x124c82(0x17a)]||_0x4ce7b8});}}),apps[a0_0x4dfdce(0x207)](a0_0x4dfdce(0x199),async(_0xc9e56a,_0x4aa0b6)=>{const _0x993817=a0_0x4dfdce;try{const {id:_0x3ba7b4,url:_0x442402}=_0xc9e56a['body'];if(!_0x3ba7b4||!_0x442402)return _0x4aa0b6[_0x993817(0x176)](0x190)['json']({'success':![],'message':_0x993817(0x1b0)});const {data:_0x4f2549,error:_0x4e3b}=await supabase[_0x993817(0x161)](_0x993817(0x1ec))[_0x993817(0x1c3)](_0x993817(0x157))['eq']('id',_0x3ba7b4)['single']();if(_0x4e3b)throw _0x4e3b;const _0x5df161=Array['isArray'](_0x4f2549['gambars'])?_0x4f2549['gambars']:[],_0x118362=_0x442402[_0x993817(0x1d9)]('/')[_0x993817(0x19e)](),{error:_0x5e32ef}=await supabase['storage'][_0x993817(0x161)](_0x993817(0x1b7))[_0x993817(0x1af)]([_0x118362]);_0x5e32ef&&console['warn'](_0x993817(0x1ed),_0x5e32ef[_0x993817(0x17a)]||_0x5e32ef);const _0x2a6ad6=_0x5df161[_0x993817(0x1d7)](_0x563225=>_0x563225!==_0x442402),_0x116ed7=_0x2a6ad6[_0x993817(0x1c1)]?_0x2a6ad6[0x0]:null,{data:_0x34438e,error:_0x3ad95f}=await supabase[_0x993817(0x161)](_0x993817(0x1ec))[_0x993817(0x1b4)]({'gambars':_0x2a6ad6,'gambar':_0x116ed7,'updated_at':new Date()})['eq']('id',_0x3ba7b4)[_0x993817(0x1c3)]();if(_0x3ad95f)throw _0x3ad95f;_0x4aa0b6[_0x993817(0x1ab)]({'success':!![],'data':_0x34438e});}catch(_0x473728){console[_0x993817(0x15f)](_0x473728),_0x4aa0b6['status'](0x1f4)['json']({'success':![],'message':_0x473728[_0x993817(0x17a)]||_0x473728});}}),apps[a0_0x4dfdce(0x207)]('/api/del_images/:id',async(_0x502c27,_0x17499d)=>{const _0x5c97a5=a0_0x4dfdce;try{const {id:_0x2c0579}=_0x502c27[_0x5c97a5(0x1d3)],{data:_0x44a41b,error:_0x57a36f}=await supabase[_0x5c97a5(0x161)](_0x5c97a5(0x1ec))[_0x5c97a5(0x1c3)](_0x5c97a5(0x157))['eq']('id',_0x2c0579)[_0x5c97a5(0x1c7)]();if(_0x57a36f)throw _0x57a36f;const _0x3d83ec=Array['isArray'](_0x44a41b[_0x5c97a5(0x157)])?_0x44a41b[_0x5c97a5(0x157)]:[],_0x33ca41=_0x3d83ec[_0x5c97a5(0x1b5)](_0x42b322=>_0x42b322[_0x5c97a5(0x1d9)]('/')[_0x5c97a5(0x19e)]())[_0x5c97a5(0x1d7)](Boolean);if(_0x33ca41['length']){const {error:_0x3ae4dd}=await supabase[_0x5c97a5(0x1a2)][_0x5c97a5(0x161)](_0x5c97a5(0x1b7))[_0x5c97a5(0x1af)](_0x33ca41);if(_0x3ae4dd)throw _0x3ae4dd;}const {data:_0x161399,error:_0x54941e}=await supabase[_0x5c97a5(0x161)](_0x5c97a5(0x1ec))['update']({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x2c0579)['select']();if(_0x54941e)throw _0x54941e;_0x17499d[_0x5c97a5(0x1ab)]({'success':!![],'data':_0x161399});}catch(_0x5c4024){console[_0x5c97a5(0x15f)](_0x5c4024),_0x17499d[_0x5c97a5(0x176)](0x1f4)[_0x5c97a5(0x1ab)]({'success':![],'message':_0x5c4024[_0x5c97a5(0x17a)]||_0x5c4024});}}),apps[a0_0x4dfdce(0x180)](a0_0x4dfdce(0x1e8),async(_0x592f0a,_0x2a9d82)=>{const _0x3a987b=a0_0x4dfdce;try{const {id:_0x335e1f}=_0x592f0a[_0x3a987b(0x1d3)],{order:_0x21346b}=_0x592f0a[_0x3a987b(0x18c)];if(!Array[_0x3a987b(0x1a6)](_0x21346b))return _0x2a9d82[_0x3a987b(0x176)](0x190)[_0x3a987b(0x1ab)]({'success':![],'message':_0x3a987b(0x1f0)});const _0x5731d4=_0x21346b[_0x3a987b(0x1c1)]?_0x21346b[0x0]:null,{data:_0x16756d,error:_0x5573e2}=await supabase[_0x3a987b(0x161)](_0x3a987b(0x1ec))[_0x3a987b(0x1b4)]({'gambars':_0x21346b,'gambar':_0x5731d4,'updated_at':new Date()})['eq']('id',_0x335e1f)[_0x3a987b(0x1c3)]();if(_0x5573e2)throw _0x5573e2;_0x2a9d82[_0x3a987b(0x1ab)]({'success':!![],'data':_0x16756d});}catch(_0x18d26e){console[_0x3a987b(0x15f)](_0x18d26e),_0x2a9d82[_0x3a987b(0x176)](0x1f4)['json']({'success':![],'message':_0x18d26e[_0x3a987b(0x17a)]||_0x18d26e});}}),apps['put'](a0_0x4dfdce(0x1ac),async(_0x567272,_0x402966)=>{const _0x3df912=a0_0x4dfdce;try{const {id:_0x1dac1f}=_0x567272['params'],_0x18cb7f=_0x567272[_0x3df912(0x18c)]||{};_0x18cb7f[_0x3df912(0x176)]!==undefined&&(typeof _0x18cb7f[_0x3df912(0x176)]===_0x3df912(0x1b2)?_0x18cb7f[_0x3df912(0x176)]=!['sold',_0x3df912(0x16a),'0']['includes'](_0x18cb7f[_0x3df912(0x176)][_0x3df912(0x1b9)]()):_0x18cb7f['status']=Boolean(_0x18cb7f[_0x3df912(0x176)]));delete _0x18cb7f['id'];const {data:_0x5bc0e0,error:_0x20bd26}=await supabase['from'](_0x3df912(0x1ec))[_0x3df912(0x1b4)]({..._0x18cb7f,'updated_at':new Date()})['eq']('id',_0x1dac1f)['select']();if(_0x20bd26)throw _0x20bd26;_0x402966['json']({'success':!![],'data':_0x5bc0e0});}catch(_0x2c4d34){console['error'](_0x2c4d34),_0x402966[_0x3df912(0x176)](0x1f4)[_0x3df912(0x1ab)]({'success':![],'message':_0x2c4d34[_0x3df912(0x17a)]||_0x2c4d34});}}),apps[a0_0x4dfdce(0x207)](a0_0x4dfdce(0x17f),async(_0x1c094a,_0x3a985e)=>{const _0x1d9c43=a0_0x4dfdce;try{const {id:_0x414326}=_0x1c094a[_0x1d9c43(0x1d3)],{data:_0x4980d0,error:_0x3696f8}=await supabase['from'](_0x1d9c43(0x1ec))[_0x1d9c43(0x1c3)](_0x1d9c43(0x157))['eq']('id',_0x414326)[_0x1d9c43(0x1c7)]();if(_0x3696f8)throw _0x3696f8;const _0x2535bc=(_0x4980d0['gambars']||[])[_0x1d9c43(0x1b5)](_0x5f4027=>_0x5f4027[_0x1d9c43(0x1d9)]('/')[_0x1d9c43(0x19e)]())[_0x1d9c43(0x1d7)](Boolean);if(_0x2535bc['length']){const {error:_0x32ab93}=await supabase['storage'][_0x1d9c43(0x161)](_0x1d9c43(0x1b7))['remove'](_0x2535bc);if(_0x32ab93)throw _0x32ab93;}const {data:_0x2fe49f,error:_0x3f2cf7}=await supabase['from']('ranzirostore_akunml')['delete']()['eq']('id',_0x414326);if(_0x3f2cf7)throw _0x3f2cf7;_0x3a985e[_0x1d9c43(0x1ab)]({'success':!![],'data':_0x2fe49f});}catch(_0x35794b){console[_0x1d9c43(0x15f)](_0x35794b),_0x3a985e[_0x1d9c43(0x176)](0x1f4)[_0x1d9c43(0x1ab)]({'success':![],'message':_0x35794b[_0x1d9c43(0x17a)]||_0x35794b});}});const port=process[a0_0x4dfdce(0x165)][a0_0x4dfdce(0x1a4)]||0x849;apps['listen'](port,()=>{console['log']('ðŸš€\x20Server\x20running\x20on\x20http://localhost:'+port);});