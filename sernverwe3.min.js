const a0_0x29e524=a0_0x4868;(function(_0x17bbe5,_0x36231e){const _0x1ac98c=a0_0x4868,_0x5a9c5c=_0x17bbe5();while(!![]){try{const _0x106d3c=parseInt(_0x1ac98c(0x202))/0x1+parseInt(_0x1ac98c(0x224))/0x2+-parseInt(_0x1ac98c(0x23f))/0x3*(-parseInt(_0x1ac98c(0x1a7))/0x4)+-parseInt(_0x1ac98c(0x20e))/0x5+parseInt(_0x1ac98c(0x212))/0x6+-parseInt(_0x1ac98c(0x1c7))/0x7+parseInt(_0x1ac98c(0x1ec))/0x8*(-parseInt(_0x1ac98c(0x1d4))/0x9);if(_0x106d3c===_0x36231e)break;else _0x5a9c5c['push'](_0x5a9c5c['shift']());}catch(_0x421bec){_0x5a9c5c['push'](_0x5a9c5c['shift']());}}}(a0_0x421f,0x405ee));const a0_0xffe3f5=(function(){let _0x4e095a=!![];return function(_0x24fc45,_0x2e484e){const _0x50fdcf=_0x4e095a?function(){if(_0x2e484e){const _0x38dba3=_0x2e484e['apply'](_0x24fc45,arguments);return _0x2e484e=null,_0x38dba3;}}:function(){};return _0x4e095a=![],_0x50fdcf;};}()),a0_0x34fa2f=a0_0xffe3f5(this,function(){const _0x5939bf=a0_0x4868;return a0_0x34fa2f[_0x5939bf(0x1d9)]()['search']('(((.+)+)+)+$')[_0x5939bf(0x1d9)]()[_0x5939bf(0x1a8)](a0_0x34fa2f)['search']('(((.+)+)+)+$');});a0_0x34fa2f();const a0_0x153c09=(function(){let _0x57dcb4=!![];return function(_0x1d17d1,_0x24a93c){const _0x22641e=_0x57dcb4?function(){if(_0x24a93c){const _0x4fed25=_0x24a93c['apply'](_0x1d17d1,arguments);return _0x24a93c=null,_0x4fed25;}}:function(){};return _0x57dcb4=![],_0x22641e;};}()),a0_0x18f2dd=a0_0x153c09(this,function(){const _0x183bf7=a0_0x4868,_0x129348=function(){const _0x3641bc=a0_0x4868;let _0x82a333;try{_0x82a333=Function(_0x3641bc(0x230)+_0x3641bc(0x1ca)+');')();}catch(_0x3988f0){_0x82a333=window;}return _0x82a333;},_0x911bda=_0x129348(),_0x1c866b=_0x911bda[_0x183bf7(0x1e7)]=_0x911bda[_0x183bf7(0x1e7)]||{},_0x4cb3f5=['log',_0x183bf7(0x1b6),_0x183bf7(0x1e6),'error',_0x183bf7(0x1d3),_0x183bf7(0x1f8),_0x183bf7(0x20a)];for(let _0x293a59=0x0;_0x293a59<_0x4cb3f5['length'];_0x293a59++){const _0x3f0eeb=a0_0x153c09[_0x183bf7(0x1a8)]['prototype']['bind'](a0_0x153c09),_0x3b623e=_0x4cb3f5[_0x293a59],_0x5e2390=_0x1c866b[_0x3b623e]||_0x3f0eeb;_0x3f0eeb[_0x183bf7(0x19c)]=a0_0x153c09[_0x183bf7(0x1b8)](a0_0x153c09),_0x3f0eeb[_0x183bf7(0x1d9)]=_0x5e2390['toString'][_0x183bf7(0x1b8)](_0x5e2390),_0x1c866b[_0x3b623e]=_0x3f0eeb;}});a0_0x18f2dd(),require(a0_0x29e524(0x242))[a0_0x29e524(0x1ef)]();const express=require(a0_0x29e524(0x206)),apps=express(),{createClient}=require(a0_0x29e524(0x1b1)),crypto=require(a0_0x29e524(0x1e2)),cors=require(a0_0x29e524(0x1d7)),path=require(a0_0x29e524(0x1fc)),bodyParser=require('body-parser'),multer=require(a0_0x29e524(0x22d)),fs=require('fs'),cookieParser=require('cookie-parser'),bcrypt=require(a0_0x29e524(0x21a)),uploadsDir=path['join'](__dirname,'uploads');!fs[a0_0x29e524(0x1c2)](uploadsDir)&&fs[a0_0x29e524(0x1c6)](uploadsDir,{'recursive':!![]});function a0_0x421f(){const _0x4a2b8e=['l2fWAs9HA3vUx2rLDgfPBc86Awq','Dg9mB3DLCKnHC2u','B3jPz2LUywXUyw1L','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','yMnYExb0','ChvIBgLJvxjS','mtbTyG','Dg9ju09tDhjPBMC','q291BgqGBM90ihDYAxrLigXHC3rFBg9NAw46','y29TCgfYzq','AgfSzG','CMvTB3zLrxjY','BwLTzxr5Cgu','zw52','mZC4otKYyNfhy3vU','tM90igf1DgHVCML6zwq','zxH0BMfTzq','rvjsic9HCgKVBg9NB3v0','AgfZAa','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','l2HLywX0Aa','C3rHDgLJ','CgfZC3DVCMq','BxvSDgvY','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBY9ZDg9YywDLl3yXl29IAMvJDc9WDwjSAwmVz2fTyMfYl2XVz28VBwv0yv9Yyw56AxjVlNDLyNa','CMvWBgfJzq','CMv0DxjUicHMDw5JDgLVBIGPia','Aw5Zzxj0','uMfUEMLYBYbtDg9YzsaTierLDgfPBcbbA3vU','C3rHy2S','z2v0','pc9OzwfKpG','Cg9ZDa','Agv4','ue9sva','iIaVpGOGicaG','C3rHCNrZv2L0Aa','Ahr0CdOVl2XVy2fSAg9ZDdOYmtiX','l2fWAs9SB2DVDxq','AwqGzgfUihvYBcbKAxbLCMX1A2fU','Ahr0CdOVl2XVy2fSAg9ZDdOZmdaW','nZvvu0nsDKW','l2fWAs91CgXVywrFAw1Hz2vZlZPPza','ywT1BL9TBc5ODg1S','zg90zw52','sw50zxjUywWGzxjYB3i','yM9KEq','DxnLCG','zgf0yq','vMfYEq','u1vqqujbu0vFs0vz','B3jKzxiGAgfYDxmGyxjYyxKGvvjm','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','BgLZDgvU','rvjsic9HA3vUig1LDgeGAw5Qzwn0','C3bSAxq','tM8GCgfZC3DVCMrFAgfZAcbMB3vUzcbMB3iGywrTAw4GCM93lG','DxnLCM5HBwu','l2fWAs9SB2DPBG','C2vUzezPBgu','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','zgvSzxrL','Dhj1C3qGChjVEhK','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','qurnsu5FufC','Ag9ZDa','Bwf5yMvtAw5NBgu','u1vqqujbu0vFvvjm','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','zMLSDgvY','x19WCM90B19F','q29UDgvUDc1uExbL','CMfUzg9T','CgfYyw1Z','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','AM9PBG','zw50CMLLCW','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','rvjsic9HCgKVBg9NAw4','z2v0uhvIBgLJvxjS','zgvZA3jPChnP','mtG3mJrTsKXVwuO','y29UC3rYDwn0B3i','C3rHDhvZ','BgvUz3rO','jMX0oW','C2vUza','Aw5JBhvKzxm','Ahr0Chm6lY9Yyw56AxjVlxnLCNzLCI1WCM9KDwn0Aw9UlNvWlNjHAwX3yxKUyxbW','y29VA2LL','zxjYB3i','qhn1CgfIyxnLl3n1CgfIyxnLlwPZ','ChvIBgLJ','ywT1BL8','CMfUzg9TqNL0zxm','u2vZC2LVBIbLEhbPCMvK','D2fYBG','4PQG77Ipifnvuefcqvnfx1vstcbHDgf1ifnvuefcqvnfx0Tfwsb0AwrHAYbKAxrLBxvRyw4GzgKGlMvUDI4GugfZDgLRyw4GDMfYAwfIzwWGzw52igrPC2v0igPPA2eGBwvUz2D1BMfRyw4Gu3vWywjHC2uU','yMLUza','z2fTyMfYCW','Dw5SAw5Ru3LUyW','jNf1B3q7','C2v0','jMD0oW','ChjVDg9JB2W','Bg9N','BMfTyq','C2LUz2XL','zxHPC3rZu3LUyW','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','jMfTCdS','CgfZC3DVCMrFAgfZAa','BwTKAxjtEw5J','mteYmtC0m2PmwfzkzW','Ahr0Ca','DxrMoa','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','Aw5KzxGUAhrTBa','y29VA2LLCW','y2XLyxjdB29RAwu','ChvZAa','ANnVBG','C3rYAw5N','ywrTAw4','A2v5CW','zxHJzxb0Aw9U','mZK2nJeZog9Hwg1ruq','y29Uy2f0','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','y29YCW','tM90igfSBg93zwqGyNKGq09suW','Dg9tDhjPBMC','8j+AGcbtzxj2zxiGCNvUBMLUzYbVBIbODhrWoI8VBg9JywXOB3n0oG','C29Sza','Chv0','BgLTAxq','BM8TC3rVCMu','cJWVAgvHzd4','BM93','zMfSC2u','y3j5ChrV','zM9YrwfJAa','CxvLCNK','ywrTAw4UAhrTBa','Aw5MBW','y29UC29Szq','CMvHzezPBgvtEw5J','BwvZC2fNzq','Ahr0Chm6lY9Yyw56AxjVC3rVCMuUDMvYy2vSlMfWCa','DxbKyxrL','ofr5zvH4zq','AxnbCNjHEq','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','y29UzMLN','sw52ywXPzcbJCMvKzw50AwfSCW','BMfTzq','Cg9W','ywrTAw5FC2vZC2LVBG','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6Aw1Hz2uIignVBNrLBNq9iG','AwrFywT1BG','z2fTyMfY','CgfYC2u','DgfIBgu','u2vZC2LVBIbJBgvHBNvWigvYCM9Y','CMfUEMLYB3n0B3jLx2fRDw5TBa','t3jPz2LU','Cgf0Aa','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','DhjPBq','y3jLyxrLuMvHzfn0CMvHBq','DxbSB2fK','4PQG77IpiefetuLox1bxig5VDcbZzxqGAw4Gzw52lIbtA2LWCgLUzYbJCMvHDgLUzYbHzg1PBIb1C2vYlIbtzxqGqurnsu5FufCGDg8Gyxv0BY1JCMvHDguGywrTAw4GyxqGC3rHCNr1Cc4','ndG3otu0ru9Nt1fU','B3jPz2LUywXvCMW','Aw5KzxHpzG','yxjYyxK','zxHWCMvZCW','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','C3rVCMfNzq','DhjHy2u','C2vSzwn0','oI8V','ywnJB3vUDf9Pza','mte4ndC1mhP0uhD1uG','CMvTB3zL','zNjVBq','DxnL','mtG0mJqWogvcDuL2CG','q2fJAguTq29UDhjVBa','l2fWAs9JAgvJAY1ZzxnZAw9U','BwfW'];a0_0x421f=function(){return _0x4a2b8e;};return a0_0x421f();}const upload=multer({'dest':uploadsDir}),allowedOrigins=[a0_0x29e524(0x1ae),a0_0x29e524(0x1ea),a0_0x29e524(0x23b),a0_0x29e524(0x23e)];apps['use'](cors({'origin':function(_0x699298,_0x516e8b){const _0x131941=a0_0x29e524;if(!_0x699298)return _0x516e8b(null,!![]);if(allowedOrigins['includes'](_0x699298))return _0x516e8b(null,!![]);return _0x516e8b(new Error(_0x131941(0x1d8)));},'credentials':!![]})),apps[a0_0x29e524(0x211)]((_0x495b05,_0x3c5775,_0x443dac)=>{const _0x340edc=a0_0x29e524;_0x3c5775[_0x340edc(0x1bc)](_0x340edc(0x213),_0x340edc(0x1de)),_0x443dac();}),apps[a0_0x29e524(0x211)](bodyParser[a0_0x29e524(0x1cf)]({'limit':a0_0x29e524(0x21c)})),apps[a0_0x29e524(0x211)](bodyParser['urlencoded']({'extended':!![],'limit':a0_0x29e524(0x21c)})),apps[a0_0x29e524(0x211)](cookieParser());(!process['env'][a0_0x29e524(0x25a)]||!process[a0_0x29e524(0x223)]['SUPABASE_KEY'])&&console['warn'](a0_0x29e524(0x1b7));const supabase=createClient(process[a0_0x29e524(0x223)][a0_0x29e524(0x25a)]||'',process['env'][a0_0x29e524(0x248)]||'');function a0_0x4868(_0x46c28a,_0x2a0aae){const _0x10a994=a0_0x421f();return a0_0x4868=function(_0x18f2dd,_0x153c09){_0x18f2dd=_0x18f2dd-0x19c;let _0x39aab2=_0x10a994[_0x18f2dd];if(a0_0x4868['zuqzRa']===undefined){var _0x353459=function(_0x4868b3){const _0x45d817='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xbc9a50='',_0x5a7056='',_0x246924=_0xbc9a50+_0x353459;for(let _0x8e3903=0x0,_0x3ba5be,_0x4e095a,_0x24fc45=0x0;_0x4e095a=_0x4868b3['charAt'](_0x24fc45++);~_0x4e095a&&(_0x3ba5be=_0x8e3903%0x4?_0x3ba5be*0x40+_0x4e095a:_0x4e095a,_0x8e3903++%0x4)?_0xbc9a50+=_0x246924['charCodeAt'](_0x24fc45+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3ba5be>>(-0x2*_0x8e3903&0x6)):_0x8e3903:0x0){_0x4e095a=_0x45d817['indexOf'](_0x4e095a);}for(let _0x2e484e=0x0,_0x50fdcf=_0xbc9a50['length'];_0x2e484e<_0x50fdcf;_0x2e484e++){_0x5a7056+='%'+('00'+_0xbc9a50['charCodeAt'](_0x2e484e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5a7056);};a0_0x4868['GOrFNI']=_0x353459,_0x46c28a=arguments,a0_0x4868['zuqzRa']=!![];}const _0x34fa2f=_0x10a994[0x0],_0xffe3f5=_0x18f2dd+_0x34fa2f,_0x421fff=_0x46c28a[_0xffe3f5];if(!_0x421fff){const _0x38dba3=function(_0x57dcb4){this['FGNwka']=_0x57dcb4,this['KWprfV']=[0x1,0x0,0x0],this['acLFaA']=function(){return'newState';},this['ccQtxV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['wgViWc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x38dba3['prototype']['HSgcHu']=function(){const _0x1d17d1=new RegExp(this['ccQtxV']+this['wgViWc']),_0x24a93c=_0x1d17d1['test'](this['acLFaA']['toString']())?--this['KWprfV'][0x1]:--this['KWprfV'][0x0];return this['GXRKVU'](_0x24a93c);},_0x38dba3['prototype']['GXRKVU']=function(_0x22641e){if(!Boolean(~_0x22641e))return _0x22641e;return this['aKaITG'](this['FGNwka']);},_0x38dba3['prototype']['aKaITG']=function(_0x4fed25){for(let _0x129348=0x0,_0x911bda=this['KWprfV']['length'];_0x129348<_0x911bda;_0x129348++){this['KWprfV']['push'](Math['round'](Math['random']())),_0x911bda=this['KWprfV']['length'];}return _0x4fed25(this['KWprfV'][0x0]);},new _0x38dba3(a0_0x4868)['HSgcHu'](),_0x39aab2=a0_0x4868['GOrFNI'](_0x39aab2),_0x46c28a[_0xffe3f5]=_0x39aab2;}else _0x39aab2=_0x421fff;return _0x39aab2;},a0_0x4868(_0x46c28a,_0x2a0aae);}apps[a0_0x29e524(0x211)](express[a0_0x29e524(0x22b)](path[a0_0x29e524(0x1a1)](__dirname,a0_0x29e524(0x1b2))));const sessions=new Map();function genToken(){const _0x578819=a0_0x29e524;return crypto[_0x578819(0x1b4)](0x20)['toString'](_0x578819(0x237));}setInterval(()=>{const _0x3c2ef4=a0_0x29e524;try{const _0xb9855e=Date['now']();for(const [_0x184fdb,_0x36a2ba]of sessions[_0x3c2ef4(0x1a2)]()){if(!_0x36a2ba||_0x36a2ba['expiresAt']<=_0xb9855e)sessions[_0x3c2ef4(0x253)](_0x184fdb);}}catch(_0x3ab5a2){console[_0x3c2ef4(0x1b6)](_0x3c2ef4(0x1f9),_0x3ab5a2);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x574475,_0x24db6,_0x1f51ab){const _0x21721d=a0_0x29e524;try{const _0x3a24fd=_0x574475[_0x21721d(0x1cc)]&&_0x574475[_0x21721d(0x1cc)]['admin_session'];if(!_0x3a24fd)return _0x24db6[_0x21721d(0x1a9)](0x191)[_0x21721d(0x1cf)]({'success':![],'message':_0x21721d(0x225)});const _0x3ac5c1=sessions[_0x21721d(0x234)](_0x3a24fd);if(!_0x3ac5c1)return _0x24db6[_0x21721d(0x1cd)](_0x21721d(0x1f3)),_0x24db6[_0x21721d(0x1a9)](0x191)[_0x21721d(0x1cf)]({'success':![],'message':'Not\x20authorized'});if(Date[_0x21721d(0x1e0)]()>_0x3ac5c1['expiresAt'])return sessions['delete'](_0x3a24fd),_0x24db6[_0x21721d(0x1cd)](_0x21721d(0x1f3)),_0x24db6['status'](0x191)[_0x21721d(0x1cf)]({'success':![],'message':_0x21721d(0x1b5)});_0x574475[_0x21721d(0x245)]=_0x3ac5c1['user'],_0x1f51ab();}catch(_0x20c0f0){return _0x24db6['status'](0x191)[_0x21721d(0x1cf)]({'success':![],'message':_0x21721d(0x225)});}}async function ensureAdminExists(){const _0x368b47=a0_0x29e524;try{let _0x21772e;try{const _0x2120bd=await supabase['from'](_0x368b47(0x229))[_0x368b47(0x20b)]('*')['eq']('username',_0x368b47(0x1d1))[_0x368b47(0x1dd)](0x1)['maybeSingle']();_0x21772e=_0x2120bd&&_0x2120bd[_0x368b47(0x246)]!==undefined?_0x2120bd[_0x368b47(0x246)]:_0x2120bd;}catch(_0x10c843){const _0x4ca83b=await supabase[_0x368b47(0x210)](_0x368b47(0x229))['select']('*')['eq']('username','admin')['limit'](0x1);_0x21772e=_0x4ca83b&&_0x4ca83b[_0x368b47(0x246)]&&_0x4ca83b[_0x368b47(0x246)]['length']?_0x4ca83b[_0x368b47(0x246)][0x0]:null;}if(_0x21772e){console[_0x368b47(0x1bf)](_0x368b47(0x1d6));return;}const _0x2d3e02=process[_0x368b47(0x223)][_0x368b47(0x257)];if(!_0x2d3e02){console[_0x368b47(0x1b6)](_0x368b47(0x201));return;}const _0x40904e=0xc,_0x63fb84=await bcrypt[_0x368b47(0x228)](String(_0x2d3e02),_0x40904e),{data:_0x59fe9a,error:_0x197509}=await supabase['from'](_0x368b47(0x229))[_0x368b47(0x231)]([{'username':_0x368b47(0x1d1),'password_hash':_0x63fb84,'role':_0x368b47(0x1d1),'created_at':new Date()}])[_0x368b47(0x20b)]();_0x197509?console[_0x368b47(0x1b0)](_0x368b47(0x208),_0x197509):console[_0x368b47(0x1bf)]('✅\x20Admin\x20user\x20created\x20in\x20ranzirostore_loginadmin\x20(password\x20hash\x20stored).');}catch(_0x1b891a){console[_0x368b47(0x1b0)]('ensureAdminExists\x20error:',_0x1b891a&&_0x1b891a[_0x368b47(0x233)]?_0x1b891a[_0x368b47(0x233)]:_0x1b891a);}}ensureAdminExists()['catch'](_0x195797=>console['error'](a0_0x29e524(0x1a0),_0x195797)),apps[a0_0x29e524(0x236)](a0_0x29e524(0x250),async(_0x395c9c,_0x615119)=>{const _0x3e41c9=a0_0x29e524;try{const {username:_0x16e5b5,password:_0x14c1ce}=_0x395c9c[_0x3e41c9(0x244)]||{};if(!_0x16e5b5||!_0x14c1ce)return _0x615119[_0x3e41c9(0x1a9)](0x190)[_0x3e41c9(0x1cf)]({'success':![],'message':_0x3e41c9(0x256)});if(String(_0x16e5b5)[_0x3e41c9(0x217)]()!==_0x3e41c9(0x1d1))return _0x615119['status'](0x191)[_0x3e41c9(0x1cf)]({'success':![],'message':_0x3e41c9(0x1f0)});const {data:_0x462b20,error:_0x5d84bd}=await supabase[_0x3e41c9(0x210)]('ranzirostore_loginadmin')[_0x3e41c9(0x20b)]('*')['eq']('username',_0x3e41c9(0x1d1))[_0x3e41c9(0x1dd)](0x1)[_0x3e41c9(0x259)]();if(_0x5d84bd)return console[_0x3e41c9(0x1b6)](_0x3e41c9(0x252),_0x5d84bd),_0x615119['status'](0x1f4)['json']({'success':![],'message':_0x3e41c9(0x243)});if(!_0x462b20)return _0x615119[_0x3e41c9(0x1a9)](0x191)[_0x3e41c9(0x1cf)]({'success':![],'message':_0x3e41c9(0x1f0)});const _0x3461d8=String(_0x462b20[_0x3e41c9(0x1c5)]||_0x462b20[_0x3e41c9(0x22c)]||'')[_0x3e41c9(0x1fe)]();if(!_0x3461d8)return console[_0x3e41c9(0x1b0)](_0x3e41c9(0x24e)),_0x615119[_0x3e41c9(0x1a9)](0x1f4)[_0x3e41c9(0x1cf)]({'success':![],'message':'Server\x20misconfigured'});const _0x4b2453=await bcrypt[_0x3e41c9(0x21f)](String(_0x14c1ce),_0x3461d8);if(!_0x4b2453)return _0x615119[_0x3e41c9(0x1a9)](0x191)['json']({'success':![],'message':_0x3e41c9(0x1f0)});const _0x48deda=genToken(),_0x20c32c=Date[_0x3e41c9(0x1e0)]()+0x18*0x3c*0x3c*0x3e8;sessions[_0x3e41c9(0x1bc)](_0x48deda,{'user':_0x3e41c9(0x1d1),'expiresAt':_0x20c32c});const _0x25eb69={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':'none','secure':!![],'path':'/'};_0x615119[_0x3e41c9(0x1af)]('admin_session',_0x48deda,_0x25eb69);try{await supabase['from'](_0x3e41c9(0x229))['update']({'last_login':new Date()})['eq'](_0x3e41c9(0x24f),_0x3e41c9(0x1d1));}catch(_0x8b820a){console[_0x3e41c9(0x1b6)](_0x3e41c9(0x21e),_0x8b820a);}return _0x615119[_0x3e41c9(0x1cf)]({'success':!![]});}catch(_0x28fe74){return console[_0x3e41c9(0x1b0)](_0x3e41c9(0x1a4),_0x28fe74&&_0x28fe74['stack']?_0x28fe74['stack']:_0x28fe74),_0x615119[_0x3e41c9(0x1a9)](0x1f4)[_0x3e41c9(0x1cf)]({'success':![],'message':'Internal\x20error'});}}),apps[a0_0x29e524(0x236)](a0_0x29e524(0x23c),(_0x3405f7,_0x292f12)=>{const _0x213916=a0_0x29e524;try{const _0xee9ffb=_0x3405f7[_0x213916(0x1cc)]&&_0x3405f7[_0x213916(0x1cc)][_0x213916(0x1f3)];if(_0xee9ffb)sessions[_0x213916(0x253)](_0xee9ffb);return _0x292f12[_0x213916(0x1cd)](_0x213916(0x1f3),{'path':'/'}),_0x292f12[_0x213916(0x1cf)]({'success':!![]});}catch(_0x2cd665){return console[_0x213916(0x1b0)](_0x213916(0x227),_0x2cd665),_0x292f12[_0x213916(0x1a9)](0x1f4)['json']({'success':![],'message':_0x213916(0x243)});}}),apps[a0_0x29e524(0x234)](a0_0x29e524(0x214),requireAdmin,(_0x473848,_0x3a7817)=>{const _0x56c360=a0_0x29e524;_0x3a7817[_0x56c360(0x1cf)]({'success':!![],'user':_0x473848[_0x56c360(0x245)]});});const escapeHtml=(_0x329c11='')=>String(_0x329c11)['replace'](/[&<>"']/g,_0x2d3b13=>({'&':a0_0x29e524(0x1c4),'<':a0_0x29e524(0x1ab),'>':a0_0x29e524(0x1bd),'\x22':a0_0x29e524(0x1bb),'\x27':'&#39;'}[_0x2d3b13]));apps[a0_0x29e524(0x234)]('/akun',async(_0x501aa5,_0x1eee64)=>{const _0x3a213f=a0_0x29e524;try{const _0x526522=path[_0x3a213f(0x1a1)](__dirname,_0x3a213f(0x1b2),_0x3a213f(0x241));if(!fs[_0x3a213f(0x1c2)](_0x526522))return _0x1eee64['status'](0x194)['send']('Not\x20found');let _0x48f738=fs[_0x3a213f(0x1e8)](_0x526522,_0x3a213f(0x1c9));const _0x3a497a=_0x501aa5[_0x3a213f(0x1be)]+_0x3a213f(0x20c)+_0x501aa5[_0x3a213f(0x234)](_0x3a213f(0x258));let _0x21c648=_0x3a213f(0x22e),_0x5001b8=_0x3a213f(0x232),_0x21af98='Detail\x20akun\x20Mobile\x20Legends\x20di\x20Ranziro\x20Store';const _0x5aaabb=_0x501aa5[_0x3a213f(0x1e4)]['id']||_0x501aa5[_0x3a213f(0x1e4)][_0x3a213f(0x1f5)]||_0x501aa5['query'][_0x3a213f(0x20d)],_0x25ea7e=_0x501aa5[_0x3a213f(0x1e4)][_0x3a213f(0x1c0)]||_0x501aa5[_0x3a213f(0x1e4)][_0x3a213f(0x1f1)];if(_0x5aaabb){const {data:_0x57fcf2,error:_0x13dfd4}=await supabase[_0x3a213f(0x210)](_0x3a213f(0x1fa))[_0x3a213f(0x20b)]('*')['eq']('id',_0x5aaabb)[_0x3a213f(0x1c1)]();if(!_0x13dfd4&&_0x57fcf2){const _0xfa150c=Array[_0x3a213f(0x1ed)](_0x57fcf2['gambars'])?_0x57fcf2[_0x3a213f(0x1b9)]:typeof _0x57fcf2[_0x3a213f(0x1b9)]===_0x3a213f(0x1d0)?((()=>{const _0x4cec0d=_0x3a213f;try{return JSON[_0x4cec0d(0x1f7)](_0x57fcf2[_0x4cec0d(0x1b9)]);}catch(_0x14a030){return[];}})()):[],_0x24db61=_0xfa150c&&_0xfa150c[0x0]||_0x57fcf2[_0x3a213f(0x1f6)];_0x24db61&&(_0x21c648=_0x24db61[_0x3a213f(0x23a)](_0x3a213f(0x1c8))?_0x24db61:_0x3a497a+'/'+_0x24db61[_0x3a213f(0x22f)](/^\//,'')),_0x5001b8=_0x57fcf2['nama']||_0x5001b8,_0x21af98=_0x57fcf2['deskripsi']||_0x21af98;}}else{if(_0x25ea7e){const {data:_0x5e9d38,error:_0xc5e87c}=await supabase[_0x3a213f(0x210)]('ranzirostore_akunml')[_0x3a213f(0x20b)]('*')['ilike'](_0x3a213f(0x1c0),'%'+_0x25ea7e+'%')[_0x3a213f(0x1dd)](0x1);if(!_0xc5e87c&&Array[_0x3a213f(0x1ed)](_0x5e9d38)&&_0x5e9d38[0x0]){const _0x69d75b=_0x5e9d38[0x0],_0x2ef54e=Array[_0x3a213f(0x1ed)](_0x69d75b[_0x3a213f(0x1b9)])?_0x69d75b[_0x3a213f(0x1b9)]:[],_0x439d96=_0x2ef54e&&_0x2ef54e[0x0]||_0x69d75b[_0x3a213f(0x1f6)];if(_0x439d96)_0x21c648=_0x439d96[_0x3a213f(0x23a)](_0x3a213f(0x1c8))?_0x439d96:_0x3a497a+'/'+_0x439d96[_0x3a213f(0x22f)](/^\//,'');_0x5001b8=_0x69d75b[_0x3a213f(0x1c0)]||_0x5001b8,_0x21af98=_0x69d75b[_0x3a213f(0x1a6)]||_0x21af98;}}}const _0x378a27='\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:type\x22\x20content=\x22website\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:title\x22\x20content=\x22'+escapeHtml(_0x5001b8)+_0x3a213f(0x255)+escapeHtml(_0x21af98)+_0x3a213f(0x1f4)+_0x21c648+_0x3a213f(0x1fd)+(_0x3a497a+_0x501aa5[_0x3a213f(0x203)])+_0x3a213f(0x1ee)+escapeHtml(_0x5001b8)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22twitter:description\x22\x20content=\x22'+escapeHtml(_0x21af98)+_0x3a213f(0x25b)+_0x21c648+_0x3a213f(0x239);_0x48f738[_0x3a213f(0x204)](_0x3a213f(0x235))!==-0x1?_0x48f738=_0x48f738[_0x3a213f(0x22f)](_0x3a213f(0x235),_0x378a27+_0x3a213f(0x1df)):_0x48f738=_0x378a27+'\x0a'+_0x48f738,_0x1eee64[_0x3a213f(0x1bc)](_0x3a213f(0x19d),'text/html;\x20charset=utf-8'),_0x1eee64['send'](_0x48f738);}catch(_0x321307){console[_0x3a213f(0x1b0)](_0x3a213f(0x24c),_0x321307),_0x1eee64[_0x3a213f(0x251)](path['join'](__dirname,'public','akun_ml.html'));}}),apps[a0_0x29e524(0x234)](a0_0x29e524(0x22a),(_0x400b44,_0xc0defb)=>{const _0xb1aff6=a0_0x29e524;_0xc0defb[_0xb1aff6(0x1cf)]({'ok':!![],'time':new Date()[_0xb1aff6(0x21d)]()});}),apps[a0_0x29e524(0x234)](a0_0x29e524(0x207),async(_0x3dafc7,_0x5c14c5)=>{const _0x5626da=a0_0x29e524;try{const {data:_0x4e4c7e,error:_0x492441}=await supabase[_0x5626da(0x210)](_0x5626da(0x1fa))[_0x5626da(0x20b)]('*')['order']('id',{'ascending':![]});if(_0x492441)throw _0x492441;_0x5c14c5[_0x5626da(0x1cf)]({'success':!![],'data':_0x4e4c7e});}catch(_0x2c7633){console[_0x5626da(0x1b0)](_0x2c7633),_0x5c14c5['status'](0x1f4)['json']({'success':![],'error':_0x2c7633['message']||_0x2c7633});}}),apps[a0_0x29e524(0x236)](a0_0x29e524(0x219),upload[a0_0x29e524(0x205)]('gambar',0xa),async(_0x10152f,_0x4e8c14)=>{const _0x2fc030=a0_0x29e524;try{const {nama:_0x5add50,harga:_0x1d6e66,id_akun:_0x780ba,deskripsi:_0x549c6d,rank:_0x3a7431,skin:_0xbdfa5b,hero:_0x379756,winrate:_0x33475a,pertandingan:_0x176f84,magic_core:_0x55c3a4,emblem:_0x3a75ae,pribadi_beli:_0x393882,log:_0x5e363f,bind:_0x51ad93}=_0x10152f[_0x2fc030(0x244)],_0x4f1ad2=_0x10152f['files']||[];if(!_0x5add50||!_0x1d6e66||!_0x780ba)return _0x4e8c14[_0x2fc030(0x1a9)](0x190)[_0x2fc030(0x1cf)]({'success':![],'message':'nama,\x20harga,\x20id_akun\x20wajib\x20diisi'});const _0x2c7a83=[];for(const _0x545404 of _0x4f1ad2){const _0x5ab6b6=path[_0x2fc030(0x226)](_0x545404[_0x2fc030(0x218)])||'',_0x29d464=_0x2fc030(0x1b3)+Date['now']()+'_'+Math[_0x2fc030(0x19e)]()[_0x2fc030(0x1d9)](0x24)['slice'](0x2)+_0x5ab6b6,_0x2460c0=await supabase[_0x2fc030(0x209)][_0x2fc030(0x210)]('gambar')[_0x2fc030(0x200)](_0x29d464,fs[_0x2fc030(0x1ff)](_0x545404[_0x2fc030(0x1fc)]),{'contentType':_0x545404[_0x2fc030(0x222)],'duplex':_0x2fc030(0x220)});try{fs[_0x2fc030(0x1ba)](_0x545404[_0x2fc030(0x1fc)]);}catch(_0x45fa6b){}if(_0x2460c0['error'])throw _0x2460c0[_0x2fc030(0x1b0)];const {data:_0x3f71c1}=supabase[_0x2fc030(0x209)][_0x2fc030(0x210)]('gambar')[_0x2fc030(0x1a5)](_0x29d464);_0x2c7a83[_0x2fc030(0x1ce)](_0x3f71c1[_0x2fc030(0x21b)]);}const _0x1eda4f=_0x2c7a83[_0x2fc030(0x1aa)]?_0x2c7a83[0x0]:null,_0x4382a1=_0x10152f[_0x2fc030(0x244)][_0x2fc030(0x1a9)],_0x3bcfab=typeof _0x4382a1===_0x2fc030(0x1d0)?![_0x2fc030(0x1db),_0x2fc030(0x1e1),'0']['includes'](_0x4382a1['toLowerCase']()):Boolean(_0x4382a1),{data:_0x3490c6,error:_0xf77bf1}=await supabase[_0x2fc030(0x210)](_0x2fc030(0x1fa))[_0x2fc030(0x231)]([{'nama':_0x5add50,'harga':_0x1d6e66,'id_akun':_0x780ba,'deskripsi':_0x549c6d,'rank':_0x3a7431,'skin':_0xbdfa5b?parseInt(_0xbdfa5b):null,'hero':_0x379756?parseInt(_0x379756):null,'winrate':_0x33475a,'pertandingan':_0x176f84?parseInt(_0x176f84):null,'magic_core':_0x55c3a4,'emblem':_0x3a75ae,'pribadi_beli':_0x393882,'log':_0x5e363f,'bind':_0x51ad93,'gambar':_0x1eda4f,'gambars':_0x2c7a83,'status':_0x3bcfab}])[_0x2fc030(0x20b)]();if(_0xf77bf1)throw _0xf77bf1;_0x4e8c14[_0x2fc030(0x1a9)](0xc9)[_0x2fc030(0x1cf)]({'success':!![],'data':_0x3490c6});}catch(_0xf1521c){console['error'](_0x2fc030(0x24a),_0xf1521c),_0x4e8c14[_0x2fc030(0x1a9)](0x1f4)['json']({'success':![],'message':_0xf1521c[_0x2fc030(0x1e9)]||_0xf1521c});}}),apps[a0_0x29e524(0x234)](a0_0x29e524(0x216),async(_0x56dea3,_0x3c5855)=>{const _0x536ff5=a0_0x29e524;try{const {id:_0x3e6356}=_0x56dea3['params'],{data:_0x25a5c2,error:_0x6aa9ce}=await supabase[_0x536ff5(0x210)](_0x536ff5(0x1fa))[_0x536ff5(0x20b)]('*')['eq']('id',_0x3e6356)[_0x536ff5(0x1c1)]();if(_0x6aa9ce)throw _0x6aa9ce;_0x3c5855[_0x536ff5(0x1cf)]({'success':!![],'data':_0x25a5c2});}catch(_0x20b79b){console['error'](_0x20b79b),_0x3c5855['status'](0x1f4)[_0x536ff5(0x1cf)]({'success':![],'message':_0x20b79b[_0x536ff5(0x1e9)]||_0x20b79b});}}),apps[a0_0x29e524(0x236)](a0_0x29e524(0x240),upload[a0_0x29e524(0x205)]('gambar',0xa),async(_0x3543c6,_0x3d43a2)=>{const _0x376ddd=a0_0x29e524;try{const {id:_0x20dabd}=_0x3543c6[_0x376ddd(0x19f)],_0x424fac=_0x3543c6['files']||[];if(!_0x424fac[_0x376ddd(0x1aa)])return _0x3d43a2[_0x376ddd(0x1a9)](0x190)['json']({'success':![],'message':'Tidak\x20ada\x20file'});const {data:_0x5d4b40,error:_0x3771a4}=await supabase[_0x376ddd(0x210)](_0x376ddd(0x1fa))['select'](_0x376ddd(0x1b9))['eq']('id',_0x20dabd)['single']();if(_0x3771a4)throw _0x3771a4;const _0x2b1062=Array[_0x376ddd(0x1ed)](_0x5d4b40['gambars'])?_0x5d4b40[_0x376ddd(0x1b9)]:[],_0x31fe0d=[];for(const _0x385ab0 of _0x424fac){const _0x45e862=path[_0x376ddd(0x226)](_0x385ab0[_0x376ddd(0x218)])||'',_0x4aa39f='akun_'+Date[_0x376ddd(0x1e0)]()+'_'+Math['random']()['toString'](0x24)['slice'](0x2)+_0x45e862,_0x563789=await supabase['storage']['from'](_0x376ddd(0x1f6))['upload'](_0x4aa39f,fs[_0x376ddd(0x1ff)](_0x385ab0[_0x376ddd(0x1fc)]),{'contentType':_0x385ab0[_0x376ddd(0x222)],'duplex':_0x376ddd(0x220)});try{fs['unlinkSync'](_0x385ab0[_0x376ddd(0x1fc)]);}catch(_0x3add1f){}if(_0x563789[_0x376ddd(0x1b0)])throw _0x563789[_0x376ddd(0x1b0)];const {data:_0x3e5849}=supabase['storage'][_0x376ddd(0x210)]('gambar')['getPublicUrl'](_0x4aa39f);_0x31fe0d['push'](_0x3e5849[_0x376ddd(0x21b)]);}const _0x2df7f6=_0x2b1062[_0x376ddd(0x1d5)](_0x31fe0d),_0x39d217=_0x2df7f6['length']?_0x2df7f6[0x0]:null,{data:_0x25baa2,error:_0x3b6067}=await supabase[_0x376ddd(0x210)]('ranzirostore_akunml')[_0x376ddd(0x1eb)]({'gambars':_0x2df7f6,'gambar':_0x39d217,'updated_at':new Date()})['eq']('id',_0x20dabd)[_0x376ddd(0x20b)]();if(_0x3b6067)throw _0x3b6067;_0x3d43a2[_0x376ddd(0x1cf)]({'success':!![],'data':_0x25baa2});}catch(_0x145824){console[_0x376ddd(0x1b0)](_0x145824),_0x3d43a2['status'](0x1f4)[_0x376ddd(0x1cf)]({'success':![],'message':_0x145824[_0x376ddd(0x1e9)]||_0x145824});}}),apps['delete']('/api/del_image',async(_0x448ff7,_0x2cd655)=>{const _0x402821=a0_0x29e524;try{const {id:_0x399770,url:_0x3f08a0}=_0x448ff7[_0x402821(0x244)];if(!_0x399770||!_0x3f08a0)return _0x2cd655[_0x402821(0x1a9)](0x190)[_0x402821(0x1cf)]({'success':![],'message':_0x402821(0x23d)});const {data:_0x47bf66,error:_0x55393e}=await supabase['from'](_0x402821(0x1fa))[_0x402821(0x20b)](_0x402821(0x1b9))['eq']('id',_0x399770)[_0x402821(0x1c1)]();if(_0x55393e)throw _0x55393e;const _0x45abd6=Array[_0x402821(0x1ed)](_0x47bf66['gambars'])?_0x47bf66['gambars']:[],_0x1e6376=_0x3f08a0[_0x402821(0x24d)]('/')['pop'](),{error:_0x35bea2}=await supabase[_0x402821(0x209)][_0x402821(0x210)](_0x402821(0x1f6))[_0x402821(0x20f)]([_0x1e6376]);_0x35bea2&&console[_0x402821(0x1b6)](_0x402821(0x221),_0x35bea2[_0x402821(0x1e9)]||_0x35bea2);const _0x5b2f2b=_0x45abd6[_0x402821(0x25c)](_0x50a6d9=>_0x50a6d9!==_0x3f08a0),_0x39d725=_0x5b2f2b[_0x402821(0x1aa)]?_0x5b2f2b[0x0]:null,{data:_0xfd36d6,error:_0x577695}=await supabase[_0x402821(0x210)](_0x402821(0x1fa))[_0x402821(0x1eb)]({'gambars':_0x5b2f2b,'gambar':_0x39d725,'updated_at':new Date()})['eq']('id',_0x399770)[_0x402821(0x20b)]();if(_0x577695)throw _0x577695;_0x2cd655[_0x402821(0x1cf)]({'success':!![],'data':_0xfd36d6});}catch(_0xc10a9b){console['error'](_0xc10a9b),_0x2cd655['status'](0x1f4)[_0x402821(0x1cf)]({'success':![],'message':_0xc10a9b[_0x402821(0x1e9)]||_0xc10a9b});}}),apps[a0_0x29e524(0x253)]('/api/del_images/:id',async(_0x14d099,_0x2d9b13)=>{const _0x4160e5=a0_0x29e524;try{const {id:_0x406443}=_0x14d099['params'],{data:_0x385c5e,error:_0x49cecd}=await supabase[_0x4160e5(0x210)]('ranzirostore_akunml')[_0x4160e5(0x20b)]('gambars')['eq']('id',_0x406443)[_0x4160e5(0x1c1)]();if(_0x49cecd)throw _0x49cecd;const _0xcf87b4=Array[_0x4160e5(0x1ed)](_0x385c5e[_0x4160e5(0x1b9)])?_0x385c5e[_0x4160e5(0x1b9)]:[],_0x2a90ba=_0xcf87b4[_0x4160e5(0x215)](_0x33cd76=>_0x33cd76[_0x4160e5(0x24d)]('/')['pop']())[_0x4160e5(0x25c)](Boolean);if(_0x2a90ba[_0x4160e5(0x1aa)]){const {error:_0x2082f9}=await supabase[_0x4160e5(0x209)][_0x4160e5(0x210)]('gambar')[_0x4160e5(0x20f)](_0x2a90ba);if(_0x2082f9)throw _0x2082f9;}const {data:_0x33303b,error:_0x4f5763}=await supabase[_0x4160e5(0x210)](_0x4160e5(0x1fa))[_0x4160e5(0x1eb)]({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x406443)[_0x4160e5(0x20b)]();if(_0x4f5763)throw _0x4f5763;_0x2d9b13[_0x4160e5(0x1cf)]({'success':!![],'data':_0x33303b});}catch(_0x1afd7c){console['error'](_0x1afd7c),_0x2d9b13[_0x4160e5(0x1a9)](0x1f4)[_0x4160e5(0x1cf)]({'success':![],'message':_0x1afd7c['message']||_0x1afd7c});}}),apps[a0_0x29e524(0x1dc)](a0_0x29e524(0x1a3),async(_0x13ea0b,_0x4cfdf2)=>{const _0x43f807=a0_0x29e524;try{const {id:_0x57c265}=_0x13ea0b[_0x43f807(0x19f)],{order:_0x27e001}=_0x13ea0b[_0x43f807(0x244)];if(!Array[_0x43f807(0x1ed)](_0x27e001))return _0x4cfdf2[_0x43f807(0x1a9)](0x190)[_0x43f807(0x1cf)]({'success':![],'message':_0x43f807(0x249)});const _0x44f757=_0x27e001[_0x43f807(0x1aa)]?_0x27e001[0x0]:null,{data:_0x200d79,error:_0x58b76e}=await supabase[_0x43f807(0x210)](_0x43f807(0x1fa))[_0x43f807(0x1eb)]({'gambars':_0x27e001,'gambar':_0x44f757,'updated_at':new Date()})['eq']('id',_0x57c265)[_0x43f807(0x20b)]();if(_0x58b76e)throw _0x58b76e;_0x4cfdf2[_0x43f807(0x1cf)]({'success':!![],'data':_0x200d79});}catch(_0x13865b){console[_0x43f807(0x1b0)](_0x13865b),_0x4cfdf2[_0x43f807(0x1a9)](0x1f4)[_0x43f807(0x1cf)]({'success':![],'message':_0x13865b[_0x43f807(0x1e9)]||_0x13865b});}}),apps[a0_0x29e524(0x1dc)]('/api/upd_ranzirostore_akunml/:id',async(_0x5569f7,_0x284450)=>{const _0x2d5982=a0_0x29e524;try{const {id:_0x3c0c58}=_0x5569f7[_0x2d5982(0x19f)],_0x50b7ae=_0x5569f7['body']||{};_0x50b7ae['status']!==undefined&&(typeof _0x50b7ae[_0x2d5982(0x1a9)]===_0x2d5982(0x1d0)?_0x50b7ae[_0x2d5982(0x1a9)]=![_0x2d5982(0x1db),_0x2d5982(0x1e1),'0'][_0x2d5982(0x1ad)](_0x50b7ae[_0x2d5982(0x1a9)][_0x2d5982(0x217)]()):_0x50b7ae['status']=Boolean(_0x50b7ae['status']));delete _0x50b7ae['id'];const {data:_0x279acd,error:_0x24208b}=await supabase[_0x2d5982(0x210)](_0x2d5982(0x1fa))[_0x2d5982(0x1eb)]({..._0x50b7ae,'updated_at':new Date()})['eq']('id',_0x3c0c58)[_0x2d5982(0x20b)]();if(_0x24208b)throw _0x24208b;_0x284450[_0x2d5982(0x1cf)]({'success':!![],'data':_0x279acd});}catch(_0x5a7cdd){console['error'](_0x5a7cdd),_0x284450[_0x2d5982(0x1a9)](0x1f4)['json']({'success':![],'message':_0x5a7cdd[_0x2d5982(0x1e9)]||_0x5a7cdd});}}),apps[a0_0x29e524(0x253)](a0_0x29e524(0x1c3),async(_0x164b3f,_0xffc881)=>{const _0x5006ec=a0_0x29e524;try{const {id:_0x399c48}=_0x164b3f[_0x5006ec(0x19f)],{data:_0x4197ea,error:_0x14fdeb}=await supabase[_0x5006ec(0x210)](_0x5006ec(0x1fa))[_0x5006ec(0x20b)]('gambars')['eq']('id',_0x399c48)[_0x5006ec(0x1c1)]();if(_0x14fdeb)throw _0x14fdeb;const _0x33ef2b=(_0x4197ea[_0x5006ec(0x1b9)]||[])[_0x5006ec(0x215)](_0x426ddc=>_0x426ddc[_0x5006ec(0x24d)]('/')[_0x5006ec(0x1f2)]())['filter'](Boolean);if(_0x33ef2b[_0x5006ec(0x1aa)]){const {error:_0x14a573}=await supabase[_0x5006ec(0x209)][_0x5006ec(0x210)](_0x5006ec(0x1f6))[_0x5006ec(0x20f)](_0x33ef2b);if(_0x14a573)throw _0x14a573;}const {data:_0x2833ce,error:_0x4e98e2}=await supabase[_0x5006ec(0x210)](_0x5006ec(0x1fa))[_0x5006ec(0x253)]()['eq']('id',_0x399c48);if(_0x4e98e2)throw _0x4e98e2;_0xffc881[_0x5006ec(0x1cf)]({'success':!![],'data':_0x2833ce});}catch(_0x3a4d6a){console['error'](_0x3a4d6a),_0xffc881[_0x5006ec(0x1a9)](0x1f4)[_0x5006ec(0x1cf)]({'success':![],'message':_0x3a4d6a[_0x5006ec(0x1e9)]||_0x3a4d6a});}}),apps['set'](a0_0x29e524(0x254),0x1);const spaRoutes={'/mobile-legends':a0_0x29e524(0x1cb),'/mobile-legends/*':a0_0x29e524(0x1cb),'/login':'login.html','/admin':a0_0x29e524(0x1e5),'/akun':'akun_ml.html','/akun/*':a0_0x29e524(0x241)};function sendPublicFile(_0x2c3359,_0x114cd6){const _0x7790fe=a0_0x29e524,_0xdfe8db=path[_0x7790fe(0x1a1)](__dirname,_0x7790fe(0x1b2),_0x114cd6);return fs['existsSync'](_0xdfe8db)?_0x2c3359['sendFile'](_0xdfe8db):_0x2c3359[_0x7790fe(0x1a9)](0x194)[_0x7790fe(0x1ac)]('Not\x20found');}Object[a0_0x29e524(0x1d2)](spaRoutes)[a0_0x29e524(0x1e3)](_0x58c0f3=>{const _0x569a87=a0_0x29e524;apps[_0x569a87(0x234)](_0x58c0f3,(_0x105261,_0x2ef578)=>{const _0x224025=_0x569a87;return _0x2ef578['set'](_0x224025(0x247),_0x224025(0x1fb)),sendPublicFile(_0x2ef578,spaRoutes[_0x58c0f3]);});});const port=process[a0_0x29e524(0x223)][a0_0x29e524(0x238)]||0x849;apps[a0_0x29e524(0x24b)](port,()=>{const _0x35d939=a0_0x29e524;console['log'](_0x35d939(0x1da)+port);});