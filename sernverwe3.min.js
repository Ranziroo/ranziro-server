function a0_0x41a1(_0x4b0338,_0x50077a){const _0x2c4254=a0_0x13d4();return a0_0x41a1=function(_0xbae5ab,_0x514821){_0xbae5ab=_0xbae5ab-0x116;let _0x4ca4f0=_0x2c4254[_0xbae5ab];if(a0_0x41a1['qAmHDm']===undefined){var _0x299b86=function(_0x41a1a8){const _0xf26ed6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1c16e7='',_0x1f2bd9='',_0x5a9fc4=_0x1c16e7+_0x299b86;for(let _0x3601bd=0x0,_0xec79a6,_0x5c49c5,_0x158ec0=0x0;_0x5c49c5=_0x41a1a8['charAt'](_0x158ec0++);~_0x5c49c5&&(_0xec79a6=_0x3601bd%0x4?_0xec79a6*0x40+_0x5c49c5:_0x5c49c5,_0x3601bd++%0x4)?_0x1c16e7+=_0x5a9fc4['charCodeAt'](_0x158ec0+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xec79a6>>(-0x2*_0x3601bd&0x6)):_0x3601bd:0x0){_0x5c49c5=_0xf26ed6['indexOf'](_0x5c49c5);}for(let _0x3e5a19=0x0,_0x5bb42f=_0x1c16e7['length'];_0x3e5a19<_0x5bb42f;_0x3e5a19++){_0x1f2bd9+='%'+('00'+_0x1c16e7['charCodeAt'](_0x3e5a19)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f2bd9);};a0_0x41a1['vcIXhE']=_0x299b86,_0x4b0338=arguments,a0_0x41a1['qAmHDm']=!![];}const _0x1216f0=_0x2c4254[0x0],_0x306329=_0xbae5ab+_0x1216f0,_0x13d423=_0x4b0338[_0x306329];if(!_0x13d423){const _0x4394bb=function(_0x330442){this['aaJnVd']=_0x330442,this['WPYyMj']=[0x1,0x0,0x0],this['IiXIAk']=function(){return'newState';},this['BDuUAg']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['YsdZMt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4394bb['prototype']['htOsAj']=function(){const _0x173ca3=new RegExp(this['BDuUAg']+this['YsdZMt']),_0x2a8cce=_0x173ca3['test'](this['IiXIAk']['toString']())?--this['WPYyMj'][0x1]:--this['WPYyMj'][0x0];return this['ZccXXN'](_0x2a8cce);},_0x4394bb['prototype']['ZccXXN']=function(_0x4a5cbe){if(!Boolean(~_0x4a5cbe))return _0x4a5cbe;return this['kiuhJM'](this['aaJnVd']);},_0x4394bb['prototype']['kiuhJM']=function(_0x2cc089){for(let _0x5e745f=0x0,_0x3cf5e0=this['WPYyMj']['length'];_0x5e745f<_0x3cf5e0;_0x5e745f++){this['WPYyMj']['push'](Math['round'](Math['random']())),_0x3cf5e0=this['WPYyMj']['length'];}return _0x2cc089(this['WPYyMj'][0x0]);},new _0x4394bb(a0_0x41a1)['htOsAj'](),_0x4ca4f0=a0_0x41a1['vcIXhE'](_0x4ca4f0),_0x4b0338[_0x306329]=_0x4ca4f0;}else _0x4ca4f0=_0x13d423;return _0x4ca4f0;},a0_0x41a1(_0x4b0338,_0x50077a);}const a0_0x29a3b2=a0_0x41a1;(function(_0x16eabe,_0x14c64f){const _0xd0081c=a0_0x41a1,_0x4715c8=_0x16eabe();while(!![]){try{const _0x50db59=-parseInt(_0xd0081c(0x1a6))/0x1+parseInt(_0xd0081c(0x19c))/0x2+parseInt(_0xd0081c(0x1a1))/0x3*(-parseInt(_0xd0081c(0x17a))/0x4)+parseInt(_0xd0081c(0x14d))/0x5*(parseInt(_0xd0081c(0x1aa))/0x6)+-parseInt(_0xd0081c(0x1cb))/0x7+-parseInt(_0xd0081c(0x1ad))/0x8*(parseInt(_0xd0081c(0x143))/0x9)+parseInt(_0xd0081c(0x178))/0xa;if(_0x50db59===_0x14c64f)break;else _0x4715c8['push'](_0x4715c8['shift']());}catch(_0x22bf30){_0x4715c8['push'](_0x4715c8['shift']());}}}(a0_0x13d4,0x62788));const a0_0x306329=(function(){let _0x5c49c5=!![];return function(_0x158ec0,_0x3e5a19){const _0x5bb42f=_0x5c49c5?function(){if(_0x3e5a19){const _0x4394bb=_0x3e5a19['apply'](_0x158ec0,arguments);return _0x3e5a19=null,_0x4394bb;}}:function(){};return _0x5c49c5=![],_0x5bb42f;};}()),a0_0x1216f0=a0_0x306329(this,function(){const _0x246a5b=a0_0x41a1;return a0_0x1216f0['toString']()[_0x246a5b(0x1ce)](_0x246a5b(0x13c))[_0x246a5b(0x15a)]()[_0x246a5b(0x1d6)](a0_0x1216f0)['search'](_0x246a5b(0x13c));});a0_0x1216f0();const a0_0x514821=(function(){let _0x330442=!![];return function(_0x173ca3,_0x2a8cce){const _0x4a5cbe=_0x330442?function(){const _0x5479e4=a0_0x41a1;if(_0x2a8cce){const _0x2cc089=_0x2a8cce[_0x5479e4(0x184)](_0x173ca3,arguments);return _0x2a8cce=null,_0x2cc089;}}:function(){};return _0x330442=![],_0x4a5cbe;};}()),a0_0xbae5ab=a0_0x514821(this,function(){const _0x25222c=a0_0x41a1;let _0x5e745f;try{const _0x194e99=Function(_0x25222c(0x19b)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5e745f=_0x194e99();}catch(_0x5b7d7f){_0x5e745f=window;}const _0x3cf5e0=_0x5e745f[_0x25222c(0x1c9)]=_0x5e745f['console']||{},_0x17dfea=[_0x25222c(0x14e),'warn',_0x25222c(0x17d),_0x25222c(0x132),_0x25222c(0x150),_0x25222c(0x165),'trace'];for(let _0x3eb637=0x0;_0x3eb637<_0x17dfea[_0x25222c(0x176)];_0x3eb637++){const _0x191817=a0_0x514821['constructor'][_0x25222c(0x129)][_0x25222c(0x18a)](a0_0x514821),_0x592116=_0x17dfea[_0x3eb637],_0x50835f=_0x3cf5e0[_0x592116]||_0x191817;_0x191817['__proto__']=a0_0x514821[_0x25222c(0x18a)](a0_0x514821),_0x191817[_0x25222c(0x15a)]=_0x50835f[_0x25222c(0x15a)][_0x25222c(0x18a)](_0x50835f),_0x3cf5e0[_0x592116]=_0x191817;}});function a0_0x13d4(){const _0x47886f=['BM8TC3rVCMu','CMvWBgfJzq','Dg9mB3DLCKnHC2u','CgfZC3DVCMq','BM93','Aw5JBhvKzxm','y29VA2LLCW','CMv0DxjUicHMDw5JDgLVBIGPia','nJq5nZe4zLzmrKrd','z2fTyMfYCW','tM90igf1DgHVCML6zwq','l2fWAs9HA3vUx2rLDgfPBc86Awq','4PYfiefKBwLUihvZzxiGy3jLyxrLzcbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBIaOCgfZC3DVCMqGAgfZAcbZDg9YzwqPlG','nLLJt2rkrq','BMfTysWGAgfYz2eSigLKx2fRDw4GD2fQAwiGzgLPC2K','zM9YrwfJAa','zw50CMLLCW','y29VA2LL','ntCZntC0sxzqvgHJ','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','mtbTyG','yxjYyxK','nKv2Bhrfuq','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','y29VA2LLlxbHCNnLCG','mJaYmtzzBMjAs2O','y2f0y2G','y29YCW','q29UDgvUDc1uExbL','zgvSzxrL','z2v0uhvIBgLJvxjS','sw52ywXPzcbJCMvKzw50AwfSCW','jMD0oW','DxnLCM5HBwu','rvjsic9HCgKVBg9NAw4','C2LUz2XL','zxHWAxjLC0f0','jMfTCdS','Cg9ZDa','Ahr0CdOVl2XVy2fSAg9ZDdOYmtiX','DxnL','CMvHzezPBgvtEw5J','zxHPC3rZu3LUyW','u1vqqujbu0vFs0vz','qhn1CgfIyxnLl3n1CgfIyxnLlwPZ','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','tM8GCgfZC3DVCMrFAgfZAcbMB3vUzcbMB3iGywrTAw4GCM93lG','C3rYAw5N','y2XLyxjdB29RAwu','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMrLC2nYAxb0Aw9UiIbJB250zw50psi','y3j5ChrV','DxnLCG','cIaGicaGidX0AxrSzt4','y29UC29Szq','C29Sza','mJqYotaZnvzssffPqW','y29Uy2f0','yM9KEs1WyxjZzxi','C2vHCMnO','y29UzMLN','vgLKywSGywrHigzPBgu','yM9KEq','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','CMfUEMLYB3n0B3jLx2fRDw5TBa','qurnsu5FufC','AwrFywT1BG','y29UC3rYDwn0B3i','z2fTyMfY','B3jKzxiGAgfYDxmGyxjYyxKGvvjm','sw50zxjUywWGzxjYB3i','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','4PQG77Ipifnvuefcqvnfx1vstcbHDgf1ifnvuefcqvnfx0Tfwsb0AwrHAYbKAxrLBxvRyw4GzgKGlMvUDI4GugfZDgLRyw4GDMfYAwfIzwWGzw52igrPC2v0igPPA2eGBwvUz2D1BMfRyw4Gu3vWywjHC2uU','zg90zw52','ihWGuMfUEMLYBYbtDg9YztWVDgL0Bgu+cIaGicaGidXTzxrHig5HBwu9iMrLC2nYAxb0Aw9UiIbJB250zw50psi','y29TCgfYzq','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','t3jPz2LU','C2v0','Aw5Zzxj0','C3rHCNrZv2L0Aa','Bg9NAw4UAhrTBa','AwqGzgfUihvYBcbKAxbLCMX1A2fU','AgfZAa','CgfZC3DVCMrFAgfZAa','CxvLCNK','C2XPy2u','BwfW','yMnYExb0','l2fWAs91CgXVywrFAw1Hz2vZlZPPza','C3rHDgLJ','l2fWAs91CgrFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','ChjVDg90ExbL','BwvZC2fNzq','jMX0oW','CMvTB3zLrxjY','Dhj1C3qGChjVEhK','u2vZC2LVBIbJBgvHBNvWigvYCM9Y','DxbKyxrL','C2vUza','Ahr0Chm6lY9Yyw56AxjVC3rVCMuUDMvYy2vSlMfWCa','zxjYB3i','CMfUzg9T','Agv4','oI8V','vMfYEq','C2vUzezPBgu','CMvTB3zL','l2HLywX0Aa','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','DxbSB2fK','kcGOlISPkYKRksSK','AgfSzG','ywnJB3vUDf9Pza','l2fRDw4','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','CgfYyw1Z','C2vSzwn0','mtm1oxv1yvHyrW','Aw5KzxHpzG','CMfUzg9TqNL0zxm','zw52','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBY9ZDg9YywDLl3yXl29IAMvJDc9WDwjSAwmVz2fTyMfYl2XVz28VBwv0yv9Yyw56AxjVlNDLyNa','4PQG77IpiefetuLox1bxig5VDcbZzxqGAw4Gzw52lIbtA2LWCgLUzYbJCMvHDgLUzYbHzg1PBIb1C2vYlIbtzxqGqurnsu5FufCGDg8Gyxv0BY1JCMvHDguGywrTAw4GyxqGC3rHCNr1Cc4','zMLSzxm','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','C3bSAxq','tM90igfSBg93zwqGyNKGq09suW','ndi4nte1EwfAz09b','Bg9N','q2fJAguTq29UDhjVBa','zxHJzxb0Aw9U','Dw5SAw5Ru3LUyW','zMLSDgvY','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DhLWzsiGy29UDgvUDd0ID2vIC2L0zsiGlZ4kicaGicaGpg1LDgeGChjVCgvYDhK9iM9NoNrPDgXLiIbJB250zw50psi','BMfTzq','CgfYC2u','BgLTAxq','ywrTAw4UAhrTBa','C3rHy2S','ChvIBgLJ','Dg9tDhjPBMC','Chv0','DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','Aw5KzxGUAhrTBa','zxH0BMfTzq','Ahr0Ca','C3rVCMfNzq','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','BwLTzxr5Cgu','Ahr0Chm6lY9Yyw56AxjVlxnLCNzLCI1WCM9KDwn0Aw9UlNvWlNjHAwX3yxKUyxbW','zMfSC2u','DgfIBgu','cJWVAgvHzd4','iIaVpGOGicaGica8BgLUAYbYzwW9iMLTywDLx3nYyYiGAhjLzJ0I','Bwf5yMvtAw5NBgu','zgf0yq','ue9sva','ywrTAw5FC2vZC2LVBG','u1vqqujbu0vFvvjm','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','ywT1BL8','l2fWAs9KzwXFAw1Hz2vZlZPPza','ywrTAw4','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','zxHWCMvZCW','AxnbCNjHEq','D2fYBG','Cgf0Aa','BgvUz3rO','q291BgqGBM90ihDYAxrLigXHC3rFBg9NAw46','mtC5mtu2mJbSBhHpDgO','DxjSzw5JB2rLza','otKZmJy0zhf1sKXz','Cg9W','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','Aw5MBW','ChvIBgLJvxjS','B3jPz2LUywXUyw1L','pc9OzwfKpG','jImZotS','jNf1B3q7','ChvZAa','yxbWBhK','AwXPA2u','AM9PBG','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','zNjVBq','C3rHDhvZ','yMLUza','uMfUEMLYBYbtDg9YzsaTierLDgfPBcbbA3vU','BMfTyq','ANnVBG','ywT1BL9TBc5ODg1S','ChjVDg9JB2W','Dg9ju09tDhjPBMC','A2v5CW','rvjsic9HA3vUig1LDgeGAw5Qzwn0','z2v0'];a0_0x13d4=function(){return _0x47886f;};return a0_0x13d4();}a0_0xbae5ab(),require(a0_0x29a3b2(0x116))[a0_0x29a3b2(0x1cf)]();const express=require(a0_0x29a3b2(0x172)),apps=express(),{createClient}=require(a0_0x29a3b2(0x1c0)),crypto=require(a0_0x29a3b2(0x1c6)),cors=require(a0_0x29a3b2(0x1af)),path=require(a0_0x29a3b2(0x175)),bodyParser=require(a0_0x29a3b2(0x1cd)),multer=require('multer'),fs=require('fs'),cookieParser=require(a0_0x29a3b2(0x1ac)),bcrypt=require(a0_0x29a3b2(0x125)),uploadsDir=path[a0_0x29a3b2(0x186)](__dirname,'uploads');!fs[a0_0x29a3b2(0x1be)](uploadsDir)&&fs['mkdirSync'](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=[a0_0x29a3b2(0x163),a0_0x29a3b2(0x131),a0_0x29a3b2(0x1bb)];apps[a0_0x29a3b2(0x1bc)](cors({'origin':function(_0x261ca8,_0x4f568e){const _0x5979cc=a0_0x29a3b2;if(!_0x261ca8)return _0x4f568e(null,!![]);if(allowedOrigins[_0x5979cc(0x199)](_0x261ca8))return _0x4f568e(null,!![]);return _0x4f568e(new Error(_0x5979cc(0x14c)));},'credentials':!![]})),apps[a0_0x29a3b2(0x1bc)]((_0x68055,_0x5271c6,_0x49daeb)=>{const _0x4673e8=a0_0x29a3b2;_0x5271c6[_0x4673e8(0x11b)](_0x4673e8(0x14f),_0x4673e8(0x194)),_0x49daeb();}),apps['use'](bodyParser[a0_0x29a3b2(0x18d)]({'limit':a0_0x29a3b2(0x1a8)})),apps[a0_0x29a3b2(0x1bc)](bodyParser[a0_0x29a3b2(0x179)]({'extended':!![],'limit':'10mb'})),apps[a0_0x29a3b2(0x1bc)](cookieParser());(!process[a0_0x29a3b2(0x146)][a0_0x29a3b2(0x16c)]||!process[a0_0x29a3b2(0x146)][a0_0x29a3b2(0x1bf)])&&console['warn'](a0_0x29a3b2(0x1db));const supabase=createClient(process['env'][a0_0x29a3b2(0x16c)]||'',process[a0_0x29a3b2(0x146)]['SUPABASE_KEY']||'');apps['use'](express[a0_0x29a3b2(0x127)](path['join'](__dirname,'public')));const sessions=new Map();function genToken(){const _0xff92d=a0_0x29a3b2;return crypto[_0xff92d(0x145)](0x20)[_0xff92d(0x15a)](_0xff92d(0x134));}setInterval(()=>{const _0x100268=a0_0x29a3b2;try{const _0x51271b=Date[_0x100268(0x198)]();for(const [_0x417159,_0x5d1cb1]of sessions[_0x100268(0x1a4)]()){if(!_0x5d1cb1||_0x5d1cb1[_0x100268(0x1b8)]<=_0x51271b)sessions[_0x100268(0x1b1)](_0x417159);}}catch(_0x40411c){console[_0x100268(0x174)](_0x100268(0x12e),_0x40411c);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x560a74,_0x3bd161,_0x3f37f1){const _0x2e7db3=a0_0x29a3b2;try{const _0x2c5061=_0x560a74[_0x2e7db3(0x19a)]&&_0x560a74[_0x2e7db3(0x19a)][_0x2e7db3(0x16b)];if(!_0x2c5061)return _0x3bd161[_0x2e7db3(0x189)](0x191)[_0x2e7db3(0x18d)]({'success':![],'message':_0x2e7db3(0x19e)});const _0x373928=sessions[_0x2e7db3(0x193)](_0x2c5061);if(!_0x373928)return _0x3bd161[_0x2e7db3(0x1c4)](_0x2e7db3(0x16b)),_0x3bd161[_0x2e7db3(0x189)](0x191)['json']({'success':![],'message':'Not\x20authorized'});if(Date[_0x2e7db3(0x198)]()>_0x373928[_0x2e7db3(0x1b8)])return sessions[_0x2e7db3(0x1b1)](_0x2c5061),_0x3bd161[_0x2e7db3(0x1c4)]('admin_session'),_0x3bd161[_0x2e7db3(0x189)](0x191)[_0x2e7db3(0x18d)]({'success':![],'message':'Session\x20expired'});_0x560a74[_0x2e7db3(0x1c7)]=_0x373928[_0x2e7db3(0x1c7)],_0x3f37f1();}catch(_0x3b2636){return _0x3bd161['status'](0x191)[_0x2e7db3(0x18d)]({'success':![],'message':_0x2e7db3(0x19e)});}}async function ensureAdminExists(){const _0x295814=a0_0x29a3b2;try{let _0xdf368;try{const _0x8d1963=await supabase[_0x295814(0x188)]('ranzirostore_loginadmin')[_0x295814(0x142)]('*')['eq'](_0x295814(0x1b5),_0x295814(0x170))[_0x295814(0x156)](0x1)[_0x295814(0x168)]();_0xdf368=_0x8d1963&&_0x8d1963['data']!==undefined?_0x8d1963[_0x295814(0x169)]:_0x8d1963;}catch(_0x2bef18){const _0x3fb77b=await supabase[_0x295814(0x188)](_0x295814(0x14a))[_0x295814(0x142)]('*')['eq'](_0x295814(0x1b5),'admin')[_0x295814(0x156)](0x1);_0xdf368=_0x3fb77b&&_0x3fb77b[_0x295814(0x169)]&&_0x3fb77b[_0x295814(0x169)][_0x295814(0x176)]?_0x3fb77b[_0x295814(0x169)][0x0]:null;}if(_0xdf368){console[_0x295814(0x14e)](_0x295814(0x1c1));return;}const _0x35b275=process[_0x295814(0x146)][_0x295814(0x1d4)];if(!_0x35b275){console[_0x295814(0x174)](_0x295814(0x148));return;}const _0x519fea=0xc,_0xeff80b=await bcrypt[_0x295814(0x120)](String(_0x35b275),_0x519fea),{data:_0x398f12,error:_0x2e7fca}=await supabase['from'](_0x295814(0x14a))['insert']([{'username':'admin','password_hash':_0xeff80b,'role':_0x295814(0x170),'created_at':new Date()}])['select']();_0x2e7fca?console[_0x295814(0x132)](_0x295814(0x119),_0x2e7fca):console[_0x295814(0x14e)](_0x295814(0x1a0));}catch(_0x34457a){console['error']('ensureAdminExists\x20error:',_0x34457a&&_0x34457a['stack']?_0x34457a['stack']:_0x34457a);}}ensureAdminExists()[a0_0x29a3b2(0x1ae)](_0x5c752b=>console[a0_0x29a3b2(0x132)]('ensureAdminExists\x20failed:',_0x5c752b)),apps[a0_0x29a3b2(0x1ba)]('/api/login',async(_0x16f91c,_0x402ec4)=>{const _0x32f421=a0_0x29a3b2;try{const {username:_0x11d44a,password:_0x5d750a}=_0x16f91c[_0x32f421(0x1d1)]||{};if(!_0x11d44a||!_0x5d750a)return _0x402ec4[_0x32f421(0x189)](0x190)['json']({'success':![],'message':_0x32f421(0x15c)});if(String(_0x11d44a)['toLowerCase']()!==_0x32f421(0x170))return _0x402ec4[_0x32f421(0x189)](0x191)[_0x32f421(0x18d)]({'success':![],'message':_0x32f421(0x1b3)});const {data:_0x5558ff,error:_0x2fb629}=await supabase['from'](_0x32f421(0x14a))[_0x32f421(0x142)]('*')['eq'](_0x32f421(0x1b5),'admin')[_0x32f421(0x156)](0x1)[_0x32f421(0x168)]();if(_0x2fb629)return console[_0x32f421(0x174)](_0x32f421(0x1d2),_0x2fb629),_0x402ec4[_0x32f421(0x189)](0x1f4)['json']({'success':![],'message':_0x32f421(0x1d9)});if(!_0x5558ff)return _0x402ec4[_0x32f421(0x189)](0x191)[_0x32f421(0x18d)]({'success':![],'message':_0x32f421(0x1b3)});const _0x35710e=String(_0x5558ff[_0x32f421(0x121)]||_0x5558ff[_0x32f421(0x197)]||'')['trim']();if(!_0x35710e)return console[_0x32f421(0x132)](_0x32f421(0x1c2)),_0x402ec4[_0x32f421(0x189)](0x1f4)['json']({'success':![],'message':'Server\x20misconfigured'});const _0x5e49cd=await bcrypt[_0x32f421(0x118)](String(_0x5d750a),_0x35710e);if(!_0x5e49cd)return _0x402ec4[_0x32f421(0x189)](0x191)[_0x32f421(0x18d)]({'success':![],'message':'Invalid\x20credentials'});const _0x27db74=genToken(),_0x369049=Date[_0x32f421(0x198)]()+0x18*0x3c*0x3c*0x3e8;sessions[_0x32f421(0x11b)](_0x27db74,{'user':_0x32f421(0x170),'expiresAt':_0x369049});const _0x2b70af={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':'none','secure':!![],'path':'/'};_0x402ec4[_0x32f421(0x1a5)]('admin_session',_0x27db74,_0x2b70af);try{await supabase[_0x32f421(0x188)](_0x32f421(0x14a))[_0x32f421(0x12f)]({'last_login':new Date()})['eq'](_0x32f421(0x1b5),'admin');}catch(_0xc74c22){console[_0x32f421(0x174)](_0x32f421(0x177),_0xc74c22);}return _0x402ec4[_0x32f421(0x18d)]({'success':!![]});}catch(_0x486b00){return console['error'](_0x32f421(0x1b6),_0x486b00&&_0x486b00[_0x32f421(0x158)]?_0x486b00[_0x32f421(0x158)]:_0x486b00),_0x402ec4[_0x32f421(0x189)](0x1f4)[_0x32f421(0x18d)]({'success':![],'message':_0x32f421(0x1d9)});}}),apps[a0_0x29a3b2(0x1ba)]('/api/logout',(_0x14e7c5,_0x2a7319)=>{const _0x1ca0f3=a0_0x29a3b2;try{const _0x5ad293=_0x14e7c5[_0x1ca0f3(0x19a)]&&_0x14e7c5[_0x1ca0f3(0x19a)][_0x1ca0f3(0x16b)];if(_0x5ad293)sessions['delete'](_0x5ad293);return _0x2a7319[_0x1ca0f3(0x1c4)](_0x1ca0f3(0x16b),{'path':'/'}),_0x2a7319['json']({'success':!![]});}catch(_0x750ddd){return console[_0x1ca0f3(0x132)]('ERR\x20/api/logout',_0x750ddd),_0x2a7319[_0x1ca0f3(0x189)](0x1f4)['json']({'success':![],'message':_0x1ca0f3(0x1d9)});}}),apps[a0_0x29a3b2(0x193)]('/api/check-session',requireAdmin,(_0x48d065,_0x1c6b74)=>{const _0x3cbcb0=a0_0x29a3b2;_0x1c6b74[_0x3cbcb0(0x18d)]({'success':!![],'user':_0x48d065[_0x3cbcb0(0x1c7)]});});const escapeHtml=(_0x173359='')=>String(_0x173359)[a0_0x29a3b2(0x195)](/[&<>"']/g,_0x16169b=>({'&':a0_0x29a3b2(0x1b9),'<':a0_0x29a3b2(0x12b),'>':a0_0x29a3b2(0x1b4),'\x22':a0_0x29a3b2(0x182),'\x27':a0_0x29a3b2(0x181)}[_0x16169b]));apps[a0_0x29a3b2(0x193)](a0_0x29a3b2(0x13f),async(_0x18aa20,_0x4b26b9)=>{const _0x1b9e8e=a0_0x29a3b2;try{const _0x4baa3f=path[_0x1b9e8e(0x186)](__dirname,_0x1b9e8e(0x159),_0x1b9e8e(0x18e));if(!fs['existsSync'](_0x4baa3f))return _0x4b26b9[_0x1b9e8e(0x189)](0x194)['send']('Not\x20found');let _0xa74fda=fs[_0x1b9e8e(0x1bd)](_0x4baa3f,'utf8');const _0x5c3ff8=_0x18aa20[_0x1b9e8e(0x18f)]+_0x1b9e8e(0x135)+_0x18aa20[_0x1b9e8e(0x193)]('host');let _0x48f001=_0x1b9e8e(0x147),_0x4fda11=_0x1b9e8e(0x18b),_0x3b815f='Detail\x20akun\x20Mobile\x20Legends\x20di\x20Ranziro\x20Store';const _0x46c0ae=_0x18aa20['query']['id']||_0x18aa20[_0x1b9e8e(0x122)][_0x1b9e8e(0x1d5)]||_0x18aa20[_0x1b9e8e(0x122)][_0x1b9e8e(0x13e)],_0x631fd7=_0x18aa20[_0x1b9e8e(0x122)]['nama']||_0x18aa20[_0x1b9e8e(0x122)][_0x1b9e8e(0x154)];if(_0x46c0ae){const {data:_0x59d3cb,error:_0x5d489f}=await supabase[_0x1b9e8e(0x188)](_0x1b9e8e(0x1d3))[_0x1b9e8e(0x142)]('*')['eq']('id',_0x46c0ae)[_0x1b9e8e(0x1b7)]();if(!_0x5d489f&&_0x59d3cb){const _0xf4dd36=Array['isArray'](_0x59d3cb['gambars'])?_0x59d3cb[_0x1b9e8e(0x19d)]:typeof _0x59d3cb['gambars']===_0x1b9e8e(0x1c3)?((()=>{const _0x59fea4=_0x1b9e8e;try{return JSON[_0x59fea4(0x155)](_0x59d3cb[_0x59fea4(0x19d)]);}catch(_0x53b19c){return[];}})()):[],_0x1951d2=_0xf4dd36&&_0xf4dd36[0x0]||_0x59d3cb[_0x1b9e8e(0x1d7)];if(_0x1951d2)_0x48f001=_0x1951d2['startsWith']('http')?_0x1951d2:_0x5c3ff8+'/'+String(_0x1951d2)[_0x1b9e8e(0x195)](/^\//,'');_0x4fda11=_0x59d3cb[_0x1b9e8e(0x18c)]||_0x4fda11,_0x3b815f=_0x59d3cb['deskripsi']||_0x3b815f;}}else{if(_0x631fd7){const {data:_0x2c620b,error:_0x23354c}=await supabase[_0x1b9e8e(0x188)](_0x1b9e8e(0x1d3))['select']('*')[_0x1b9e8e(0x185)](_0x1b9e8e(0x18c),'%'+_0x631fd7+'%')[_0x1b9e8e(0x156)](0x1);if(!_0x23354c&&Array[_0x1b9e8e(0x173)](_0x2c620b)&&_0x2c620b[0x0]){const _0x290b2a=_0x2c620b[0x0],_0x2247d7=Array[_0x1b9e8e(0x173)](_0x290b2a[_0x1b9e8e(0x19d)])?_0x290b2a[_0x1b9e8e(0x19d)]:[],_0x49f115=_0x2247d7&&_0x2247d7[0x0]||_0x290b2a[_0x1b9e8e(0x1d7)];if(_0x49f115)_0x48f001=_0x49f115[_0x1b9e8e(0x11d)](_0x1b9e8e(0x15f))?_0x49f115:_0x5c3ff8+'/'+String(_0x49f115)['replace'](/^\//,'');_0x4fda11=_0x290b2a[_0x1b9e8e(0x18c)]||_0x4fda11,_0x3b815f=_0x290b2a['deskripsi']||_0x3b815f;}}}const _0xa49630=(_0x40fa8b='')=>String(_0x40fa8b)[_0x1b9e8e(0x195)](/[&<>"']/g,_0xa2fb87=>({'&':_0x1b9e8e(0x1b9),'<':'&lt;','>':_0x1b9e8e(0x1b4),'\x22':_0x1b9e8e(0x182),'\x27':'&#39;'}[_0xa2fb87]));_0xa74fda=_0xa74fda['replace'](/<meta[^>]+(property=(?:'|")og:|name=(?:'|")twitter:)[^>]*>/gi,''),_0xa74fda=_0xa74fda[_0x1b9e8e(0x195)](/<link[^>]+rel=(?:'|")image_src(?:'|")[^>]*>/gi,''),_0xa74fda=_0xa74fda['replace'](/<meta[^>]+name=(?:'|")description(?:'|")[^>]*>/gi,''),_0xa74fda=_0xa74fda[_0x1b9e8e(0x195)](/<title>[\s\S]*?<\/title>/i,'');const _0x1d327b=_0x5c3ff8+_0x18aa20['originalUrl'],_0x325774=_0x1b9e8e(0x1c8)+_0xa49630(_0x4fda11)+_0x1b9e8e(0x117)+_0xa49630(_0x3b815f)+_0x1b9e8e(0x153)+_0xa49630(_0x4fda11)+_0x1b9e8e(0x187)+_0xa49630(_0x3b815f)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:image\x22\x20content=\x22'+_0x48f001+_0x1b9e8e(0x1ab)+_0x1d327b+_0x1b9e8e(0x17c)+_0xa49630(_0x4fda11)+_0x1b9e8e(0x1c5)+_0xa49630(_0x3b815f)+_0x1b9e8e(0x16d)+_0x48f001+_0x1b9e8e(0x167)+_0x48f001+'\x22\x20/>\x0a\x20\x20\x20\x20';_0xa74fda[_0x1b9e8e(0x144)](_0x1b9e8e(0x180))!==-0x1?_0xa74fda=_0xa74fda[_0x1b9e8e(0x195)](_0x1b9e8e(0x180),_0x325774+_0x1b9e8e(0x166)):_0xa74fda=_0x325774+'\x0a'+_0xa74fda,_0x4b26b9['set'](_0x1b9e8e(0x1b0),_0x1b9e8e(0x13a)),_0x4b26b9[_0x1b9e8e(0x130)](_0xa74fda);}catch(_0x217144){console['error'](_0x1b9e8e(0x192),_0x217144),_0x4b26b9[_0x1b9e8e(0x137)](path['join'](__dirname,_0x1b9e8e(0x159),_0x1b9e8e(0x18e)));}}),apps[a0_0x29a3b2(0x193)](a0_0x29a3b2(0x139),(_0x32c013,_0x1b64c4)=>{const _0x5c2c7a=a0_0x29a3b2;_0x1b64c4['json']({'ok':!![],'time':new Date()[_0x5c2c7a(0x190)]()});}),apps[a0_0x29a3b2(0x193)](a0_0x29a3b2(0x140),async(_0xd45c9b,_0x55895a)=>{const _0x2e12a4=a0_0x29a3b2;try{const {data:_0x234f0c,error:_0x41d75a}=await supabase[_0x2e12a4(0x188)](_0x2e12a4(0x1d3))[_0x2e12a4(0x142)]('*')['order']('id',{'ascending':![]});if(_0x41d75a)throw _0x41d75a;_0x55895a[_0x2e12a4(0x18d)]({'success':!![],'data':_0x234f0c});}catch(_0x52b613){console[_0x2e12a4(0x132)](_0x52b613),_0x55895a[_0x2e12a4(0x189)](0x1f4)[_0x2e12a4(0x18d)]({'success':![],'error':_0x52b613['message']||_0x52b613});}}),apps['post'](a0_0x29a3b2(0x171),upload[a0_0x29a3b2(0x1a9)](a0_0x29a3b2(0x1d7),0xa),async(_0x24df40,_0x2fcd40)=>{const _0x2de88b=a0_0x29a3b2;try{const {nama:_0x2d7c41,harga:_0x2f295c,id_akun:_0x39d6b4,deskripsi:_0x2fd60b,rank:_0x5ae916,skin:_0x4b85c2,hero:_0x3a1be9,winrate:_0x1f7e3d,pertandingan:_0x5cf7bf,magic_core:_0x327b47,emblem:_0x47b6a5,pribadi_beli:_0x380b59,log:_0x5d468d,bind:_0x500038}=_0x24df40[_0x2de88b(0x1d1)],_0x39e209=_0x24df40[_0x2de88b(0x149)]||[];if(!_0x2d7c41||!_0x2f295c||!_0x39d6b4)return _0x2fcd40[_0x2de88b(0x189)](0x190)[_0x2de88b(0x18d)]({'success':![],'message':_0x2de88b(0x1a2)});const _0x2f6382=[];for(const _0x4e7d27 of _0x39e209){const _0x2ec370=path['extname'](_0x4e7d27[_0x2de88b(0x17f)])||'',_0x20547b=_0x2de88b(0x16e)+Date[_0x2de88b(0x198)]()+'_'+Math['random']()[_0x2de88b(0x15a)](0x24)[_0x2de88b(0x123)](0x2)+_0x2ec370,_0x5e9eca=await supabase[_0x2de88b(0x160)]['from'](_0x2de88b(0x1d7))[_0x2de88b(0x13b)](_0x20547b,fs['createReadStream'](_0x4e7d27['path']),{'contentType':_0x4e7d27[_0x2de88b(0x162)],'duplex':_0x2de88b(0x13d)});try{fs[_0x2de88b(0x151)](_0x4e7d27['path']);}catch(_0x217df6){}if(_0x5e9eca[_0x2de88b(0x132)])throw _0x5e9eca['error'];const {data:_0x3f4fc4}=supabase[_0x2de88b(0x160)]['from']('gambar')[_0x2de88b(0x1b2)](_0x20547b);_0x2f6382['push'](_0x3f4fc4['publicUrl']);}const _0xab9e75=_0x2f6382['length']?_0x2f6382[0x0]:null,_0x3a2a8d=_0x24df40['body'][_0x2de88b(0x189)],_0x2c3ead=typeof _0x3a2a8d==='string'?![_0x2de88b(0x1ca),_0x2de88b(0x164),'0'][_0x2de88b(0x199)](_0x3a2a8d['toLowerCase']()):Boolean(_0x3a2a8d),{data:_0x58d8e2,error:_0x4a8388}=await supabase[_0x2de88b(0x188)]('ranzirostore_akunml')[_0x2de88b(0x11c)]([{'nama':_0x2d7c41,'harga':_0x2f295c,'id_akun':_0x39d6b4,'deskripsi':_0x2fd60b,'rank':_0x5ae916,'skin':_0x4b85c2?parseInt(_0x4b85c2):null,'hero':_0x3a1be9?parseInt(_0x3a1be9):null,'winrate':_0x1f7e3d,'pertandingan':_0x5cf7bf?parseInt(_0x5cf7bf):null,'magic_core':_0x327b47,'emblem':_0x47b6a5,'pribadi_beli':_0x380b59,'log':_0x5d468d,'bind':_0x500038,'gambar':_0xab9e75,'gambars':_0x2f6382,'status':_0x2c3ead}])[_0x2de88b(0x142)]();if(_0x4a8388)throw _0x4a8388;_0x2fcd40['status'](0xc9)['json']({'success':!![],'data':_0x58d8e2});}catch(_0x3ada01){console[_0x2de88b(0x132)](_0x2de88b(0x161),_0x3ada01),_0x2fcd40[_0x2de88b(0x189)](0x1f4)['json']({'success':![],'message':_0x3ada01['message']||_0x3ada01});}}),apps['get'](a0_0x29a3b2(0x19f),async(_0x1efb6f,_0x26f5f1)=>{const _0x3d81bc=a0_0x29a3b2;try{const {id:_0xdb9f47}=_0x1efb6f[_0x3d81bc(0x141)],{data:_0x2df2fa,error:_0x1b5e30}=await supabase['from'](_0x3d81bc(0x1d3))[_0x3d81bc(0x142)]('*')['eq']('id',_0xdb9f47)[_0x3d81bc(0x1b7)]();if(_0x1b5e30)throw _0x1b5e30;_0x26f5f1['json']({'success':!![],'data':_0x2df2fa});}catch(_0xa48692){console[_0x3d81bc(0x132)](_0xa48692),_0x26f5f1[_0x3d81bc(0x189)](0x1f4)[_0x3d81bc(0x18d)]({'success':![],'message':_0xa48692[_0x3d81bc(0x12a)]||_0xa48692});}}),apps[a0_0x29a3b2(0x1ba)](a0_0x29a3b2(0x126),upload['array'](a0_0x29a3b2(0x1d7),0xa),async(_0x2e1204,_0x17982b)=>{const _0xbb8df0=a0_0x29a3b2;try{const {id:_0x20f501}=_0x2e1204['params'],_0xf294b3=_0x2e1204['files']||[];if(!_0xf294b3['length'])return _0x17982b[_0xbb8df0(0x189)](0x190)[_0xbb8df0(0x18d)]({'success':![],'message':_0xbb8df0(0x1d0)});const {data:_0x16332a,error:_0x26afb2}=await supabase[_0xbb8df0(0x188)]('ranzirostore_akunml')['select'](_0xbb8df0(0x19d))['eq']('id',_0x20f501)[_0xbb8df0(0x1b7)]();if(_0x26afb2)throw _0x26afb2;const _0x17de35=Array[_0xbb8df0(0x173)](_0x16332a[_0xbb8df0(0x19d)])?_0x16332a[_0xbb8df0(0x19d)]:[],_0x79089f=[];for(const _0x203758 of _0xf294b3){const _0x2d695b=path[_0xbb8df0(0x15e)](_0x203758[_0xbb8df0(0x17f)])||'',_0x17c87d=_0xbb8df0(0x16e)+Date[_0xbb8df0(0x198)]()+'_'+Math[_0xbb8df0(0x133)]()[_0xbb8df0(0x15a)](0x24)[_0xbb8df0(0x123)](0x2)+_0x2d695b,_0x5aa079=await supabase[_0xbb8df0(0x160)][_0xbb8df0(0x188)](_0xbb8df0(0x1d7))[_0xbb8df0(0x13b)](_0x17c87d,fs['createReadStream'](_0x203758[_0xbb8df0(0x175)]),{'contentType':_0x203758['mimetype'],'duplex':_0xbb8df0(0x13d)});try{fs[_0xbb8df0(0x151)](_0x203758[_0xbb8df0(0x175)]);}catch(_0x54ac2e){}if(_0x5aa079['error'])throw _0x5aa079['error'];const {data:_0x15ae69}=supabase[_0xbb8df0(0x160)][_0xbb8df0(0x188)](_0xbb8df0(0x1d7))[_0xbb8df0(0x1b2)](_0x17c87d);_0x79089f[_0xbb8df0(0x183)](_0x15ae69[_0xbb8df0(0x17e)]);}const _0x5ae3ed=_0x17de35[_0xbb8df0(0x1cc)](_0x79089f),_0x41b327=_0x5ae3ed['length']?_0x5ae3ed[0x0]:null,{data:_0x3b0874,error:_0x56f0}=await supabase[_0xbb8df0(0x188)]('ranzirostore_akunml')[_0xbb8df0(0x12f)]({'gambars':_0x5ae3ed,'gambar':_0x41b327,'updated_at':new Date()})['eq']('id',_0x20f501)[_0xbb8df0(0x142)]();if(_0x56f0)throw _0x56f0;_0x17982b[_0xbb8df0(0x18d)]({'success':!![],'data':_0x3b0874});}catch(_0x224ad7){console[_0xbb8df0(0x132)](_0x224ad7),_0x17982b[_0xbb8df0(0x189)](0x1f4)[_0xbb8df0(0x18d)]({'success':![],'message':_0x224ad7['message']||_0x224ad7});}}),apps[a0_0x29a3b2(0x1b1)]('/api/del_image',async(_0x45bf8b,_0x5340bf)=>{const _0x357553=a0_0x29a3b2;try{const {id:_0x12814d,url:_0x1243dc}=_0x45bf8b['body'];if(!_0x12814d||!_0x1243dc)return _0x5340bf[_0x357553(0x189)](0x190)['json']({'success':![],'message':_0x357553(0x11f)});const {data:_0x1d2481,error:_0x40f674}=await supabase[_0x357553(0x188)](_0x357553(0x1d3))[_0x357553(0x142)](_0x357553(0x19d))['eq']('id',_0x12814d)[_0x357553(0x1b7)]();if(_0x40f674)throw _0x40f674;const _0xd8ea2e=Array['isArray'](_0x1d2481[_0x357553(0x19d)])?_0x1d2481[_0x357553(0x19d)]:[],_0x886456=_0x1243dc[_0x357553(0x14b)]('/')['pop'](),{error:_0x4b7216}=await supabase[_0x357553(0x160)][_0x357553(0x188)]('gambar')[_0x357553(0x138)]([_0x886456]);_0x4b7216&&console['warn'](_0x357553(0x12c),_0x4b7216['message']||_0x4b7216);const _0x1fe8a4=_0xd8ea2e[_0x357553(0x152)](_0x2d19f3=>_0x2d19f3!==_0x1243dc),_0x4f0e2a=_0x1fe8a4[_0x357553(0x176)]?_0x1fe8a4[0x0]:null,{data:_0x26fac1,error:_0x580680}=await supabase['from']('ranzirostore_akunml')['update']({'gambars':_0x1fe8a4,'gambar':_0x4f0e2a,'updated_at':new Date()})['eq']('id',_0x12814d)['select']();if(_0x580680)throw _0x580680;_0x5340bf[_0x357553(0x18d)]({'success':!![],'data':_0x26fac1});}catch(_0x25b329){console[_0x357553(0x132)](_0x25b329),_0x5340bf['status'](0x1f4)[_0x357553(0x18d)]({'success':![],'message':_0x25b329[_0x357553(0x12a)]||_0x25b329});}}),apps['delete'](a0_0x29a3b2(0x16f),async(_0xd3a593,_0x43b9ad)=>{const _0x2294d8=a0_0x29a3b2;try{const {id:_0x46ac12}=_0xd3a593[_0x2294d8(0x141)],{data:_0xb95f3f,error:_0x3f3050}=await supabase[_0x2294d8(0x188)](_0x2294d8(0x1d3))[_0x2294d8(0x142)](_0x2294d8(0x19d))['eq']('id',_0x46ac12)[_0x2294d8(0x1b7)]();if(_0x3f3050)throw _0x3f3050;const _0x5b73e0=Array[_0x2294d8(0x173)](_0xb95f3f[_0x2294d8(0x19d)])?_0xb95f3f['gambars']:[],_0x259885=_0x5b73e0[_0x2294d8(0x124)](_0x4a9f01=>_0x4a9f01[_0x2294d8(0x14b)]('/')['pop']())[_0x2294d8(0x152)](Boolean);if(_0x259885['length']){const {error:_0x11865a}=await supabase[_0x2294d8(0x160)][_0x2294d8(0x188)](_0x2294d8(0x1d7))[_0x2294d8(0x138)](_0x259885);if(_0x11865a)throw _0x11865a;}const {data:_0x22b6d7,error:_0x441af0}=await supabase['from'](_0x2294d8(0x1d3))[_0x2294d8(0x12f)]({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x46ac12)[_0x2294d8(0x142)]();if(_0x441af0)throw _0x441af0;_0x43b9ad[_0x2294d8(0x18d)]({'success':!![],'data':_0x22b6d7});}catch(_0x15f402){console[_0x2294d8(0x132)](_0x15f402),_0x43b9ad[_0x2294d8(0x189)](0x1f4)[_0x2294d8(0x18d)]({'success':![],'message':_0x15f402['message']||_0x15f402});}}),apps[a0_0x29a3b2(0x15b)](a0_0x29a3b2(0x1a7),async(_0x2b2cc5,_0x2050ca)=>{const _0x1c90d8=a0_0x29a3b2;try{const {id:_0x4a8edc}=_0x2b2cc5[_0x1c90d8(0x141)],{order:_0x5ed086}=_0x2b2cc5['body'];if(!Array['isArray'](_0x5ed086))return _0x2050ca[_0x1c90d8(0x189)](0x190)['json']({'success':![],'message':_0x1c90d8(0x1d8)});const _0x2a57fd=_0x5ed086[_0x1c90d8(0x176)]?_0x5ed086[0x0]:null,{data:_0x136d8c,error:_0x31bb7d}=await supabase[_0x1c90d8(0x188)](_0x1c90d8(0x1d3))['update']({'gambars':_0x5ed086,'gambar':_0x2a57fd,'updated_at':new Date()})['eq']('id',_0x4a8edc)[_0x1c90d8(0x142)]();if(_0x31bb7d)throw _0x31bb7d;_0x2050ca[_0x1c90d8(0x18d)]({'success':!![],'data':_0x136d8c});}catch(_0x1cc20a){console['error'](_0x1cc20a),_0x2050ca[_0x1c90d8(0x189)](0x1f4)[_0x1c90d8(0x18d)]({'success':![],'message':_0x1cc20a[_0x1c90d8(0x12a)]||_0x1cc20a});}}),apps[a0_0x29a3b2(0x15b)](a0_0x29a3b2(0x128),async(_0x4d2f31,_0x57973f)=>{const _0x52af91=a0_0x29a3b2;try{const {id:_0x48bfd8}=_0x4d2f31[_0x52af91(0x141)],_0x3e5c1a=_0x4d2f31[_0x52af91(0x1d1)]||{};_0x3e5c1a[_0x52af91(0x189)]!==undefined&&(typeof _0x3e5c1a[_0x52af91(0x189)]===_0x52af91(0x1c3)?_0x3e5c1a['status']=![_0x52af91(0x1ca),_0x52af91(0x164),'0'][_0x52af91(0x199)](_0x3e5c1a['status'][_0x52af91(0x196)]()):_0x3e5c1a[_0x52af91(0x189)]=Boolean(_0x3e5c1a[_0x52af91(0x189)]));delete _0x3e5c1a['id'];const {data:_0x252736,error:_0x59690d}=await supabase[_0x52af91(0x188)](_0x52af91(0x1d3))['update']({..._0x3e5c1a,'updated_at':new Date()})['eq']('id',_0x48bfd8)['select']();if(_0x59690d)throw _0x59690d;_0x57973f[_0x52af91(0x18d)]({'success':!![],'data':_0x252736});}catch(_0x127885){console[_0x52af91(0x132)](_0x127885),_0x57973f[_0x52af91(0x189)](0x1f4)[_0x52af91(0x18d)]({'success':![],'message':_0x127885['message']||_0x127885});}}),apps[a0_0x29a3b2(0x1b1)](a0_0x29a3b2(0x1da),async(_0x11e008,_0x4dce71)=>{const _0x558ebc=a0_0x29a3b2;try{const {id:_0x1f2241}=_0x11e008[_0x558ebc(0x141)],{data:_0x458236,error:_0x3995f2}=await supabase[_0x558ebc(0x188)](_0x558ebc(0x1d3))[_0x558ebc(0x142)](_0x558ebc(0x19d))['eq']('id',_0x1f2241)[_0x558ebc(0x1b7)]();if(_0x3995f2)throw _0x3995f2;const _0x690d16=(_0x458236[_0x558ebc(0x19d)]||[])[_0x558ebc(0x124)](_0x4218ae=>_0x4218ae[_0x558ebc(0x14b)]('/')[_0x558ebc(0x17b)]())[_0x558ebc(0x152)](Boolean);if(_0x690d16[_0x558ebc(0x176)]){const {error:_0x30adf4}=await supabase[_0x558ebc(0x160)]['from'](_0x558ebc(0x1d7))[_0x558ebc(0x138)](_0x690d16);if(_0x30adf4)throw _0x30adf4;}const {data:_0x3352ad,error:_0x52214e}=await supabase[_0x558ebc(0x188)](_0x558ebc(0x1d3))['delete']()['eq']('id',_0x1f2241);if(_0x52214e)throw _0x52214e;_0x4dce71[_0x558ebc(0x18d)]({'success':!![],'data':_0x3352ad});}catch(_0x111869){console[_0x558ebc(0x132)](_0x111869),_0x4dce71['status'](0x1f4)[_0x558ebc(0x18d)]({'success':![],'message':_0x111869[_0x558ebc(0x12a)]||_0x111869});}}),apps[a0_0x29a3b2(0x11b)](a0_0x29a3b2(0x12d),0x1);const spaRoutes={'/mobile-legends':a0_0x29a3b2(0x15d),'/mobile-legends/*':a0_0x29a3b2(0x15d),'/login':a0_0x29a3b2(0x11e),'/admin':a0_0x29a3b2(0x157),'/mobile-legends/akun':a0_0x29a3b2(0x18e),'/mobile-legends/akun/*':a0_0x29a3b2(0x18e)};function sendPublicFile(_0x41d41c,_0x54cfe7){const _0x1a91cd=a0_0x29a3b2,_0x38f89a=path[_0x1a91cd(0x186)](__dirname,'public',_0x54cfe7);return fs['existsSync'](_0x38f89a)?_0x41d41c[_0x1a91cd(0x137)](_0x38f89a):_0x41d41c[_0x1a91cd(0x189)](0x194)[_0x1a91cd(0x130)]('Not\x20found');}Object[a0_0x29a3b2(0x191)](spaRoutes)[a0_0x29a3b2(0x1a3)](_0x1a376c=>{const _0x4bc4ce=a0_0x29a3b2;apps[_0x4bc4ce(0x193)](_0x1a376c,(_0xca99a8,_0x17c1b0)=>{const _0x22c30d=_0x4bc4ce;return _0x17c1b0[_0x22c30d(0x11b)](_0x22c30d(0x136),_0x22c30d(0x11a)),sendPublicFile(_0x17c1b0,spaRoutes[_0x1a376c]);});});const port=process[a0_0x29a3b2(0x146)][a0_0x29a3b2(0x16a)]||0x849;apps['listen'](port,()=>{console['log']('🚀\x20Server\x20running\x20on\x20http://localhost:'+port);});