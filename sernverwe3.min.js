const a0_0x445576=a0_0x4bbd;(function(_0x5bf0d5,_0x1d1b8b){const _0x4074c9=a0_0x4bbd,_0x303976=_0x5bf0d5();while(!![]){try{const _0x217c7f=parseInt(_0x4074c9(0x191))/0x1+-parseInt(_0x4074c9(0x1ba))/0x2*(parseInt(_0x4074c9(0x1e6))/0x3)+parseInt(_0x4074c9(0x159))/0x4*(parseInt(_0x4074c9(0x1a6))/0x5)+parseInt(_0x4074c9(0x1e5))/0x6*(parseInt(_0x4074c9(0x1db))/0x7)+parseInt(_0x4074c9(0x143))/0x8+parseInt(_0x4074c9(0x1b2))/0x9+-parseInt(_0x4074c9(0x1d5))/0xa;if(_0x217c7f===_0x1d1b8b)break;else _0x303976['push'](_0x303976['shift']());}catch(_0x4c1a8c){_0x303976['push'](_0x303976['shift']());}}}(a0_0x2f2a,0x322df));const a0_0x401854=(function(){let _0x5dfa0a=!![];return function(_0x2ec146,_0x293dab){const _0x307156=_0x5dfa0a?function(){const _0x159d01=a0_0x4bbd;if(_0x293dab){const _0x5e335c=_0x293dab[_0x159d01(0x1a7)](_0x2ec146,arguments);return _0x293dab=null,_0x5e335c;}}:function(){};return _0x5dfa0a=![],_0x307156;};}()),a0_0x13cd53=a0_0x401854(this,function(){const _0x468959=a0_0x4bbd;return a0_0x13cd53['toString']()[_0x468959(0x162)](_0x468959(0x1df))['toString']()[_0x468959(0x178)](a0_0x13cd53)['search'](_0x468959(0x1df));});function a0_0x2f2a(){const _0x577697=['u2vZC2LVBIbLEhbPCMvK','zxjYB3i','Dg9mB3DLCKnHC2u','CgfYyw1Z','4PQG77IpiefetuLox1bxig5VDcbZzxqGAw4Gzw52lIbtA2LWCgLUzYbJCMvHDgLUzYbHzg1PBIb1C2vYlIbtzxqGqurnsu5FufCGDg8Gyxv0BY1JCMvHDguGywrTAw4GyxqGC3rHCNr1Cc4','Ahr0Chm6lY9Yyw56AxjVC3rVCMuUDMvYy2vSlMfWCa','y29UC3rYDwn0B3i','tM90igzVDw5K','yxjYyxK','BgLTAxq','DhjPBq','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6Aw1Hz2uIignVBNrLBNq9iG','Bgf4','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','u2vYDMvYig1PC2nVBMzPz3vYzwq','Aw5Zzxj0','yMLUza','zMLSzxm','DxjSzw5JB2rLza','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','ywrTAw4','C2vSzwn0','zgf0yq','DxbSB2fKCW','tK9erv9ftLy','AgfZAa','AgfSzG','y29VA2LL','C2v0','AwqGzgfUihvYBcbKAxbLCMX1A2fU','CMvTB3zLrxjY','nduYodvSBwnSDue','ue9sva','CgfZC3DVCMq','4PYfihbHz2vZuM91DgvYig1VDw50zwqGzNjVBsaUl3jVDxrLCY9YB3v0zq','CxvLCNK','C2vUza','ywrTAw4UAhrTBa','y2f0y2G','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','ChjVzhvJDgLVBG','BwLTzxr5Cgu','C3rHDhvZ','CgfZC3DVCMrFAgfZAa','zw52','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','Cg9ZDa','y29VA2LLlxbHCNnLCG','BwvZC2fNzq','z2v0uhvIBgLJvxjS','AM9PBG','ntvOC3fMAha','yxbWBhK','cIaGicaGidXTzxrHihbYB3bLCNr5psjVzZP0ExbLiIbJB250zw50psj3zwjZAxrLiIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DgL0BguIignVBNrLBNq9iG','rvjsic9HA3vUig1LDgeGAw5Qzwn0','u1vqqujbu0vFs0vz','jNf1B3q7','Bg9NAw4UAhrTBa','C2LUz2XL','z2fTyMfY','ChvIBgLJvxjS','Dw5SAw5Ru3LUyW','y2XLyxjdB29RAwu','mtK3odG0ogPds0nZwG','Bwf5yMvtAw5NBgu','Dg9tDhjPBMC','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','DxnL','Ag9ZDa','u1vqqujbu0vFvvjm','yM9KEs1WyxjZzxi','mJeYotjYzLnTEvu','ywrTAw5FC2vZC2LVBG','l2HLywX0Aa','B3jPz2LUywXvCMW','DxbSB2fK','D2fYBG','DxbKyxrL','zgvSzxrL','rvjsic9HCgKVBg9NB3v0','CM91DgvY','BMfTysWGAgfYz2eSigLKx2fRDw4GD2fQAwiGzgLPC2K','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','y29TCgfYzq','yM9KEq','B3jKzxi','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','BwfW','C3rVCMfNzq','BMfTzq','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','l2fWAs9KzwXFAw1Hz2vZlZPPza','tM90igf1DgHVCML6zwq','Bg9N','BM93','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','Aw5JBhvKzxm','mZK0mZu5mhfoD1n2Dq','C3rHy2S','Chv0','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMrLC2nYAxb0Aw9UiIbJB250zw50psi','ANnVBG','q2fJAguTq29UDhjVBa','ntKWmtDcs1HgzfK','AxnbCNjHEq','CMvTB3zL','iIaVpGOGicaG','kcGOlISPkYKRksSK','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','C3rHCNrZv2L0Aa','jImZotS','BgvUz3rO','AwXPA2u','nLrurMnOuq','ndjvB3f0yum','ywT1BL8','C2XPy2u','l2fWAs9KzwXFAw1Hz2u','zxHWAxjLC0f0','mtbTyG','zMLSDgvY','zxH0BMfTzq','pc9OzwfKpG','ChjVDg90ExbL','jMD0oW','zw5ZDxjLqwrTAw5fEgLZDhmGzxjYB3i6','AwrFywT1BG','zxHPC3rZu3LUyW','ChvZAa','zxHWCMvZCW','C3bSAxq','ChjVDg9JB2W','ywnJB3vUDf9Pza','oI8V','uM91DgvY','vgLKywSGywrHigzPBgu','Cgf0Aa','BwTKAxjtEw5J','BM8TC3rVCMu','Aw5MBW','rxjYB3iGCMvXDwLYAw5Nic4VCM91DgvZl3jVDxrLoG','Aw5KzxGUAhrTBa','DxnLCM5HBwu','q29UDgvUDc1uExbL','l2fKBwLU','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBY9ZDg9YywDLl3yXl29IAMvJDc9WDwjSAwmVz2fTyMfYl2XVz28VBwv0yv9Yyw56AxjVlNDLyNa','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','jMfTCdS','z2v0','CMvHzezPBgvtEw5J','mJG5nZK4nhP5wxfbDa','ChvIBgLJ','C3rYAw5N','cJWVAgvHzd4','C3rHDgLJ','BMfTyq','DxnLCG','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','l2XVz2LU','zNvUy3rPB24','sw50zxjUywWGzxjYB3i','ywT1BL9TBc5ODg1S','C2vUzezPBgu','Cg9W','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','CMfUzg9TqNL0zxm','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','AgfUzgXL','rvjsic9HCgKVBg9NAw4','y3DK','y29VA2LLCW','BgLZDgvU','ndeXmJHYCgjdEuO','CMfUzg9T','B3jPz2LUywXUyw1L','zgvZA3jPChnP','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','l2fRDw4','sw52ywXPzcbJCMvKzw50AwfSCW','DhjHy2u','Ahr0Ca','C2vHCMnO','CMfUEMLYB3n0B3jLx2fRDw5TBa','4PQG77IpihbHz2vZuM91DgvYig5VDcbMB3vUzc4GugfZDgLRyw4GlI9YB3v0zxmVCM91DguUANmGBwvUz2vRC3bVCIbLEhbYzxnZlLjVDxrLCIGP','zM9YrwfJAa','l2fWAs9SB2DVDxq','jMX0oW','l2fWAs9HA3vUx2rLDgfPBc86Awq','zNjVBq','Dg9ju09tDhjPBMC','CMvWBgfJzq','C29Sza','rgv0ywLSigfRDw4Gtw9IAwXLieXLz2vUzhmGzgKGuMfUEMLYBYbtDg9Yzq','z2fTyMfYCW','x19WCM90B19F','8j+AGcbtzxj2zxiGCNvUBMLUzYbVBIbODhrWoI8VBg9JywXOB3n0oG','y29UC29Szq'];a0_0x2f2a=function(){return _0x577697;};return a0_0x2f2a();}a0_0x13cd53();const a0_0x2fd121=(function(){let _0x51ebdd=!![];return function(_0x4a306d,_0x35b5c7){const _0x3c5e17=_0x51ebdd?function(){const _0x22b50c=a0_0x4bbd;if(_0x35b5c7){const _0x243922=_0x35b5c7[_0x22b50c(0x1a7)](_0x4a306d,arguments);return _0x35b5c7=null,_0x243922;}}:function(){};return _0x51ebdd=![],_0x3c5e17;};}()),a0_0x5b4f37=a0_0x2fd121(this,function(){const _0x2bb35a=a0_0x4bbd,_0x1ee436=function(){const _0x59a322=a0_0x4bbd;let _0x3ccada;try{_0x3ccada=Function('return\x20(function()\x20'+_0x59a322(0x153)+');')();}catch(_0x384961){_0x3ccada=window;}return _0x3ccada;},_0xb56c5b=_0x1ee436(),_0x263c25=_0xb56c5b[_0x2bb35a(0x171)]=_0xb56c5b[_0x2bb35a(0x171)]||{},_0x1d8cf4=[_0x2bb35a(0x1d0),_0x2bb35a(0x1bf),_0x2bb35a(0x138),_0x2bb35a(0x173),'exception','table',_0x2bb35a(0x160)];for(let _0x2f33da=0x0;_0x2f33da<_0x1d8cf4['length'];_0x2f33da++){const _0x1da4bb=a0_0x2fd121[_0x2bb35a(0x178)][_0x2bb35a(0x1ef)][_0x2bb35a(0x182)](a0_0x2fd121),_0xc9b26c=_0x1d8cf4[_0x2f33da],_0x265588=_0x263c25[_0xc9b26c]||_0x1da4bb;_0x1da4bb[_0x2bb35a(0x16f)]=a0_0x2fd121[_0x2bb35a(0x182)](a0_0x2fd121),_0x1da4bb[_0x2bb35a(0x1b4)]=_0x265588[_0x2bb35a(0x1b4)][_0x2bb35a(0x182)](_0x265588),_0x263c25[_0xc9b26c]=_0x1da4bb;}});a0_0x5b4f37(),require('dotenv')['config']();const express=require(a0_0x445576(0x12e)),apps=express(),{createClient}=require('@supabase/supabase-js'),crypto=require('crypto'),cors=require('cors'),path=require('path'),bodyParser=require(a0_0x445576(0x1b9)),multer=require('multer'),fs=require('fs'),cookieParser=require(a0_0x445576(0x1a2)),bcrypt=require('bcrypt'),uploadsDir=path[a0_0x445576(0x1a5)](__dirname,a0_0x445576(0x189));!fs[a0_0x445576(0x12c)](uploadsDir)&&fs[a0_0x445576(0x136)](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=['https://ranziro-server-production.up.railway.app/',a0_0x445576(0x177),'http://localhost:2121'];function a0_0x4bbd(_0xd596e9,_0x159729){const _0xacd501=a0_0x2f2a();return a0_0x4bbd=function(_0x5b4f37,_0x2fd121){_0x5b4f37=_0x5b4f37-0x129;let _0x4e3973=_0xacd501[_0x5b4f37];if(a0_0x4bbd['TiCkxf']===undefined){var _0x8cad9e=function(_0x4bbdfe){const _0x408c88='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9ddbee='',_0x210386='',_0x408488=_0x9ddbee+_0x8cad9e;for(let _0x248a7f=0x0,_0x49c871,_0x5dfa0a,_0x2ec146=0x0;_0x5dfa0a=_0x4bbdfe['charAt'](_0x2ec146++);~_0x5dfa0a&&(_0x49c871=_0x248a7f%0x4?_0x49c871*0x40+_0x5dfa0a:_0x5dfa0a,_0x248a7f++%0x4)?_0x9ddbee+=_0x408488['charCodeAt'](_0x2ec146+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x49c871>>(-0x2*_0x248a7f&0x6)):_0x248a7f:0x0){_0x5dfa0a=_0x408c88['indexOf'](_0x5dfa0a);}for(let _0x293dab=0x0,_0x307156=_0x9ddbee['length'];_0x293dab<_0x307156;_0x293dab++){_0x210386+='%'+('00'+_0x9ddbee['charCodeAt'](_0x293dab)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x210386);};a0_0x4bbd['BGSdjN']=_0x8cad9e,_0xd596e9=arguments,a0_0x4bbd['TiCkxf']=!![];}const _0x13cd53=_0xacd501[0x0],_0x401854=_0x5b4f37+_0x13cd53,_0x2f2a56=_0xd596e9[_0x401854];if(!_0x2f2a56){const _0x5e335c=function(_0x51ebdd){this['nKcDVV']=_0x51ebdd,this['duzNEl']=[0x1,0x0,0x0],this['KTNfqf']=function(){return'newState';},this['EVRVrj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['TudkMk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5e335c['prototype']['qsGdKC']=function(){const _0x4a306d=new RegExp(this['EVRVrj']+this['TudkMk']),_0x35b5c7=_0x4a306d['test'](this['KTNfqf']['toString']())?--this['duzNEl'][0x1]:--this['duzNEl'][0x0];return this['BZUBig'](_0x35b5c7);},_0x5e335c['prototype']['BZUBig']=function(_0x3c5e17){if(!Boolean(~_0x3c5e17))return _0x3c5e17;return this['tChmrX'](this['nKcDVV']);},_0x5e335c['prototype']['tChmrX']=function(_0x243922){for(let _0x1ee436=0x0,_0xb56c5b=this['duzNEl']['length'];_0x1ee436<_0xb56c5b;_0x1ee436++){this['duzNEl']['push'](Math['round'](Math['random']())),_0xb56c5b=this['duzNEl']['length'];}return _0x243922(this['duzNEl'][0x0]);},new _0x5e335c(a0_0x4bbd)['qsGdKC'](),_0x4e3973=a0_0x4bbd['BGSdjN'](_0x4e3973),_0xd596e9[_0x401854]=_0x4e3973;}else _0x4e3973=_0x2f2a56;return _0x4e3973;},a0_0x4bbd(_0xd596e9,_0x159729);}apps['use'](cors({'origin':function(_0x22d925,_0x1a2a54){const _0x527c98=a0_0x445576;!_0x22d925||allowedOrigins[_0x527c98(0x1d4)](_0x22d925)?_0x1a2a54(null,!![]):_0x1a2a54(new Error('Not\x20allowed\x20by\x20CORS'));},'credentials':!![]})),apps[a0_0x445576(0x1b6)]((_0x3685e6,_0x3a1e62,_0x937324)=>{const _0x11f11b=a0_0x445576;_0x3a1e62[_0x11f11b(0x18e)](_0x11f11b(0x1da),_0x11f11b(0x137)),_0x937324();}),apps['use'](bodyParser[a0_0x445576(0x1d9)]({'limit':a0_0x445576(0x1eb)})),apps[a0_0x445576(0x1b6)](bodyParser[a0_0x445576(0x184)]({'extended':!![],'limit':'10mb'})),apps[a0_0x445576(0x1b6)](cookieParser()),apps['use'](express[a0_0x445576(0x147)](path[a0_0x445576(0x1a5)](__dirname,a0_0x445576(0x144))));(!process[a0_0x445576(0x19f)][a0_0x445576(0x1b8)]||!process[a0_0x445576(0x19f)]['SUPABASE_KEY'])&&console[a0_0x445576(0x1bf)]('⚠️\x20SUPABASE_URL\x20atau\x20SUPABASE_KEY\x20tidak\x20ditemukan\x20di\x20.env.\x20Pastikan\x20variabel\x20env\x20diset\x20jika\x20menggunakan\x20Supabase.');const supabase=createClient(process[a0_0x445576(0x19f)][a0_0x445576(0x1b8)]||'',process[a0_0x445576(0x19f)][a0_0x445576(0x1aa)]||'');let pagesRouter=null;try{if(pagesModule){if(typeof pagesModule===a0_0x445576(0x14c)||typeof pagesModule[a0_0x445576(0x154)]===a0_0x445576(0x14c))pagesRouter=pagesModule;else pagesModule[a0_0x445576(0x1c3)]&&(pagesRouter=pagesModule[a0_0x445576(0x1c3)]);}}catch(a0_0x58822a){console[a0_0x445576(0x173)](a0_0x445576(0x139),a0_0x58822a&&a0_0x58822a[a0_0x445576(0x1d6)]?a0_0x58822a[a0_0x445576(0x1d6)]:a0_0x58822a);}pagesRouter?(apps[a0_0x445576(0x1b6)]('/',pagesRouter),console['log'](a0_0x445576(0x194))):console['warn'](a0_0x445576(0x164));const sessions=new Map();function genToken(){const _0x1ef1b6=a0_0x445576;return crypto[_0x1ef1b6(0x152)](0x20)['toString']('hex');}setInterval(()=>{const _0x18c928=a0_0x445576,_0x211679=Date[_0x18c928(0x1d1)]();for(const [_0x21efba,_0x1602bb]of sessions['entries']()){if(!_0x1602bb||_0x1602bb[_0x18c928(0x1ea)]<=_0x211679)sessions[_0x18c928(0x1c1)](_0x21efba);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x70cffb,_0x3a30b7,_0x4004db){const _0x48aab2=a0_0x445576;try{const _0x266307=_0x70cffb[_0x48aab2(0x157)]&&_0x70cffb[_0x48aab2(0x157)][_0x48aab2(0x1bb)];if(!_0x266307)return _0x3a30b7[_0x48aab2(0x19d)](0x191)['json']({'success':![],'message':'Not\x20authorized'});const _0x3e4887=sessions[_0x48aab2(0x141)](_0x266307);if(!_0x3e4887)return _0x3a30b7[_0x48aab2(0x1b1)](_0x48aab2(0x1bb)),_0x3a30b7[_0x48aab2(0x19d)](0x191)[_0x48aab2(0x1d9)]({'success':![],'message':_0x48aab2(0x1cf)});if(Date[_0x48aab2(0x1d1)]()>_0x3e4887['expiresAt'])return sessions['delete'](_0x266307),_0x3a30b7[_0x48aab2(0x1b1)](_0x48aab2(0x1bb)),_0x3a30b7[_0x48aab2(0x19d)](0x191)[_0x48aab2(0x1d9)]({'success':![],'message':_0x48aab2(0x172)});_0x70cffb[_0x48aab2(0x149)]=_0x3e4887[_0x48aab2(0x149)],_0x4004db();}catch(_0x4a1002){return _0x3a30b7['status'](0x191)[_0x48aab2(0x1d9)]({'success':![],'message':_0x48aab2(0x1cf)});}}async function ensureAdminExists(){const _0x2fafd5=a0_0x445576;try{let _0xdcef68;try{const _0x40dc23=await supabase['from'](_0x2fafd5(0x199))[_0x2fafd5(0x187)]('*')['eq']('username','admin')[_0x2fafd5(0x17b)](0x1)[_0x2fafd5(0x1b3)]();_0xdcef68=_0x40dc23&&_0x40dc23['data']!==undefined?_0x40dc23['data']:_0x40dc23;}catch(_0x51bc9f){const _0x22ef58=await supabase['from'](_0x2fafd5(0x199))[_0x2fafd5(0x187)]('*')['eq'](_0x2fafd5(0x13b),_0x2fafd5(0x186))[_0x2fafd5(0x17b)](0x1);_0xdcef68=_0x22ef58&&_0x22ef58[_0x2fafd5(0x188)]&&_0x22ef58['data'][_0x2fafd5(0x1e3)]?_0x22ef58[_0x2fafd5(0x188)][0x0]:null;}if(_0xdcef68){console[_0x2fafd5(0x1d0)](_0x2fafd5(0x1cd));return;}const _0x2edd52=process[_0x2fafd5(0x19f)]['ADMIN_PW'];if(!_0x2edd52){console[_0x2fafd5(0x1bf)](_0x2fafd5(0x176));return;}const _0x184755=0xc,_0x9f2243=await bcrypt[_0x2fafd5(0x18b)](String(_0x2edd52),_0x184755),{data:_0x7dfeb8,error:_0x2bf313}=await supabase[_0x2fafd5(0x169)](_0x2fafd5(0x199))[_0x2fafd5(0x181)]([{'username':_0x2fafd5(0x186),'password_hash':_0x9f2243,'role':_0x2fafd5(0x186),'created_at':new Date()}])[_0x2fafd5(0x187)]();_0x2bf313?console[_0x2fafd5(0x173)](_0x2fafd5(0x14a),_0x2bf313):console[_0x2fafd5(0x1d0)]('✅\x20Admin\x20user\x20created\x20in\x20ranzirostore_loginadmin\x20(password\x20hash\x20stored).');}catch(_0x1e5348){console[_0x2fafd5(0x173)](_0x2fafd5(0x12a),_0x1e5348&&_0x1e5348[_0x2fafd5(0x1d6)]?_0x1e5348[_0x2fafd5(0x1d6)]:_0x1e5348);}}ensureAdminExists()[a0_0x445576(0x198)](_0x389e40=>console[a0_0x445576(0x173)](a0_0x445576(0x1e0),_0x389e40)),apps[a0_0x445576(0x1a1)]('/api/login',async(_0x5b95b6,_0x111284)=>{const _0x2c2244=a0_0x445576;try{const {username:_0x159210,password:_0x52d4a5}=_0x5b95b6[_0x2c2244(0x1c7)]||{};if(!_0x159210||!_0x52d4a5)return _0x111284[_0x2c2244(0x19d)](0x190)['json']({'success':![],'message':_0x2c2244(0x19a)});if(String(_0x159210)['toLowerCase']()!==_0x2c2244(0x186))return _0x111284[_0x2c2244(0x19d)](0x191)[_0x2c2244(0x1d9)]({'success':![],'message':_0x2c2244(0x15f)});const {data:_0x90f89c,error:_0x7318ce}=await supabase[_0x2c2244(0x169)](_0x2c2244(0x199))[_0x2c2244(0x187)]('*')['eq'](_0x2c2244(0x13b),_0x2c2244(0x186))[_0x2c2244(0x17b)](0x1)[_0x2c2244(0x1b3)]();if(_0x7318ce)return console['warn'](_0x2c2244(0x1d3),_0x7318ce),_0x111284[_0x2c2244(0x19d)](0x1f4)[_0x2c2244(0x1d9)]({'success':![],'message':_0x2c2244(0x14d)});if(!_0x90f89c)return _0x111284[_0x2c2244(0x19d)](0x191)[_0x2c2244(0x1d9)]({'success':![],'message':_0x2c2244(0x15f)});const _0x32c0b1=String(_0x90f89c[_0x2c2244(0x19e)]||_0x90f89c[_0x2c2244(0x193)]||'')[_0x2c2244(0x17c)]();if(!_0x32c0b1)return console[_0x2c2244(0x173)]('No\x20password_hash\x20found\x20for\x20admin\x20row.'),_0x111284['status'](0x1f4)['json']({'success':![],'message':_0x2c2244(0x180)});const _0x1ff277=await bcrypt[_0x2c2244(0x1c6)](String(_0x52d4a5),_0x32c0b1);if(!_0x1ff277)return _0x111284[_0x2c2244(0x19d)](0x191)[_0x2c2244(0x1d9)]({'success':![],'message':_0x2c2244(0x15f)});const _0x51917e=genToken(),_0x1059ad=Date['now']()+0x18*0x3c*0x3c*0x3e8;sessions[_0x2c2244(0x18e)](_0x51917e,{'user':'admin','expiresAt':_0x1059ad});const _0xc1dd19={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':_0x2c2244(0x17e),'path':'/'};if(process[_0x2c2244(0x19f)][_0x2c2244(0x18a)]===_0x2c2244(0x19b))_0xc1dd19['secure']=!![];_0x111284[_0x2c2244(0x18d)](_0x2c2244(0x1bb),_0x51917e,_0xc1dd19);try{await supabase[_0x2c2244(0x169)](_0x2c2244(0x199))[_0x2c2244(0x1c0)]({'last_login':new Date()})['eq'](_0x2c2244(0x13b),_0x2c2244(0x186));}catch(_0x1a81e6){console[_0x2c2244(0x1bf)]('Could\x20not\x20write\x20last_login:',_0x1a81e6);}return _0x111284['json']({'success':!![]});}catch(_0x683a1f){return console[_0x2c2244(0x173)](_0x2c2244(0x155),_0x683a1f&&_0x683a1f[_0x2c2244(0x1d6)]?_0x683a1f[_0x2c2244(0x1d6)]:_0x683a1f),_0x111284[_0x2c2244(0x19d)](0x1f4)[_0x2c2244(0x1d9)]({'success':![],'message':_0x2c2244(0x14d)});}}),apps['post'](a0_0x445576(0x166),(_0x2999d3,_0x389599)=>{const _0x4f549a=a0_0x445576;try{const _0x50a8ce=_0x2999d3['cookies']&&_0x2999d3[_0x4f549a(0x157)]['admin_session'];if(_0x50a8ce)sessions[_0x4f549a(0x1c1)](_0x50a8ce);return _0x389599[_0x4f549a(0x1b1)](_0x4f549a(0x1bb),{'path':'/'}),_0x389599[_0x4f549a(0x1d9)]({'success':!![]});}catch(_0x41577b){return console[_0x4f549a(0x173)](_0x4f549a(0x1c2),_0x41577b),_0x389599[_0x4f549a(0x19d)](0x1f4)[_0x4f549a(0x1d9)]({'success':![],'message':_0x4f549a(0x14d)});}}),apps['get']('/api/check-session',requireAdmin,(_0x640ac5,_0x408ba9)=>{const _0x3397e8=a0_0x445576;_0x408ba9[_0x3397e8(0x1d9)]({'success':!![],'user':_0x640ac5[_0x3397e8(0x149)]});});const escapeHtml=(_0x525455='')=>String(_0x525455)['replace'](/[&<>"']/g,_0x3cca5e=>({'&':a0_0x445576(0x140),'<':a0_0x445576(0x167),'>':a0_0x445576(0x129),'\x22':a0_0x445576(0x1ab),'\x27':a0_0x445576(0x1e2)}[_0x3cca5e]));apps[a0_0x445576(0x141)]('/akun',async(_0xe74a7c,_0x23cd07)=>{const _0x301b0d=a0_0x445576;try{const _0x2d48ce=path['join'](__dirname,_0x301b0d(0x144),_0x301b0d(0x14e));if(!fs[_0x301b0d(0x12c)](_0x2d48ce))return _0x23cd07[_0x301b0d(0x19d)](0x194)[_0x301b0d(0x196)](_0x301b0d(0x179));let _0x427051=fs[_0x301b0d(0x142)](_0x2d48ce,'utf8');const _0x26aad5=_0xe74a7c[_0x301b0d(0x130)]+_0x301b0d(0x132)+_0xe74a7c[_0x301b0d(0x141)](_0x301b0d(0x1b7));let _0x24af35=_0x26aad5+_0x301b0d(0x13e),_0x531722='Ranziro\x20Store\x20-\x20Detail\x20Akun',_0x1faf96=_0x301b0d(0x16d);const _0xed0fd6=_0xe74a7c[_0x301b0d(0x195)]['id']||_0xe74a7c['query'][_0x301b0d(0x12b)]||_0xe74a7c['query'][_0x301b0d(0x131)],_0x4b7c76=_0xe74a7c[_0x301b0d(0x195)][_0x301b0d(0x148)]||_0xe74a7c[_0x301b0d(0x195)][_0x301b0d(0x1cc)];if(_0xed0fd6){const {data:_0x391b66,error:_0xad2b7}=await supabase[_0x301b0d(0x169)](_0x301b0d(0x163))[_0x301b0d(0x187)]('*')['eq']('id',_0xed0fd6)[_0x301b0d(0x1ad)]();if(!_0xad2b7&&_0x391b66){const _0x353201=Array['isArray'](_0x391b66[_0x301b0d(0x16e)])?_0x391b66['gambars']:typeof _0x391b66['gambars']==='string'?((()=>{const _0x5b64b8=_0x301b0d;try{return JSON['parse'](_0x391b66[_0x5b64b8(0x16e)]);}catch(_0x55f239){return[];}})()):[],_0x55e377=_0x353201&&_0x353201[0x0]||_0x391b66[_0x301b0d(0x1ae)];if(_0x55e377)_0x24af35=_0x55e377[_0x301b0d(0x1e1)]('http')?_0x55e377:_0x26aad5+'/'+_0x55e377[_0x301b0d(0x16b)](/^\//,'');_0x531722=_0x391b66[_0x301b0d(0x148)]||_0x531722,_0x1faf96=_0x391b66[_0x301b0d(0x15c)]||_0x1faf96;}}else{if(_0x4b7c76){const {data:_0xebfe34,error:_0x3b2214}=await supabase[_0x301b0d(0x169)]('ranzirostore_akunml')[_0x301b0d(0x187)]('*')[_0x301b0d(0x1e4)](_0x301b0d(0x148),'%'+_0x4b7c76+'%')['limit'](0x1);if(!_0x3b2214&&Array[_0x301b0d(0x1dc)](_0xebfe34)&&_0xebfe34[0x0]){const _0xd14cb8=_0xebfe34[0x0],_0x3527e3=Array[_0x301b0d(0x1dc)](_0xd14cb8['gambars'])?_0xd14cb8['gambars']:[],_0x418587=_0x3527e3&&_0x3527e3[0x0]||_0xd14cb8[_0x301b0d(0x1ae)];if(_0x418587)_0x24af35=_0x418587[_0x301b0d(0x1e1)](_0x301b0d(0x161))?_0x418587:_0x26aad5+'/'+_0x418587[_0x301b0d(0x16b)](/^\//,'');_0x531722=_0xd14cb8[_0x301b0d(0x148)]||_0x531722,_0x1faf96=_0xd14cb8[_0x301b0d(0x15c)]||_0x1faf96;}}}const _0x39dbc5=_0x301b0d(0x1a8)+escapeHtml(_0x531722)+_0x301b0d(0x1d2)+escapeHtml(_0x1faf96)+_0x301b0d(0x17d)+_0x24af35+_0x301b0d(0x13f)+(_0x26aad5+_0xe74a7c[_0x301b0d(0x1bd)])+_0x301b0d(0x185)+escapeHtml(_0x531722)+_0x301b0d(0x1d8)+escapeHtml(_0x1faf96)+_0x301b0d(0x17f)+_0x24af35+_0x301b0d(0x1de);_0x427051['indexOf'](_0x301b0d(0x1ee))!==-0x1?_0x427051=_0x427051[_0x301b0d(0x16b)](_0x301b0d(0x1ee),_0x39dbc5+_0x301b0d(0x146)):_0x427051=_0x39dbc5+'\x0a'+_0x427051,_0x23cd07[_0x301b0d(0x18e)](_0x301b0d(0x13c),_0x301b0d(0x1a0)),_0x23cd07[_0x301b0d(0x196)](_0x427051);}catch(_0x8675e2){console[_0x301b0d(0x173)](_0x301b0d(0x1a9),_0x8675e2),_0x23cd07[_0x301b0d(0x14f)](path[_0x301b0d(0x1a5)](__dirname,_0x301b0d(0x144),'akun_ml.html'));}}),apps[a0_0x445576(0x141)](a0_0x445576(0x1bc),(_0x48419d,_0x9a8892)=>{const _0x4885e2=a0_0x445576;_0x9a8892[_0x4885e2(0x1d9)]({'ok':!![],'time':new Date()[_0x4885e2(0x16a)]()});}),apps[a0_0x445576(0x141)](a0_0x445576(0x1c5),async(_0x269d56,_0x521340)=>{const _0x20c71e=a0_0x445576;try{const {data:_0x2f4216,error:_0x44c3e4}=await supabase[_0x20c71e(0x169)](_0x20c71e(0x163))[_0x20c71e(0x187)]('*')[_0x20c71e(0x1c8)]('id',{'ascending':![]});if(_0x44c3e4)throw _0x44c3e4;_0x521340['json']({'success':!![],'data':_0x2f4216});}catch(_0x982fbc){console[_0x20c71e(0x173)](_0x982fbc),_0x521340[_0x20c71e(0x19d)](0x1f4)['json']({'success':![],'error':_0x982fbc[_0x20c71e(0x1a3)]||_0x982fbc});}}),apps[a0_0x445576(0x1a1)](a0_0x445576(0x1b5),upload[a0_0x445576(0x17a)]('gambar',0xa),async(_0x122cae,_0xafb44b)=>{const _0x38fcc2=a0_0x445576;try{const {nama:_0x265987,harga:_0x49609d,id_akun:_0x50df36,deskripsi:_0x423196,rank:_0x5dc752,skin:_0x4d7d63,hero:_0x1952ea,winrate:_0x2a70d2,pertandingan:_0x437daa,magic_core:_0x176763,emblem:_0x39b8d4,pribadi_beli:_0xb7233c,log:_0x1c6525,bind:_0x222e6d}=_0x122cae[_0x38fcc2(0x1c7)],_0x1e0a3b=_0x122cae[_0x38fcc2(0x183)]||[];if(!_0x265987||!_0x49609d||!_0x50df36)return _0xafb44b[_0x38fcc2(0x19d)](0x190)[_0x38fcc2(0x1d9)]({'success':![],'message':_0x38fcc2(0x1c4)});const _0x26b90f=[];for(const _0x37d718 of _0x1e0a3b){const _0x5f55f1=path['extname'](_0x37d718[_0x38fcc2(0x15b)])||'',_0x19e0b6=_0x38fcc2(0x1e7)+Date[_0x38fcc2(0x1d1)]()+'_'+Math[_0x38fcc2(0x15a)]()[_0x38fcc2(0x1b4)](0x24)['slice'](0x2)+_0x5f55f1,_0x2329f8=await supabase[_0x38fcc2(0x1cb)][_0x38fcc2(0x169)](_0x38fcc2(0x1ae))['upload'](_0x19e0b6,fs['createReadStream'](_0x37d718[_0x38fcc2(0x135)]),{'contentType':_0x37d718[_0x38fcc2(0x19c)],'duplex':_0x38fcc2(0x18c)});try{fs[_0x38fcc2(0x1b0)](_0x37d718[_0x38fcc2(0x135)]);}catch(_0x588936){}if(_0x2329f8[_0x38fcc2(0x173)])throw _0x2329f8[_0x38fcc2(0x173)];const {data:_0x472d16}=supabase[_0x38fcc2(0x1cb)][_0x38fcc2(0x169)](_0x38fcc2(0x1ae))['getPublicUrl'](_0x19e0b6);_0x26b90f['push'](_0x472d16['publicUrl']);}const _0x2bd9aa=_0x26b90f['length']?_0x26b90f[0x0]:null,_0x1c7d15=_0x122cae[_0x38fcc2(0x1c7)][_0x38fcc2(0x19d)],_0x5e69d1=typeof _0x1c7d15===_0x38fcc2(0x145)?![_0x38fcc2(0x16c),'false','0']['includes'](_0x1c7d15[_0x38fcc2(0x174)]()):Boolean(_0x1c7d15),{data:_0x131ba9,error:_0x2fa4c7}=await supabase[_0x38fcc2(0x169)]('ranzirostore_akunml')[_0x38fcc2(0x181)]([{'nama':_0x265987,'harga':_0x49609d,'id_akun':_0x50df36,'deskripsi':_0x423196,'rank':_0x5dc752,'skin':_0x4d7d63?parseInt(_0x4d7d63):null,'hero':_0x1952ea?parseInt(_0x1952ea):null,'winrate':_0x2a70d2,'pertandingan':_0x437daa?parseInt(_0x437daa):null,'magic_core':_0x176763,'emblem':_0x39b8d4,'pribadi_beli':_0xb7233c,'log':_0x1c6525,'bind':_0x222e6d,'gambar':_0x2bd9aa,'gambars':_0x26b90f,'status':_0x5e69d1}])[_0x38fcc2(0x187)]();if(_0x2fa4c7)throw _0x2fa4c7;_0xafb44b[_0x38fcc2(0x19d)](0xc9)[_0x38fcc2(0x1d9)]({'success':!![],'data':_0x131ba9});}catch(_0x149259){console[_0x38fcc2(0x173)](_0x38fcc2(0x1c9),_0x149259),_0xafb44b[_0x38fcc2(0x19d)](0x1f4)[_0x38fcc2(0x1d9)]({'success':![],'message':_0x149259[_0x38fcc2(0x1a3)]||_0x149259});}}),apps[a0_0x445576(0x141)](a0_0x445576(0x168),async(_0x212a93,_0x37094c)=>{const _0x204f32=a0_0x445576;try{const {id:_0x14896d}=_0x212a93['params'],{data:_0x33a5f5,error:_0x3dc1e1}=await supabase[_0x204f32(0x169)]('ranzirostore_akunml')['select']('*')['eq']('id',_0x14896d)[_0x204f32(0x1ad)]();if(_0x3dc1e1)throw _0x3dc1e1;_0x37094c[_0x204f32(0x1d9)]({'success':!![],'data':_0x33a5f5});}catch(_0x3bd4d8){console[_0x204f32(0x173)](_0x3bd4d8),_0x37094c[_0x204f32(0x19d)](0x1f4)[_0x204f32(0x1d9)]({'success':![],'message':_0x3bd4d8['message']||_0x3bd4d8});}}),apps[a0_0x445576(0x1a1)]('/api/upload_images/:id',upload[a0_0x445576(0x17a)](a0_0x445576(0x1ae),0xa),async(_0x12e053,_0x3d8cfa)=>{const _0x331f74=a0_0x445576;try{const {id:_0xbeb1f9}=_0x12e053['params'],_0x27ff01=_0x12e053[_0x331f74(0x183)]||[];if(!_0x27ff01[_0x331f74(0x1e3)])return _0x3d8cfa[_0x331f74(0x19d)](0x190)[_0x331f74(0x1d9)]({'success':![],'message':_0x331f74(0x134)});const {data:_0x146e83,error:_0x14a38d}=await supabase['from']('ranzirostore_akunml')['select'](_0x331f74(0x16e))['eq']('id',_0xbeb1f9)['single']();if(_0x14a38d)throw _0x14a38d;const _0x55cff0=Array[_0x331f74(0x1dc)](_0x146e83[_0x331f74(0x16e)])?_0x146e83[_0x331f74(0x16e)]:[],_0x1ef70d=[];for(const _0x174a4c of _0x27ff01){const _0x44de34=path[_0x331f74(0x1ed)](_0x174a4c[_0x331f74(0x15b)])||'',_0xe20192=_0x331f74(0x1e7)+Date[_0x331f74(0x1d1)]()+'_'+Math[_0x331f74(0x15a)]()[_0x331f74(0x1b4)](0x24)[_0x331f74(0x1e8)](0x2)+_0x44de34,_0x52c5b5=await supabase['storage'][_0x331f74(0x169)](_0x331f74(0x1ae))[_0x331f74(0x1be)](_0xe20192,fs['createReadStream'](_0x174a4c[_0x331f74(0x135)]),{'contentType':_0x174a4c[_0x331f74(0x19c)],'duplex':_0x331f74(0x18c)});try{fs[_0x331f74(0x1b0)](_0x174a4c[_0x331f74(0x135)]);}catch(_0x78ff52){}if(_0x52c5b5[_0x331f74(0x173)])throw _0x52c5b5[_0x331f74(0x173)];const {data:_0x173bdb}=supabase['storage'][_0x331f74(0x169)](_0x331f74(0x1ae))[_0x331f74(0x1a4)](_0xe20192);_0x1ef70d[_0x331f74(0x12d)](_0x173bdb[_0x331f74(0x1af)]);}const _0x7b4ed7=_0x55cff0['concat'](_0x1ef70d),_0x6a4bc5=_0x7b4ed7['length']?_0x7b4ed7[0x0]:null,{data:_0xc352ea,error:_0x1cc0f9}=await supabase[_0x331f74(0x169)](_0x331f74(0x163))[_0x331f74(0x1c0)]({'gambars':_0x7b4ed7,'gambar':_0x6a4bc5,'updated_at':new Date()})['eq']('id',_0xbeb1f9)[_0x331f74(0x187)]();if(_0x1cc0f9)throw _0x1cc0f9;_0x3d8cfa[_0x331f74(0x1d9)]({'success':!![],'data':_0xc352ea});}catch(_0x3693d0){console['error'](_0x3693d0),_0x3d8cfa[_0x331f74(0x19d)](0x1f4)[_0x331f74(0x1d9)]({'success':![],'message':_0x3693d0[_0x331f74(0x1a3)]||_0x3693d0});}}),apps['delete'](a0_0x445576(0x1e9),async(_0x12f478,_0x651cd5)=>{const _0x4c87e0=a0_0x445576;try{const {id:_0xba8fae,url:_0x10f756}=_0x12f478['body'];if(!_0xba8fae||!_0x10f756)return _0x651cd5[_0x4c87e0(0x19d)](0x190)[_0x4c87e0(0x1d9)]({'success':![],'message':_0x4c87e0(0x18f)});const {data:_0x37d04e,error:_0x50daf2}=await supabase[_0x4c87e0(0x169)]('ranzirostore_akunml')[_0x4c87e0(0x187)](_0x4c87e0(0x16e))['eq']('id',_0xba8fae)[_0x4c87e0(0x1ad)]();if(_0x50daf2)throw _0x50daf2;const _0x53b805=Array['isArray'](_0x37d04e['gambars'])?_0x37d04e[_0x4c87e0(0x16e)]:[],_0x2bd82e=_0x10f756[_0x4c87e0(0x12f)]('/')[_0x4c87e0(0x150)](),{error:_0x367f94}=await supabase[_0x4c87e0(0x1cb)][_0x4c87e0(0x169)](_0x4c87e0(0x1ae))[_0x4c87e0(0x1dd)]([_0x2bd82e]);_0x367f94&&console['warn'](_0x4c87e0(0x190),_0x367f94[_0x4c87e0(0x1a3)]||_0x367f94);const _0xa9c1ea=_0x53b805[_0x4c87e0(0x1ec)](_0x3f014e=>_0x3f014e!==_0x10f756),_0x52ad5b=_0xa9c1ea['length']?_0xa9c1ea[0x0]:null,{data:_0x25b633,error:_0xa37c04}=await supabase[_0x4c87e0(0x169)](_0x4c87e0(0x163))[_0x4c87e0(0x1c0)]({'gambars':_0xa9c1ea,'gambar':_0x52ad5b,'updated_at':new Date()})['eq']('id',_0xba8fae)['select']();if(_0xa37c04)throw _0xa37c04;_0x651cd5[_0x4c87e0(0x1d9)]({'success':!![],'data':_0x25b633});}catch(_0x357151){console[_0x4c87e0(0x173)](_0x357151),_0x651cd5['status'](0x1f4)['json']({'success':![],'message':_0x357151[_0x4c87e0(0x1a3)]||_0x357151});}}),apps[a0_0x445576(0x1c1)](a0_0x445576(0x1ce),async(_0x230718,_0x3cd7e0)=>{const _0x300c5b=a0_0x445576;try{const {id:_0xc8393}=_0x230718[_0x300c5b(0x175)],{data:_0x244d55,error:_0x372842}=await supabase[_0x300c5b(0x169)](_0x300c5b(0x163))[_0x300c5b(0x187)]('gambars')['eq']('id',_0xc8393)[_0x300c5b(0x1ad)]();if(_0x372842)throw _0x372842;const _0xc61c06=Array[_0x300c5b(0x1dc)](_0x244d55['gambars'])?_0x244d55['gambars']:[],_0x524c39=_0xc61c06[_0x300c5b(0x1ca)](_0x3f2ef9=>_0x3f2ef9[_0x300c5b(0x12f)]('/')[_0x300c5b(0x150)]())[_0x300c5b(0x1ec)](Boolean);if(_0x524c39[_0x300c5b(0x1e3)]){const {error:_0x4ddf58}=await supabase[_0x300c5b(0x1cb)]['from'](_0x300c5b(0x1ae))['remove'](_0x524c39);if(_0x4ddf58)throw _0x4ddf58;}const {data:_0xe97009,error:_0x58a5cc}=await supabase[_0x300c5b(0x169)](_0x300c5b(0x163))[_0x300c5b(0x1c0)]({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0xc8393)[_0x300c5b(0x187)]();if(_0x58a5cc)throw _0x58a5cc;_0x3cd7e0['json']({'success':!![],'data':_0xe97009});}catch(_0x4f7f8b){console[_0x300c5b(0x173)](_0x4f7f8b),_0x3cd7e0[_0x300c5b(0x19d)](0x1f4)[_0x300c5b(0x1d9)]({'success':![],'message':_0x4f7f8b[_0x300c5b(0x1a3)]||_0x4f7f8b});}}),apps[a0_0x445576(0x1d7)](a0_0x445576(0x151),async(_0xaed820,_0x293c4d)=>{const _0x3ab2b3=a0_0x445576;try{const {id:_0x8ec9ea}=_0xaed820[_0x3ab2b3(0x175)],{order:_0x2fab71}=_0xaed820[_0x3ab2b3(0x1c7)];if(!Array[_0x3ab2b3(0x1dc)](_0x2fab71))return _0x293c4d[_0x3ab2b3(0x19d)](0x190)['json']({'success':![],'message':'order\x20harus\x20array\x20URL'});const _0x597387=_0x2fab71[_0x3ab2b3(0x1e3)]?_0x2fab71[0x0]:null,{data:_0x593fe5,error:_0x4193b5}=await supabase[_0x3ab2b3(0x169)](_0x3ab2b3(0x163))[_0x3ab2b3(0x1c0)]({'gambars':_0x2fab71,'gambar':_0x597387,'updated_at':new Date()})['eq']('id',_0x8ec9ea)[_0x3ab2b3(0x187)]();if(_0x4193b5)throw _0x4193b5;_0x293c4d[_0x3ab2b3(0x1d9)]({'success':!![],'data':_0x593fe5});}catch(_0x268569){console['error'](_0x268569),_0x293c4d['status'](0x1f4)[_0x3ab2b3(0x1d9)]({'success':![],'message':_0x268569[_0x3ab2b3(0x1a3)]||_0x268569});}}),apps[a0_0x445576(0x1d7)]('/api/upd_ranzirostore_akunml/:id',async(_0x23230a,_0x34767c)=>{const _0x23341a=a0_0x445576;try{const {id:_0x2e89ec}=_0x23230a[_0x23341a(0x175)],_0x210efe=_0x23230a['body']||{};_0x210efe[_0x23341a(0x19d)]!==undefined&&(typeof _0x210efe[_0x23341a(0x19d)]===_0x23341a(0x145)?_0x210efe[_0x23341a(0x19d)]=![_0x23341a(0x16c),'false','0'][_0x23341a(0x1d4)](_0x210efe[_0x23341a(0x19d)][_0x23341a(0x174)]()):_0x210efe['status']=Boolean(_0x210efe[_0x23341a(0x19d)]));delete _0x210efe['id'];const {data:_0x5c7ac5,error:_0x53e40a}=await supabase[_0x23341a(0x169)](_0x23341a(0x163))[_0x23341a(0x1c0)]({..._0x210efe,'updated_at':new Date()})['eq']('id',_0x2e89ec)[_0x23341a(0x187)]();if(_0x53e40a)throw _0x53e40a;_0x34767c['json']({'success':!![],'data':_0x5c7ac5});}catch(_0x1b7433){console[_0x23341a(0x173)](_0x1b7433),_0x34767c['status'](0x1f4)[_0x23341a(0x1d9)]({'success':![],'message':_0x1b7433[_0x23341a(0x1a3)]||_0x1b7433});}}),apps['delete'](a0_0x445576(0x15d),async(_0x5805c1,_0x121bc9)=>{const _0x45d12f=a0_0x445576;try{const {id:_0x5813fd}=_0x5805c1[_0x45d12f(0x175)],{data:_0x1fd4ff,error:_0x18ba8a}=await supabase['from']('ranzirostore_akunml')[_0x45d12f(0x187)](_0x45d12f(0x16e))['eq']('id',_0x5813fd)[_0x45d12f(0x1ad)]();if(_0x18ba8a)throw _0x18ba8a;const _0x2ac79c=(_0x1fd4ff['gambars']||[])[_0x45d12f(0x1ca)](_0x22c41f=>_0x22c41f['split']('/')[_0x45d12f(0x150)]())[_0x45d12f(0x1ec)](Boolean);if(_0x2ac79c['length']){const {error:_0x21644b}=await supabase[_0x45d12f(0x1cb)][_0x45d12f(0x169)](_0x45d12f(0x1ae))[_0x45d12f(0x1dd)](_0x2ac79c);if(_0x21644b)throw _0x21644b;}const {data:_0x17ee74,error:_0x11128b}=await supabase[_0x45d12f(0x169)](_0x45d12f(0x163))['delete']()['eq']('id',_0x5813fd);if(_0x11128b)throw _0x11128b;_0x121bc9[_0x45d12f(0x1d9)]({'success':!![],'data':_0x17ee74});}catch(_0x170e78){console[_0x45d12f(0x173)](_0x170e78),_0x121bc9['status'](0x1f4)[_0x45d12f(0x1d9)]({'success':![],'message':_0x170e78[_0x45d12f(0x1a3)]||_0x170e78});}});const port=process[a0_0x445576(0x19f)][a0_0x445576(0x192)]||0x849;apps[a0_0x445576(0x158)](port,()=>{const _0x1b3876=a0_0x445576;console[_0x1b3876(0x1d0)](_0x1b3876(0x170)+port);});const router=express[a0_0x445576(0x133)](),pages=[{'path':'/ml','file':a0_0x445576(0x13a)},{'path':a0_0x445576(0x15e),'file':a0_0x445576(0x14e)},{'path':a0_0x445576(0x13d),'file':a0_0x445576(0x197)},{'path':a0_0x445576(0x14b),'file':a0_0x445576(0x1ac)}];pages[a0_0x445576(0x165)](_0x5ab022=>{const _0x51785f=a0_0x445576;router[_0x51785f(0x141)](_0x5ab022[_0x51785f(0x135)],(_0x323e21,_0x58c0b7)=>{const _0x57cf63=_0x51785f,_0x3dca75=path[_0x57cf63(0x1a5)](process[_0x57cf63(0x156)](),'..',_0x57cf63(0x144),_0x5ab022['file']);fs[_0x57cf63(0x12c)](_0x3dca75)?_0x58c0b7['sendFile'](_0x3dca75):_0x58c0b7[_0x57cf63(0x19d)](0x194)[_0x57cf63(0x196)]('File\x20not\x20found');});});