const a0_0x2ccdd5=a0_0x3dc6;function a0_0x3dc6(_0x418d89,_0x265d0){const _0x2bf053=a0_0xb2ab();return a0_0x3dc6=function(_0x1cb1d6,_0x21cb8e){_0x1cb1d6=_0x1cb1d6-0x108;let _0xa6ef41=_0x2bf053[_0x1cb1d6];if(a0_0x3dc6['PXdLgE']===undefined){var _0x185cec=function(_0x3dc6d6){const _0x4ac049='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x376e49='',_0x5c3292='',_0x1c5616=_0x376e49+_0x185cec;for(let _0x4da017=0x0,_0x4891a8,_0x142928,_0x500567=0x0;_0x142928=_0x3dc6d6['charAt'](_0x500567++);~_0x142928&&(_0x4891a8=_0x4da017%0x4?_0x4891a8*0x40+_0x142928:_0x142928,_0x4da017++%0x4)?_0x376e49+=_0x1c5616['charCodeAt'](_0x500567+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4891a8>>(-0x2*_0x4da017&0x6)):_0x4da017:0x0){_0x142928=_0x4ac049['indexOf'](_0x142928);}for(let _0x1b4558=0x0,_0x8617ea=_0x376e49['length'];_0x1b4558<_0x8617ea;_0x1b4558++){_0x5c3292+='%'+('00'+_0x376e49['charCodeAt'](_0x1b4558)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c3292);};a0_0x3dc6['uSncOh']=_0x185cec,_0x418d89=arguments,a0_0x3dc6['PXdLgE']=!![];}const _0x423690=_0x2bf053[0x0],_0x3951ca=_0x1cb1d6+_0x423690,_0xb2abd6=_0x418d89[_0x3951ca];if(!_0xb2abd6){const _0x3a2d39=function(_0x16eafe){this['ptZvwt']=_0x16eafe,this['Mkmnib']=[0x1,0x0,0x0],this['YuIBkO']=function(){return'newState';},this['btMtaV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Xaparc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3a2d39['prototype']['bLYkCL']=function(){const _0x1a1b64=new RegExp(this['btMtaV']+this['Xaparc']),_0x37babd=_0x1a1b64['test'](this['YuIBkO']['toString']())?--this['Mkmnib'][0x1]:--this['Mkmnib'][0x0];return this['lBQrod'](_0x37babd);},_0x3a2d39['prototype']['lBQrod']=function(_0x4e91c1){if(!Boolean(~_0x4e91c1))return _0x4e91c1;return this['FKUsiU'](this['ptZvwt']);},_0x3a2d39['prototype']['FKUsiU']=function(_0x272f87){for(let _0x4af9c5=0x0,_0x2494ca=this['Mkmnib']['length'];_0x4af9c5<_0x2494ca;_0x4af9c5++){this['Mkmnib']['push'](Math['round'](Math['random']())),_0x2494ca=this['Mkmnib']['length'];}return _0x272f87(this['Mkmnib'][0x0]);},new _0x3a2d39(a0_0x3dc6)['bLYkCL'](),_0xa6ef41=a0_0x3dc6['uSncOh'](_0xa6ef41),_0x418d89[_0x3951ca]=_0xa6ef41;}else _0xa6ef41=_0xb2abd6;return _0xa6ef41;},a0_0x3dc6(_0x418d89,_0x265d0);}(function(_0x5deb14,_0x461c24){const _0x53e239=a0_0x3dc6,_0xe7420a=_0x5deb14();while(!![]){try{const _0x14763c=parseInt(_0x53e239(0x132))/0x1+parseInt(_0x53e239(0x16a))/0x2*(-parseInt(_0x53e239(0x1b6))/0x3)+parseInt(_0x53e239(0x1c2))/0x4+parseInt(_0x53e239(0x191))/0x5*(parseInt(_0x53e239(0x1a7))/0x6)+parseInt(_0x53e239(0x133))/0x7*(-parseInt(_0x53e239(0x128))/0x8)+-parseInt(_0x53e239(0x1a6))/0x9+parseInt(_0x53e239(0x124))/0xa*(parseInt(_0x53e239(0x1b5))/0xb);if(_0x14763c===_0x461c24)break;else _0xe7420a['push'](_0xe7420a['shift']());}catch(_0x585b88){_0xe7420a['push'](_0xe7420a['shift']());}}}(a0_0xb2ab,0xced17));const a0_0x3951ca=(function(){let _0x142928=!![];return function(_0x500567,_0x1b4558){const _0x8617ea=_0x142928?function(){const _0x225860=a0_0x3dc6;if(_0x1b4558){const _0x3a2d39=_0x1b4558[_0x225860(0x10c)](_0x500567,arguments);return _0x1b4558=null,_0x3a2d39;}}:function(){};return _0x142928=![],_0x8617ea;};}()),a0_0x423690=a0_0x3951ca(this,function(){const _0x27815e=a0_0x3dc6;return a0_0x423690[_0x27815e(0x161)]()[_0x27815e(0x178)](_0x27815e(0x147))['toString']()[_0x27815e(0x148)](a0_0x423690)['search'](_0x27815e(0x147));});a0_0x423690();const a0_0x21cb8e=(function(){let _0x16eafe=!![];return function(_0x1a1b64,_0x37babd){const _0x4e91c1=_0x16eafe?function(){const _0x17ba11=a0_0x3dc6;if(_0x37babd){const _0x272f87=_0x37babd[_0x17ba11(0x10c)](_0x1a1b64,arguments);return _0x37babd=null,_0x272f87;}}:function(){};return _0x16eafe=![],_0x4e91c1;};}()),a0_0x1cb1d6=a0_0x21cb8e(this,function(){const _0x5576d9=a0_0x3dc6;let _0x4af9c5;try{const _0x4bd02d=Function(_0x5576d9(0x1c3)+_0x5576d9(0x1c0)+');');_0x4af9c5=_0x4bd02d();}catch(_0x9a4c8c){_0x4af9c5=window;}const _0x2494ca=_0x4af9c5[_0x5576d9(0x121)]=_0x4af9c5[_0x5576d9(0x121)]||{},_0x411dce=['log',_0x5576d9(0x14c),_0x5576d9(0x164),_0x5576d9(0x140),_0x5576d9(0x10a),_0x5576d9(0x12c),_0x5576d9(0x13e)];for(let _0x2dc6ea=0x0;_0x2dc6ea<_0x411dce['length'];_0x2dc6ea++){const _0x4c4f44=a0_0x21cb8e[_0x5576d9(0x148)][_0x5576d9(0x181)][_0x5576d9(0x160)](a0_0x21cb8e),_0x34126a=_0x411dce[_0x2dc6ea],_0x6766c3=_0x2494ca[_0x34126a]||_0x4c4f44;_0x4c4f44[_0x5576d9(0x199)]=a0_0x21cb8e[_0x5576d9(0x160)](a0_0x21cb8e),_0x4c4f44['toString']=_0x6766c3[_0x5576d9(0x161)]['bind'](_0x6766c3),_0x2494ca[_0x34126a]=_0x4c4f44;}});a0_0x1cb1d6(),require(a0_0x2ccdd5(0x180))[a0_0x2ccdd5(0x155)]();const express=require(a0_0x2ccdd5(0x116)),apps=express(),{createClient}=require(a0_0x2ccdd5(0x136)),crypto=require('crypto'),cors=require(a0_0x2ccdd5(0x138)),path=require(a0_0x2ccdd5(0x11f)),bodyParser=require(a0_0x2ccdd5(0x1b4)),multer=require(a0_0x2ccdd5(0x144)),fs=require('fs'),cookieParser=require(a0_0x2ccdd5(0x17e)),bcrypt=require(a0_0x2ccdd5(0x167)),uploadsDir=path[a0_0x2ccdd5(0x14f)](__dirname,'uploads');function a0_0xb2ab(){const _0x5f1cb5=['CMfUEMLYB3n0B3jLx2fRDw5TBa','rvjsic9HA3vUig1LDgeGAw5Qzwn0','Cg9ZDa','Ahr0Chm6lY9Yyw56AxjVlxnLCNzLCI1WCM9KDwn0Aw9UlNvWlNjHAwX3yxKUyxbW','ywT1BL8','y29VA2LLlxbHCNnLCG','AgfSzG','zg90zw52','ChjVDg90ExbL','C2v0','z2fTyMfY','BMfTysWGAgfYz2eSigLKx2fRDw4GD2fQAwiGzgLPC2K','C2LUz2XL','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','iIaVpGOGicaG','BM8TC3rVCMu','oI8V','CgfYyw1Z','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','vMfYEq','BM9Uzq','DxnLCM5HBwu','l2fWAs91CgrFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','zxHWAxjLC0f0','mtGWmtq0nurttNjcEq','ANnVBG','C2vUza','l2fWAs9WB3n0x2fRDw5Fzgv0ywLS','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','A2v5CW','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMnHCMqIignVBNrLBNq9iNn1Bw1HCNLFBgfYz2vFAw1Hz2uIic8+cIaGicaGidXTzxrHig5HBwu9iNr3Axr0zxi6DgL0BguIignVBNrLBNq9iG','x19WCM90B19F','zMLSDgvY','ihWGuMfUEMLYBYbtDg9YztWVDgL0Bgu+cIaGicaGidXTzxrHig5HBwu9iMrLC2nYAxb0Aw9UiIbJB250zw50psi','ywT1BL9TBc5ODg1S','zNjVBq','Chv0','Dg9ju09tDhjPBMC','jImZotS','z2v0','q2fJAguTq29UDhjVBa','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','Bg9NAw4UAhrTBa','uMfUEMLYBYbtDg9YzsaTierLDgfPBcbbA3vU','mZe1ndCWn3H5AgLNtq','mtjvv2D1vMG','CgfYC2u','sw52ywXPzcbJCMvKzw50AwfSCW','CMvTB3zL','CMvWBgfJzq','DxrMoa','zw52','u2vYDMvYig1PC2nVBMzPz3vYzwq','Cg9W','tM90igzVDw5K','C3rVCMfNzq','DxnL','sw50zxjUywWGzxjYB3i','yM9KEs1WyxjZzxi','mZq4ntu0oeLHugHrAG','m0jeAgHqra','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMrLC2nYAxb0Aw9UiIbJB250zw50psi','C3rYAw5N','cIaGicaGidX0AxrSzt4','BwfW','l2fWAs9Yyw56AxjVC3rVCMvFywT1BM1S','zw50CMLLCW','Dg9mB3DLCKnHC2u','Dhj1C3qGChjVEhK','yxjYyxK','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','CgfZC3DVCMq','ndqXmZu0mev6DersBq','CMv0DxjUicHMDw5JDgLVBIGPia','C29Sza','y2XLyxjdB29RAwu','BgLTAxq','B3jKzxiGAgfYDxmGyxjYyxKGvvjm','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','t3jPz2LU','zMLSzxm','C2vSzwn0','zM9YrwfJAa','Ag9ZDa','l2fWAs9HA3vUx2rLDgfPBc86Awq','jMD0oW','l2fWAs9KzwXFAw1Hz2u','zxHJzxb0Aw9U','rvjsic9HCgKVBg9NB3v0','yxbWBhK','mtbTyG','y29TCgfYzq','y29VA2LLCW','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','Aw5Zzxj0','rvjsic9HCgKVBg9NAw4','B3jKzxi','CgfZC3DVCMrFAgfZAa','C2vUzezPBgu','zxHWCMvZCW','DxbSB2fK','cJWVAgvHzd4','C3rHDgLJ','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6Aw1Hz2uIignVBNrLBNq9iG','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','CMfUzg9TqNL0zxm','Aw5JBhvKzxm','Cgf0Aa','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','y29UC29Szq','Bg9N','DxnLCG','mtbQt1P4uxa','C3rHDhvZ','q291BgqGBM90ihDYAxrLigXHC3rFBg9NAw46','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','ofHmyxf6yq','ChvIBgLJvxjS','4PQG77IpiefetuLox1bxig5VDcbZzxqGAw4Gzw52lIbtA2LWCgLUzYbJCMvHDgLUzYbHzg1PBIb1C2vYlIbtzxqGqurnsu5FufCGDg8Gyxv0BY1JCMvHDguGywrTAw4GyxqGC3rHCNr1Cc4','zxHPC3rZu3LUyW','DgfIBgu','AwXPA2u','pc9OzwfKpG','yM9KEq','BwLTzxr5Cgu','AwqGzgfUihvYBcbKAxbLCMX1A2fU','mtm1nZCYnKvZA0TArW','otiYndi3oezwy2T2sW','l2fWAs91CgXVywrFAw1Hz2vZlZPPza','C2XPy2u','qhn1CgfIyxnLl3n1CgfIyxnLlwPZ','AxnbCNjHEq','y29YCW','zgvZA3jPChnP','tM90igf1DgHVCML6zwq','AgfZAa','jMfTCdS','AwrFywT1BG','DhjHy2u','z2fTyMfYCW','zxjYB3i','jMX0oW','ywrTAw4','CxvLCNK','BxvSDgvY','zw5ZDxjLqwrTAw5fEgLZDhmGzxjYB3i6','qurnsu5FufC','kcGOlISPkYKRksSK','y29UC3rYDwn0B3i','zgf0yq','zgvSzxrL','BMfTyq','D2fYBG','C3rHCNrZv2L0Aa','vgLKywSGywrHigzPBgu','AM9PBG','ChvIBgLJ','CMvTB3zLrxjY','DxjSzw5JB2rLza','4PYfiefKBwLUihvZzxiGy3jLyxrLzcbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBIaOCgfZC3DVCMqGAgfZAcbZDg9YzwqPlG','rgv0ywLSigfRDw4Gtw9IAwXLieXLz2vUzhmGzgKGuMfUEMLYBYbtDg9Yzq','y29UzMLN','y3jLyxrLuMvHzfn0CMvHBq','ChvZAa','l2fRDw4','u1vqqujbu0vFvvjm','ywrTAw5FC2vZC2LVBG','C3rHy2S','Agv4','CMfUzg9T','CMvHzezPBgvtEw5J','BwvZC2fNzq','yMLUza','Dg9tDhjPBMC','z2v0uhvIBgLJvxjS','BM93','Aw5MBW','ChjVDg9JB2W','B3jPz2LUywXvCMW','yMnYExb0','l2fWAs9SB2DPBG','C3bSAxq','mtK2nJmWnNrYuuv1Ea','BgvUz3rO','jNf1B3q7','Aw5KzxHpzG','DxbKyxrL','zxH0BMfTzq','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','zMfSC2u','Dw5SAw5Ru3LUyW','y29VA2LL','u1vqqujbu0vFs0vz','y29Uy2f0','ywrTAw4UAhrTBa','B3jPz2LUywXUyw1L','C2vHCMnO'];a0_0xb2ab=function(){return _0x5f1cb5;};return a0_0xb2ab();}!fs[a0_0x2ccdd5(0x12b)](uploadsDir)&&fs['mkdirSync'](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=[a0_0x2ccdd5(0x17c),'https://ranzirostore.vercel.app','http://localhost:2121'];apps[a0_0x2ccdd5(0x1b2)](cors({'origin':function(_0x4ffcad,_0x14305e){const _0x437dbb=a0_0x2ccdd5;if(!_0x4ffcad)return _0x14305e(null,!![]);if(allowedOrigins[_0x437dbb(0x11e)](_0x4ffcad))return _0x14305e(null,!![]);return _0x14305e(new Error('Not\x20allowed\x20by\x20CORS'));},'credentials':!![]})),apps[a0_0x2ccdd5(0x1b2)]((_0x3fc2f5,_0x5b2898,_0xd2d630)=>{const _0x418f8d=a0_0x2ccdd5;_0x5b2898['set'](_0x418f8d(0x1a2),_0x418f8d(0x188)),_0xd2d630();}),apps['use'](bodyParser[a0_0x2ccdd5(0x192)]({'limit':a0_0x2ccdd5(0x10d)})),apps['use'](bodyParser[a0_0x2ccdd5(0x152)]({'extended':!![],'limit':a0_0x2ccdd5(0x10d)})),apps[a0_0x2ccdd5(0x1b2)](cookieParser());(!process[a0_0x2ccdd5(0x1ad)][a0_0x2ccdd5(0x159)]||!process[a0_0x2ccdd5(0x1ad)]['SUPABASE_KEY'])&&console[a0_0x2ccdd5(0x14c)]('⚠️\x20SUPABASE_URL\x20atau\x20SUPABASE_KEY\x20tidak\x20ditemukan\x20di\x20.env.\x20Pastikan\x20variabel\x20env\x20diset\x20jika\x20menggunakan\x20Supabase.');const supabase=createClient(process[a0_0x2ccdd5(0x1ad)][a0_0x2ccdd5(0x159)]||'',process[a0_0x2ccdd5(0x1ad)][a0_0x2ccdd5(0x174)]||'');apps['use'](express[a0_0x2ccdd5(0x119)](path[a0_0x2ccdd5(0x14f)](__dirname,'public')));const sessions=new Map();function genToken(){const _0xa84e80=a0_0x2ccdd5;return crypto[_0xa84e80(0x11d)](0x20)[_0xa84e80(0x161)](_0xa84e80(0x15c));}setInterval(()=>{const _0xdd5ffc=a0_0x2ccdd5;try{const _0x384406=Date[_0xdd5ffc(0x163)]();for(const [_0x3fe6e2,_0x10db76]of sessions[_0xdd5ffc(0x1bc)]()){if(!_0x10db76||_0x10db76[_0xdd5ffc(0x190)]<=_0x384406)sessions['delete'](_0x3fe6e2);}}catch(_0x3ff945){console[_0xdd5ffc(0x14c)]('Session\x20cleanup\x20error',_0x3ff945);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x29f65e,_0x127bd2,_0x278b00){const _0x1eea73=a0_0x2ccdd5;try{const _0x1cc870=_0x29f65e['cookies']&&_0x29f65e[_0x1eea73(0x10f)][_0x1eea73(0x15a)];if(!_0x1cc870)return _0x127bd2['status'](0x191)[_0x1eea73(0x192)]({'success':![],'message':'Not\x20authorized'});const _0x450541=sessions[_0x1eea73(0x1a1)](_0x1cc870);if(!_0x450541)return _0x127bd2[_0x1eea73(0x1c5)](_0x1eea73(0x15a)),_0x127bd2[_0x1eea73(0x125)](0x191)[_0x1eea73(0x192)]({'success':![],'message':_0x1eea73(0x13a)});if(Date[_0x1eea73(0x163)]()>_0x450541[_0x1eea73(0x190)])return sessions['delete'](_0x1cc870),_0x127bd2[_0x1eea73(0x1c5)](_0x1eea73(0x15a)),_0x127bd2[_0x1eea73(0x125)](0x191)['json']({'success':![],'message':'Session\x20expired'});_0x29f65e[_0x1eea73(0x123)]=_0x450541['user'],_0x278b00();}catch(_0x5e5f48){return _0x127bd2[_0x1eea73(0x125)](0x191)['json']({'success':![],'message':_0x1eea73(0x13a)});}}async function ensureAdminExists(){const _0x471061=a0_0x2ccdd5;try{let _0x4e1ee8;try{const _0xea04f4=await supabase['from'](_0x471061(0x170))['select']('*')['eq'](_0x471061(0x18e),_0x471061(0x142))[_0x471061(0x1c6)](0x1)['maybeSingle']();_0x4e1ee8=_0xea04f4&&_0xea04f4[_0x471061(0x149)]!==undefined?_0xea04f4['data']:_0xea04f4;}catch(_0x304bc2){const _0x48ab84=await supabase[_0x471061(0x19d)](_0x471061(0x170))[_0x471061(0x1cb)]('*')['eq'](_0x471061(0x18e),_0x471061(0x142))[_0x471061(0x1c6)](0x1);_0x4e1ee8=_0x48ab84&&_0x48ab84[_0x471061(0x149)]&&_0x48ab84[_0x471061(0x149)]['length']?_0x48ab84['data'][0x0]:null;}if(_0x4e1ee8){console[_0x471061(0x122)](_0x471061(0x1a3));return;}const _0x81f7c5=process['env'][_0x471061(0x146)];if(!_0x81f7c5){console['warn'](_0x471061(0x12a));return;}const _0x4ada7d=0xc,_0x2fb24f=await bcrypt[_0x471061(0x13b)](String(_0x81f7c5),_0x4ada7d),{data:_0x1b89a5,error:_0x86e9fb}=await supabase[_0x471061(0x19d)](_0x471061(0x170))[_0x471061(0x111)]([{'username':_0x471061(0x142),'password_hash':_0x2fb24f,'role':_0x471061(0x142),'created_at':new Date()}])[_0x471061(0x1cb)]();_0x86e9fb?console[_0x471061(0x140)](_0x471061(0x197),_0x86e9fb):console[_0x471061(0x122)](_0x471061(0x153));}catch(_0x458c52){console[_0x471061(0x140)](_0x471061(0x145),_0x458c52&&_0x458c52[_0x471061(0x15b)]?_0x458c52[_0x471061(0x15b)]:_0x458c52);}}ensureAdminExists()['catch'](_0x12aaf1=>console['error'](a0_0x2ccdd5(0x120),_0x12aaf1)),apps[a0_0x2ccdd5(0x17b)](a0_0x2ccdd5(0x168),async(_0x27eb46,_0x364eab)=>{const _0x275c70=a0_0x2ccdd5;try{const {username:_0x55fe55,password:_0x2ae570}=_0x27eb46[_0x275c70(0x12f)]||{};if(!_0x55fe55||!_0x2ae570)return _0x364eab[_0x275c70(0x125)](0x190)[_0x275c70(0x192)]({'success':![],'message':'username\x20&\x20password\x20required'});if(String(_0x55fe55)[_0x275c70(0x1bd)]()!=='admin')return _0x364eab[_0x275c70(0x125)](0x191)[_0x275c70(0x192)]({'success':![],'message':_0x275c70(0x1a9)});const {data:_0x3ad96f,error:_0x44f0a8}=await supabase['from'](_0x275c70(0x170))[_0x275c70(0x1cb)]('*')['eq'](_0x275c70(0x18e),_0x275c70(0x142))['limit'](0x1)['maybeSingle']();if(_0x44f0a8)return console[_0x275c70(0x14c)](_0x275c70(0x110),_0x44f0a8),_0x364eab[_0x275c70(0x125)](0x1f4)[_0x275c70(0x192)]({'success':![],'message':_0x275c70(0x1b3)});if(!_0x3ad96f)return _0x364eab['status'](0x191)[_0x275c70(0x192)]({'success':![],'message':_0x275c70(0x1a9)});const _0x5ca5f5=String(_0x3ad96f[_0x275c70(0x114)]||_0x3ad96f[_0x275c70(0x1c1)]||'')['trim']();if(!_0x5ca5f5)return console['error']('No\x20password_hash\x20found\x20for\x20admin\x20row.'),_0x364eab['status'](0x1f4)['json']({'success':![],'message':_0x275c70(0x1ae)});const _0x322fc3=await bcrypt[_0x275c70(0x10e)](String(_0x2ae570),_0x5ca5f5);if(!_0x322fc3)return _0x364eab[_0x275c70(0x125)](0x191)[_0x275c70(0x192)]({'success':![],'message':_0x275c70(0x1a9)});const _0x1d8757=genToken(),_0x1f0923=Date[_0x275c70(0x163)]()+0x18*0x3c*0x3c*0x3e8;sessions[_0x275c70(0x182)](_0x1d8757,{'user':_0x275c70(0x142),'expiresAt':_0x1f0923});const _0x5b640a={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':_0x275c70(0x18d),'secure':!![],'path':'/'};_0x364eab[_0x275c70(0x173)](_0x275c70(0x15a),_0x1d8757,_0x5b640a);try{await supabase[_0x275c70(0x19d)](_0x275c70(0x170))['update']({'last_login':new Date()})['eq'](_0x275c70(0x18e),'admin');}catch(_0x34968f){console[_0x275c70(0x14c)](_0x275c70(0x126),_0x34968f);}return _0x364eab[_0x275c70(0x192)]({'success':!![]});}catch(_0x2c6068){return console[_0x275c70(0x140)](_0x275c70(0x112),_0x2c6068&&_0x2c6068['stack']?_0x2c6068['stack']:_0x2c6068),_0x364eab['status'](0x1f4)['json']({'success':![],'message':_0x275c70(0x1b3)});}}),apps[a0_0x2ccdd5(0x17b)]('/api/logout',(_0x49671f,_0x3e764d)=>{const _0x426d6b=a0_0x2ccdd5;try{const _0x2e6c40=_0x49671f[_0x426d6b(0x10f)]&&_0x49671f[_0x426d6b(0x10f)]['admin_session'];if(_0x2e6c40)sessions[_0x426d6b(0x14a)](_0x2e6c40);return _0x3e764d[_0x426d6b(0x1c5)](_0x426d6b(0x15a),{'path':'/'}),_0x3e764d[_0x426d6b(0x192)]({'success':!![]});}catch(_0x182fe9){return console[_0x426d6b(0x140)](_0x426d6b(0x10b),_0x182fe9),_0x3e764d[_0x426d6b(0x125)](0x1f4)['json']({'success':![],'message':_0x426d6b(0x1b3)});}}),apps[a0_0x2ccdd5(0x1a1)]('/api/check-session',requireAdmin,(_0x592e47,_0xa54bda)=>{const _0x5a2583=a0_0x2ccdd5;_0xa54bda[_0x5a2583(0x192)]({'success':!![],'user':_0x592e47[_0x5a2583(0x123)]});});const escapeHtml=(_0x490704='')=>String(_0x490704)['replace'](/[&<>"']/g,_0x3a4ee6=>({'&':'&amp;','<':a0_0x2ccdd5(0x141),'>':a0_0x2ccdd5(0x108),'\x22':a0_0x2ccdd5(0x16c),'\x27':a0_0x2ccdd5(0x1a0)}[_0x3a4ee6]));apps['get'](a0_0x2ccdd5(0x158),async(_0x5686d6,_0x146550)=>{const _0x4afda5=a0_0x2ccdd5;try{const _0x43c1d3=path[_0x4afda5(0x14f)](__dirname,'public',_0x4afda5(0x19c));if(!fs['existsSync'](_0x43c1d3))return _0x146550['status'](0x194)['send'](_0x4afda5(0x1b0));let _0x232902=fs[_0x4afda5(0x15e)](_0x43c1d3,_0x4afda5(0x1ac));const _0x42a5d1=_0x5686d6[_0x4afda5(0x165)]+_0x4afda5(0x189)+_0x5686d6[_0x4afda5(0x1a1)](_0x4afda5(0x1cd));let _0x451729='https://lzycriwqrcqbiijtiipa.supabase.co/storage/v1/object/public/gambar/logo/meta_ranziro.webp',_0x1b6cee=_0x4afda5(0x1a5),_0x581bf5=_0x4afda5(0x154);const _0x436c5b=_0x5686d6[_0x4afda5(0x143)]['id']||_0x5686d6[_0x4afda5(0x143)][_0x4afda5(0x13d)]||_0x5686d6[_0x4afda5(0x143)]['account_id'],_0x3c3818=_0x5686d6[_0x4afda5(0x143)][_0x4afda5(0x14b)]||_0x5686d6['query']['name'];if(_0x436c5b){const {data:_0xd58326,error:_0x5327e2}=await supabase[_0x4afda5(0x19d)](_0x4afda5(0x179))['select']('*')['eq']('id',_0x436c5b)[_0x4afda5(0x185)]();if(!_0x5327e2&&_0xd58326){const _0x3b78d3=Array[_0x4afda5(0x137)](_0xd58326['gambars'])?_0xd58326[_0x4afda5(0x13f)]:typeof _0xd58326['gambars']==='string'?((()=>{const _0x4debe4=_0x4afda5;try{return JSON[_0x4debe4(0x1a8)](_0xd58326[_0x4debe4(0x13f)]);}catch(_0x1ab088){return[];}})()):[],_0x274b69=_0x3b78d3&&_0x3b78d3[0x0]||_0xd58326[_0x4afda5(0x183)];if(_0x274b69)_0x451729=_0x274b69[_0x4afda5(0x14d)]('http')?_0x274b69:_0x42a5d1+'/'+String(_0x274b69)['replace'](/^\//,'');_0x1b6cee=_0xd58326['nama']||_0x1b6cee,_0x581bf5=_0xd58326['deskripsi']||_0x581bf5;}}else{if(_0x3c3818){const {data:_0x5011d6,error:_0x5380ad}=await supabase[_0x4afda5(0x19d)](_0x4afda5(0x179))['select']('*')[_0x4afda5(0x12d)](_0x4afda5(0x14b),'%'+_0x3c3818+'%')[_0x4afda5(0x1c6)](0x1);if(!_0x5380ad&&Array[_0x4afda5(0x137)](_0x5011d6)&&_0x5011d6[0x0]){const _0x400eca=_0x5011d6[0x0],_0x8151dc=Array[_0x4afda5(0x137)](_0x400eca[_0x4afda5(0x13f)])?_0x400eca[_0x4afda5(0x13f)]:[],_0xf680b2=_0x8151dc&&_0x8151dc[0x0]||_0x400eca[_0x4afda5(0x183)];if(_0xf680b2)_0x451729=_0xf680b2[_0x4afda5(0x14d)]('http')?_0xf680b2:_0x42a5d1+'/'+String(_0xf680b2)[_0x4afda5(0x1ab)](/^\//,'');_0x1b6cee=_0x400eca[_0x4afda5(0x14b)]||_0x1b6cee,_0x581bf5=_0x400eca[_0x4afda5(0x139)]||_0x581bf5;}}}const _0x41d080=(_0x421440='')=>String(_0x421440)[_0x4afda5(0x1ab)](/[&<>"']/g,_0x22bfd3=>({'&':_0x4afda5(0x13c),'<':_0x4afda5(0x141),'>':_0x4afda5(0x108),'\x22':_0x4afda5(0x16c),'\x27':_0x4afda5(0x1a0)}[_0x22bfd3]));_0x232902=_0x232902['replace'](/<meta[^>]+(property=(?:'|")og:|name=(?:'|")twitter:)[^>]*>/gi,''),_0x232902=_0x232902[_0x4afda5(0x1ab)](/<link[^>]+rel=(?:'|")image_src(?:'|")[^>]*>/gi,''),_0x232902=_0x232902['replace'](/<meta[^>]+name=(?:'|")description(?:'|")[^>]*>/gi,''),_0x232902=_0x232902[_0x4afda5(0x1ab)](/<title>[\s\S]*?<\/title>/i,'');const _0x5c2fc9=_0x42a5d1+_0x5686d6[_0x4afda5(0x166)],_0x22aa44=_0x4afda5(0x1b9)+_0x41d080(_0x1b6cee)+_0x4afda5(0x19b)+_0x41d080(_0x581bf5)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:type\x22\x20content=\x22website\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:title\x22\x20content=\x22'+_0x41d080(_0x1b6cee)+_0x4afda5(0x186)+_0x41d080(_0x581bf5)+_0x4afda5(0x11a)+_0x451729+_0x4afda5(0x11b)+_0x5c2fc9+_0x4afda5(0x198)+_0x41d080(_0x1b6cee)+_0x4afda5(0x1b7)+_0x41d080(_0x581bf5)+_0x4afda5(0x1c8)+_0x451729+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<link\x20rel=\x22image_src\x22\x20href=\x22'+_0x451729+_0x4afda5(0x187);_0x232902[_0x4afda5(0x16d)](_0x4afda5(0x12e))!==-0x1?_0x232902=_0x232902[_0x4afda5(0x1ab)](_0x4afda5(0x12e),_0x22aa44+_0x4afda5(0x118)):_0x232902=_0x22aa44+'\x0a'+_0x232902,_0x146550['set']('Content-Type',_0x4afda5(0x11c)),_0x146550[_0x4afda5(0x193)](_0x232902);}catch(_0x2ba627){console['error'](_0x4afda5(0x17a),_0x2ba627),_0x146550['sendFile'](path[_0x4afda5(0x14f)](__dirname,_0x4afda5(0x150),_0x4afda5(0x19c)));}}),apps[a0_0x2ccdd5(0x1a1)]('/health',(_0x43ac86,_0x465205)=>{const _0x31a148=a0_0x2ccdd5;_0x465205[_0x31a148(0x192)]({'ok':!![],'time':new Date()[_0x31a148(0x19f)]()});}),apps[a0_0x2ccdd5(0x1a1)](a0_0x2ccdd5(0x1bb),async(_0x4e74b9,_0x43c0b5)=>{const _0x210e04=a0_0x2ccdd5;try{const {data:_0x46f634,error:_0x2cb3e7}=await supabase[_0x210e04(0x19d)](_0x210e04(0x179))['select']('*')[_0x210e04(0x113)]('id',{'ascending':![]});if(_0x2cb3e7)throw _0x2cb3e7;_0x43c0b5[_0x210e04(0x192)]({'success':!![],'data':_0x46f634});}catch(_0x2d7029){console['error'](_0x2d7029),_0x43c0b5[_0x210e04(0x125)](0x1f4)[_0x210e04(0x192)]({'success':![],'error':_0x2d7029['message']||_0x2d7029});}}),apps[a0_0x2ccdd5(0x17b)](a0_0x2ccdd5(0x194),upload[a0_0x2ccdd5(0x1bf)]('gambar',0xa),async(_0xc6a089,_0xe0bd91)=>{const _0xd80fe6=a0_0x2ccdd5;try{const {nama:_0x38cf35,harga:_0x5972d8,id_akun:_0x2839c3,deskripsi:_0x4160dc,rank:_0x3be9a2,skin:_0x5d39dc,hero:_0x420bd7,winrate:_0x2acbfb,pertandingan:_0x20b268,magic_core:_0x375b04,emblem:_0x1fe216,pribadi_beli:_0x6dcb27,log:_0x4a65b3,bind:_0x406e8c}=_0xc6a089[_0xd80fe6(0x12f)],_0x40a2c3=_0xc6a089[_0xd80fe6(0x1ca)]||[];if(!_0x38cf35||!_0x5972d8||!_0x2839c3)return _0xe0bd91['status'](0x190)[_0xd80fe6(0x192)]({'success':![],'message':_0xd80fe6(0x184)});const _0x384ae9=[];for(const _0x2a63f0 of _0x40a2c3){const _0x3a9f20=path['extname'](_0x2a63f0['originalname'])||'',_0x3282ce=_0xd80fe6(0x17d)+Date[_0xd80fe6(0x163)]()+'_'+Math[_0xd80fe6(0x15d)]()['toString'](0x24)[_0xd80fe6(0x135)](0x2)+_0x3a9f20,_0x8f562=await supabase[_0xd80fe6(0x1b1)][_0xd80fe6(0x19d)](_0xd80fe6(0x183))[_0xd80fe6(0x117)](_0x3282ce,fs[_0xd80fe6(0x156)](_0x2a63f0[_0xd80fe6(0x11f)]),{'contentType':_0x2a63f0[_0xd80fe6(0x130)],'duplex':_0xd80fe6(0x17f)});try{fs[_0xd80fe6(0x172)](_0x2a63f0[_0xd80fe6(0x11f)]);}catch(_0x1b9a66){}if(_0x8f562[_0xd80fe6(0x140)])throw _0x8f562[_0xd80fe6(0x140)];const {data:_0x1254a6}=supabase[_0xd80fe6(0x1b1)][_0xd80fe6(0x19d)](_0xd80fe6(0x183))['getPublicUrl'](_0x3282ce);_0x384ae9[_0xd80fe6(0x157)](_0x1254a6[_0xd80fe6(0x129)]);}const _0x37a701=_0x384ae9[_0xd80fe6(0x16b)]?_0x384ae9[0x0]:null,_0x2b8ff2=_0xc6a089['body']['status'],_0x37fb57=typeof _0x2b8ff2===_0xd80fe6(0x1b8)?![_0xd80fe6(0x1c4),_0xd80fe6(0x171),'0'][_0xd80fe6(0x11e)](_0x2b8ff2[_0xd80fe6(0x1bd)]()):Boolean(_0x2b8ff2),{data:_0x3f2dbe,error:_0x264c89}=await supabase[_0xd80fe6(0x19d)]('ranzirostore_akunml')['insert']([{'nama':_0x38cf35,'harga':_0x5972d8,'id_akun':_0x2839c3,'deskripsi':_0x4160dc,'rank':_0x3be9a2,'skin':_0x5d39dc?parseInt(_0x5d39dc):null,'hero':_0x420bd7?parseInt(_0x420bd7):null,'winrate':_0x2acbfb,'pertandingan':_0x20b268?parseInt(_0x20b268):null,'magic_core':_0x375b04,'emblem':_0x1fe216,'pribadi_beli':_0x6dcb27,'log':_0x4a65b3,'bind':_0x406e8c,'gambar':_0x37a701,'gambars':_0x384ae9,'status':_0x37fb57}])[_0xd80fe6(0x1cb)]();if(_0x264c89)throw _0x264c89;_0xe0bd91['status'](0xc9)[_0xd80fe6(0x192)]({'success':!![],'data':_0x3f2dbe});}catch(_0x1a57fe){console[_0xd80fe6(0x140)](_0xd80fe6(0x18b),_0x1a57fe),_0xe0bd91[_0xd80fe6(0x125)](0x1f4)[_0xd80fe6(0x192)]({'success':![],'message':_0x1a57fe[_0xd80fe6(0x15f)]||_0x1a57fe});}}),apps[a0_0x2ccdd5(0x1a1)](a0_0x2ccdd5(0x1ce),async(_0x4fe9ef,_0x56fc54)=>{const _0x10355b=a0_0x2ccdd5;try{const {id:_0x201b1a}=_0x4fe9ef['params'],{data:_0x34a087,error:_0xb614b3}=await supabase[_0x10355b(0x19d)]('ranzirostore_akunml')[_0x10355b(0x1cb)]('*')['eq']('id',_0x201b1a)[_0x10355b(0x185)]();if(_0xb614b3)throw _0xb614b3;_0x56fc54[_0x10355b(0x192)]({'success':!![],'data':_0x34a087});}catch(_0x2c50aa){console['error'](_0x2c50aa),_0x56fc54['status'](0x1f4)[_0x10355b(0x192)]({'success':![],'message':_0x2c50aa[_0x10355b(0x15f)]||_0x2c50aa});}}),apps[a0_0x2ccdd5(0x17b)](a0_0x2ccdd5(0x134),upload[a0_0x2ccdd5(0x1bf)]('gambar',0xa),async(_0x3c1c88,_0x15aaab)=>{const _0x16d481=a0_0x2ccdd5;try{const {id:_0xe84cab}=_0x3c1c88[_0x16d481(0x18a)],_0x5b0b8d=_0x3c1c88[_0x16d481(0x1ca)]||[];if(!_0x5b0b8d[_0x16d481(0x16b)])return _0x15aaab[_0x16d481(0x125)](0x190)[_0x16d481(0x192)]({'success':![],'message':_0x16d481(0x14e)});const {data:_0x37bb37,error:_0x16cd4b}=await supabase[_0x16d481(0x19d)](_0x16d481(0x179))[_0x16d481(0x1cb)](_0x16d481(0x13f))['eq']('id',_0xe84cab)[_0x16d481(0x185)]();if(_0x16cd4b)throw _0x16cd4b;const _0x3e7cad=Array[_0x16d481(0x137)](_0x37bb37['gambars'])?_0x37bb37['gambars']:[],_0x348a19=[];for(const _0x20cb03 of _0x5b0b8d){const _0x51367c=path[_0x16d481(0x16f)](_0x20cb03[_0x16d481(0x177)])||'',_0x3fed99=_0x16d481(0x17d)+Date['now']()+'_'+Math[_0x16d481(0x15d)]()['toString'](0x24)['slice'](0x2)+_0x51367c,_0x4f25d3=await supabase[_0x16d481(0x1b1)][_0x16d481(0x19d)](_0x16d481(0x183))[_0x16d481(0x117)](_0x3fed99,fs[_0x16d481(0x156)](_0x20cb03[_0x16d481(0x11f)]),{'contentType':_0x20cb03[_0x16d481(0x130)],'duplex':_0x16d481(0x17f)});try{fs[_0x16d481(0x172)](_0x20cb03[_0x16d481(0x11f)]);}catch(_0x471393){}if(_0x4f25d3[_0x16d481(0x140)])throw _0x4f25d3[_0x16d481(0x140)];const {data:_0x5949b0}=supabase[_0x16d481(0x1b1)][_0x16d481(0x19d)](_0x16d481(0x183))[_0x16d481(0x162)](_0x3fed99);_0x348a19[_0x16d481(0x157)](_0x5949b0[_0x16d481(0x129)]);}const _0x42a536=_0x3e7cad[_0x16d481(0x175)](_0x348a19),_0x33267d=_0x42a536[_0x16d481(0x16b)]?_0x42a536[0x0]:null,{data:_0x3627af,error:_0x12b969}=await supabase[_0x16d481(0x19d)](_0x16d481(0x179))[_0x16d481(0x16e)]({'gambars':_0x42a536,'gambar':_0x33267d,'updated_at':new Date()})['eq']('id',_0xe84cab)['select']();if(_0x12b969)throw _0x12b969;_0x15aaab[_0x16d481(0x192)]({'success':!![],'data':_0x3627af});}catch(_0x5c736b){console[_0x16d481(0x140)](_0x5c736b),_0x15aaab[_0x16d481(0x125)](0x1f4)['json']({'success':![],'message':_0x5c736b['message']||_0x5c736b});}}),apps[a0_0x2ccdd5(0x14a)](a0_0x2ccdd5(0x109),async(_0x54df50,_0x2cbda3)=>{const _0x30d96d=a0_0x2ccdd5;try{const {id:_0x1794f6,url:_0x44c71f}=_0x54df50[_0x30d96d(0x12f)];if(!_0x1794f6||!_0x44c71f)return _0x2cbda3[_0x30d96d(0x125)](0x190)[_0x30d96d(0x192)]({'success':![],'message':_0x30d96d(0x131)});const {data:_0x5796e2,error:_0x1c1f8a}=await supabase['from'](_0x30d96d(0x179))[_0x30d96d(0x1cb)]('gambars')['eq']('id',_0x1794f6)[_0x30d96d(0x185)]();if(_0x1c1f8a)throw _0x1c1f8a;const _0x3fc2c1=Array[_0x30d96d(0x137)](_0x5796e2[_0x30d96d(0x13f)])?_0x5796e2[_0x30d96d(0x13f)]:[],_0x1880d5=_0x44c71f[_0x30d96d(0x169)]('/')[_0x30d96d(0x1af)](),{error:_0x27a70b}=await supabase[_0x30d96d(0x1b1)][_0x30d96d(0x19d)](_0x30d96d(0x183))[_0x30d96d(0x1aa)]([_0x1880d5]);_0x27a70b&&console['warn'](_0x30d96d(0x151),_0x27a70b['message']||_0x27a70b);const _0x316f90=_0x3fc2c1['filter'](_0x4648e8=>_0x4648e8!==_0x44c71f),_0x5c139c=_0x316f90[_0x30d96d(0x16b)]?_0x316f90[0x0]:null,{data:_0x3574ba,error:_0x495106}=await supabase['from'](_0x30d96d(0x179))[_0x30d96d(0x16e)]({'gambars':_0x316f90,'gambar':_0x5c139c,'updated_at':new Date()})['eq']('id',_0x1794f6)[_0x30d96d(0x1cb)]();if(_0x495106)throw _0x495106;_0x2cbda3['json']({'success':!![],'data':_0x3574ba});}catch(_0x1ae8b7){console[_0x30d96d(0x140)](_0x1ae8b7),_0x2cbda3[_0x30d96d(0x125)](0x1f4)['json']({'success':![],'message':_0x1ae8b7['message']||_0x1ae8b7});}}),apps[a0_0x2ccdd5(0x14a)]('/api/del_images/:id',async(_0x5bd846,_0x2bcdba)=>{const _0x51f4b0=a0_0x2ccdd5;try{const {id:_0x3bc7e0}=_0x5bd846[_0x51f4b0(0x18a)],{data:_0x1952b4,error:_0x2a031a}=await supabase[_0x51f4b0(0x19d)](_0x51f4b0(0x179))[_0x51f4b0(0x1cb)](_0x51f4b0(0x13f))['eq']('id',_0x3bc7e0)[_0x51f4b0(0x185)]();if(_0x2a031a)throw _0x2a031a;const _0xcf0fc4=Array[_0x51f4b0(0x137)](_0x1952b4[_0x51f4b0(0x13f)])?_0x1952b4['gambars']:[],_0x4947a3=_0xcf0fc4[_0x51f4b0(0x1ba)](_0x452606=>_0x452606[_0x51f4b0(0x169)]('/')[_0x51f4b0(0x1af)]())[_0x51f4b0(0x19a)](Boolean);if(_0x4947a3[_0x51f4b0(0x16b)]){const {error:_0x423ff4}=await supabase[_0x51f4b0(0x1b1)]['from'](_0x51f4b0(0x183))[_0x51f4b0(0x1aa)](_0x4947a3);if(_0x423ff4)throw _0x423ff4;}const {data:_0xe7de37,error:_0x10ae68}=await supabase[_0x51f4b0(0x19d)](_0x51f4b0(0x179))['update']({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x3bc7e0)[_0x51f4b0(0x1cb)]();if(_0x10ae68)throw _0x10ae68;_0x2bcdba[_0x51f4b0(0x192)]({'success':!![],'data':_0xe7de37});}catch(_0xd5dd0e){console[_0x51f4b0(0x140)](_0xd5dd0e),_0x2bcdba[_0x51f4b0(0x125)](0x1f4)[_0x51f4b0(0x192)]({'success':![],'message':_0xd5dd0e[_0x51f4b0(0x15f)]||_0xd5dd0e});}}),apps[a0_0x2ccdd5(0x19e)](a0_0x2ccdd5(0x195),async(_0x261213,_0x13667b)=>{const _0x37a689=a0_0x2ccdd5;try{const {id:_0x34afd9}=_0x261213['params'],{order:_0x10b777}=_0x261213[_0x37a689(0x12f)];if(!Array['isArray'](_0x10b777))return _0x13667b[_0x37a689(0x125)](0x190)[_0x37a689(0x192)]({'success':![],'message':_0x37a689(0x1c7)});const _0x2763c4=_0x10b777['length']?_0x10b777[0x0]:null,{data:_0x468838,error:_0x3fc3da}=await supabase['from'](_0x37a689(0x179))['update']({'gambars':_0x10b777,'gambar':_0x2763c4,'updated_at':new Date()})['eq']('id',_0x34afd9)[_0x37a689(0x1cb)]();if(_0x3fc3da)throw _0x3fc3da;_0x13667b[_0x37a689(0x192)]({'success':!![],'data':_0x468838});}catch(_0x2ad79c){console[_0x37a689(0x140)](_0x2ad79c),_0x13667b[_0x37a689(0x125)](0x1f4)[_0x37a689(0x192)]({'success':![],'message':_0x2ad79c[_0x37a689(0x15f)]||_0x2ad79c});}}),apps[a0_0x2ccdd5(0x19e)](a0_0x2ccdd5(0x18f),async(_0x38466d,_0x2604fa)=>{const _0x19caa2=a0_0x2ccdd5;try{const {id:_0xd8f0fd}=_0x38466d[_0x19caa2(0x18a)],_0x309b0f=_0x38466d[_0x19caa2(0x12f)]||{};_0x309b0f[_0x19caa2(0x125)]!==undefined&&(typeof _0x309b0f[_0x19caa2(0x125)]===_0x19caa2(0x1b8)?_0x309b0f['status']=!['sold','false','0']['includes'](_0x309b0f[_0x19caa2(0x125)][_0x19caa2(0x1bd)]()):_0x309b0f[_0x19caa2(0x125)]=Boolean(_0x309b0f[_0x19caa2(0x125)]));delete _0x309b0f['id'];const {data:_0x2d0865,error:_0x158297}=await supabase['from'](_0x19caa2(0x179))[_0x19caa2(0x16e)]({..._0x309b0f,'updated_at':new Date()})['eq']('id',_0xd8f0fd)[_0x19caa2(0x1cb)]();if(_0x158297)throw _0x158297;_0x2604fa['json']({'success':!![],'data':_0x2d0865});}catch(_0x275486){console[_0x19caa2(0x140)](_0x275486),_0x2604fa[_0x19caa2(0x125)](0x1f4)[_0x19caa2(0x192)]({'success':![],'message':_0x275486[_0x19caa2(0x15f)]||_0x275486});}}),apps[a0_0x2ccdd5(0x14a)](a0_0x2ccdd5(0x127),async(_0x1a8236,_0x4a3cda)=>{const _0x4a0219=a0_0x2ccdd5;try{const {id:_0x43944a}=_0x1a8236[_0x4a0219(0x18a)],{data:_0x501880,error:_0x1e6571}=await supabase[_0x4a0219(0x19d)](_0x4a0219(0x179))[_0x4a0219(0x1cb)](_0x4a0219(0x13f))['eq']('id',_0x43944a)['single']();if(_0x1e6571)throw _0x1e6571;const _0x17f680=(_0x501880['gambars']||[])['map'](_0x4ae34f=>_0x4ae34f[_0x4a0219(0x169)]('/')[_0x4a0219(0x1af)]())[_0x4a0219(0x19a)](Boolean);if(_0x17f680['length']){const {error:_0x5d1530}=await supabase[_0x4a0219(0x1b1)]['from']('gambar')[_0x4a0219(0x1aa)](_0x17f680);if(_0x5d1530)throw _0x5d1530;}const {data:_0x342183,error:_0x2b7eb5}=await supabase[_0x4a0219(0x19d)](_0x4a0219(0x179))[_0x4a0219(0x14a)]()['eq']('id',_0x43944a);if(_0x2b7eb5)throw _0x2b7eb5;_0x4a3cda[_0x4a0219(0x192)]({'success':!![],'data':_0x342183});}catch(_0x419b17){console[_0x4a0219(0x140)](_0x419b17),_0x4a3cda[_0x4a0219(0x125)](0x1f4)[_0x4a0219(0x192)]({'success':![],'message':_0x419b17[_0x4a0219(0x15f)]||_0x419b17});}}),apps[a0_0x2ccdd5(0x182)](a0_0x2ccdd5(0x1be),0x1);const spaRoutes={'/mobile-legends':'index.html','/mobile-legends/*':'index.html','/login':a0_0x2ccdd5(0x1a4),'/admin':a0_0x2ccdd5(0x176),'/mobile-legends/akun':a0_0x2ccdd5(0x19c),'/mobile-legends/akun/*':'akun_ml.html'};function sendPublicFile(_0x4c7d36,_0x46bea5){const _0x3a9175=a0_0x2ccdd5,_0x2499ca=path[_0x3a9175(0x14f)](__dirname,_0x3a9175(0x150),_0x46bea5);return fs[_0x3a9175(0x12b)](_0x2499ca)?_0x4c7d36[_0x3a9175(0x115)](_0x2499ca):_0x4c7d36[_0x3a9175(0x125)](0x194)[_0x3a9175(0x193)](_0x3a9175(0x1b0));}Object[a0_0x2ccdd5(0x196)](spaRoutes)[a0_0x2ccdd5(0x1cc)](_0x28bc36=>{const _0x26ad23=a0_0x2ccdd5;apps[_0x26ad23(0x1a1)](_0x28bc36,(_0x1b79ad,_0x52a9b3)=>{const _0x240ffc=_0x26ad23;return _0x52a9b3[_0x240ffc(0x182)](_0x240ffc(0x18c),_0x240ffc(0x1c9)),sendPublicFile(_0x52a9b3,spaRoutes[_0x28bc36]);});});const port=process['env']['PORT']||0x849;apps['listen'](port,()=>{const _0x32123f=a0_0x2ccdd5;console[_0x32123f(0x122)]('🚀\x20Server\x20running\x20on\x20http://localhost:'+port);});