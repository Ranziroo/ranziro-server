const a0_0x446140=a0_0xacaf;function a0_0xacaf(_0x57ab38,_0xc85dff){const _0x2336ff=a0_0x49e9();return a0_0xacaf=function(_0x54e631,_0x2d7500){_0x54e631=_0x54e631-0x171;let _0x2b3128=_0x2336ff[_0x54e631];if(a0_0xacaf['SIWpKG']===undefined){var _0x307ba3=function(_0xacafb3){const _0x43b1bd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xe178be='',_0x1f8df3='',_0x4f6b53=_0xe178be+_0x307ba3;for(let _0x370c80=0x0,_0x5816ab,_0xe52f8e,_0xdeb36d=0x0;_0xe52f8e=_0xacafb3['charAt'](_0xdeb36d++);~_0xe52f8e&&(_0x5816ab=_0x370c80%0x4?_0x5816ab*0x40+_0xe52f8e:_0xe52f8e,_0x370c80++%0x4)?_0xe178be+=_0x4f6b53['charCodeAt'](_0xdeb36d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5816ab>>(-0x2*_0x370c80&0x6)):_0x370c80:0x0){_0xe52f8e=_0x43b1bd['indexOf'](_0xe52f8e);}for(let _0x33eb75=0x0,_0x442d4a=_0xe178be['length'];_0x33eb75<_0x442d4a;_0x33eb75++){_0x1f8df3+='%'+('00'+_0xe178be['charCodeAt'](_0x33eb75)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f8df3);};a0_0xacaf['wQaLaK']=_0x307ba3,_0x57ab38=arguments,a0_0xacaf['SIWpKG']=!![];}const _0x1d2c05=_0x2336ff[0x0],_0x48cbc6=_0x54e631+_0x1d2c05,_0x49e9f6=_0x57ab38[_0x48cbc6];if(!_0x49e9f6){const _0x1e1cbc=function(_0xaa5349){this['eosZro']=_0xaa5349,this['CuXbwS']=[0x1,0x0,0x0],this['kOHeeg']=function(){return'newState';},this['mkaHfF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yojYpG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1e1cbc['prototype']['dsWgbW']=function(){const _0x3cefca=new RegExp(this['mkaHfF']+this['yojYpG']),_0x1bb0d1=_0x3cefca['test'](this['kOHeeg']['toString']())?--this['CuXbwS'][0x1]:--this['CuXbwS'][0x0];return this['zAMqia'](_0x1bb0d1);},_0x1e1cbc['prototype']['zAMqia']=function(_0x35fed7){if(!Boolean(~_0x35fed7))return _0x35fed7;return this['AqGNal'](this['eosZro']);},_0x1e1cbc['prototype']['AqGNal']=function(_0x5aa877){for(let _0x19453c=0x0,_0x4fa831=this['CuXbwS']['length'];_0x19453c<_0x4fa831;_0x19453c++){this['CuXbwS']['push'](Math['round'](Math['random']())),_0x4fa831=this['CuXbwS']['length'];}return _0x5aa877(this['CuXbwS'][0x0]);},new _0x1e1cbc(a0_0xacaf)['dsWgbW'](),_0x2b3128=a0_0xacaf['wQaLaK'](_0x2b3128),_0x57ab38[_0x48cbc6]=_0x2b3128;}else _0x2b3128=_0x49e9f6;return _0x2b3128;},a0_0xacaf(_0x57ab38,_0xc85dff);}(function(_0x431565,_0x554bd7){const _0x36e0d6=a0_0xacaf,_0x56a6b1=_0x431565();while(!![]){try{const _0x812fa8=-parseInt(_0x36e0d6(0x1d8))/0x1*(parseInt(_0x36e0d6(0x17e))/0x2)+parseInt(_0x36e0d6(0x205))/0x3*(parseInt(_0x36e0d6(0x1ba))/0x4)+-parseInt(_0x36e0d6(0x1cd))/0x5*(parseInt(_0x36e0d6(0x211))/0x6)+-parseInt(_0x36e0d6(0x186))/0x7+parseInt(_0x36e0d6(0x19c))/0x8+-parseInt(_0x36e0d6(0x1f8))/0x9+-parseInt(_0x36e0d6(0x1c4))/0xa*(-parseInt(_0x36e0d6(0x1bd))/0xb);if(_0x812fa8===_0x554bd7)break;else _0x56a6b1['push'](_0x56a6b1['shift']());}catch(_0x3d68da){_0x56a6b1['push'](_0x56a6b1['shift']());}}}(a0_0x49e9,0x4144d));const a0_0x48cbc6=(function(){let _0xe52f8e=!![];return function(_0xdeb36d,_0x33eb75){const _0x442d4a=_0xe52f8e?function(){const _0x14a38c=a0_0xacaf;if(_0x33eb75){const _0x1e1cbc=_0x33eb75[_0x14a38c(0x22e)](_0xdeb36d,arguments);return _0x33eb75=null,_0x1e1cbc;}}:function(){};return _0xe52f8e=![],_0x442d4a;};}()),a0_0x1d2c05=a0_0x48cbc6(this,function(){const _0xfeeeac=a0_0xacaf;return a0_0x1d2c05['toString']()[_0xfeeeac(0x226)](_0xfeeeac(0x1fd))['toString']()[_0xfeeeac(0x185)](a0_0x1d2c05)['search'](_0xfeeeac(0x1fd));});a0_0x1d2c05();const a0_0x2d7500=(function(){let _0xaa5349=!![];return function(_0x3cefca,_0x1bb0d1){const _0x35fed7=_0xaa5349?function(){const _0xf0f0c=a0_0xacaf;if(_0x1bb0d1){const _0x5aa877=_0x1bb0d1[_0xf0f0c(0x22e)](_0x3cefca,arguments);return _0x1bb0d1=null,_0x5aa877;}}:function(){};return _0xaa5349=![],_0x35fed7;};}()),a0_0x54e631=a0_0x2d7500(this,function(){const _0xbc308b=a0_0xacaf;let _0x19453c;try{const _0x369d0d=Function(_0xbc308b(0x200)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x19453c=_0x369d0d();}catch(_0x362199){_0x19453c=window;}const _0x4fa831=_0x19453c[_0xbc308b(0x1eb)]=_0x19453c[_0xbc308b(0x1eb)]||{},_0x2440f9=['log','warn',_0xbc308b(0x1b6),'error',_0xbc308b(0x1e7),'table',_0xbc308b(0x1f3)];for(let _0x16e2b0=0x0;_0x16e2b0<_0x2440f9[_0xbc308b(0x1dc)];_0x16e2b0++){const _0x431923=a0_0x2d7500[_0xbc308b(0x185)][_0xbc308b(0x19f)][_0xbc308b(0x214)](a0_0x2d7500),_0x5cc2ea=_0x2440f9[_0x16e2b0],_0x4ee480=_0x4fa831[_0x5cc2ea]||_0x431923;_0x431923[_0xbc308b(0x1c2)]=a0_0x2d7500[_0xbc308b(0x214)](a0_0x2d7500),_0x431923[_0xbc308b(0x202)]=_0x4ee480['toString'][_0xbc308b(0x214)](_0x4ee480),_0x4fa831[_0x5cc2ea]=_0x431923;}});a0_0x54e631(),require('dotenv')['config']();const express=require(a0_0x446140(0x1e6)),apps=express(),{createClient}=require(a0_0x446140(0x17f)),crypto=require(a0_0x446140(0x1f9)),cors=require('cors'),path=require(a0_0x446140(0x172)),bodyParser=require(a0_0x446140(0x1fb)),multer=require('multer'),fs=require('fs'),cookieParser=require(a0_0x446140(0x235)),bcrypt=require(a0_0x446140(0x1b9)),uploadsDir=path['join'](__dirname,a0_0x446140(0x184));!fs[a0_0x446140(0x1e0)](uploadsDir)&&fs[a0_0x446140(0x209)](uploadsDir,{'recursive':!![]});const upload=multer({'dest':uploadsDir}),allowedOrigins=[a0_0x446140(0x178),a0_0x446140(0x183),'http://localhost:2121','http://localhost:3000'];apps['use'](cors({'origin':function(_0x1167b3,_0x1cba4c){const _0x596d42=a0_0x446140;if(!_0x1167b3)return _0x1cba4c(null,!![]);if(allowedOrigins[_0x596d42(0x1ed)](_0x1167b3))return _0x1cba4c(null,!![]);return _0x1cba4c(new Error(_0x596d42(0x1aa)));},'credentials':!![]})),apps[a0_0x446140(0x218)]((_0x5aa74e,_0xb1ffff,_0x43fe49)=>{const _0x279016=a0_0x446140;_0xb1ffff[_0x279016(0x1d7)](_0x279016(0x174),_0x279016(0x1dd)),_0x43fe49();}),apps['use'](bodyParser[a0_0x446140(0x1ac)]({'limit':a0_0x446140(0x1ef)})),apps[a0_0x446140(0x218)](bodyParser[a0_0x446140(0x195)]({'extended':!![],'limit':'10mb'})),apps['use'](cookieParser());(!process[a0_0x446140(0x227)][a0_0x446140(0x19a)]||!process['env'][a0_0x446140(0x203)])&&console['warn'](a0_0x446140(0x1a4));const supabase=createClient(process[a0_0x446140(0x227)][a0_0x446140(0x19a)]||'',process['env'][a0_0x446140(0x203)]||''),pages=[{'path':a0_0x446140(0x1e2),'file':a0_0x446140(0x1f1)},{'path':a0_0x446140(0x21d),'file':'akun_ml.html'},{'path':a0_0x446140(0x20e),'file':a0_0x446140(0x188)},{'path':a0_0x446140(0x22a),'file':a0_0x446140(0x1e4)}];pages[a0_0x446140(0x194)](_0x48b44f=>{const _0x28ce13=a0_0x446140;if(_0x48b44f['path']===_0x28ce13(0x21d))return;apps[_0x28ce13(0x1cc)](_0x48b44f[_0x28ce13(0x172)],(_0x18d6b8,_0x5a2fb0)=>{const _0xb12854=_0x28ce13;try{const _0xdadeb8=path['join'](__dirname,'public',_0x48b44f[_0xb12854(0x1ab)]);if(fs[_0xb12854(0x1e0)](_0xdadeb8))return _0x5a2fb0[_0xb12854(0x1a6)](_0xdadeb8);return _0x5a2fb0[_0xb12854(0x234)](0x194)[_0xb12854(0x1ee)](_0xb12854(0x1b5));}catch(_0x51d6fb){return console[_0xb12854(0x1bc)](_0xb12854(0x223)+_0x48b44f[_0xb12854(0x172)]+'\x20->\x20'+_0x48b44f[_0xb12854(0x1ab)]+':',_0x51d6fb&&_0x51d6fb[_0xb12854(0x1c5)]?_0x51d6fb[_0xb12854(0x1c5)]:_0x51d6fb),_0x5a2fb0[_0xb12854(0x234)](0x1f4)['send'](_0xb12854(0x176));}});}),apps[a0_0x446140(0x218)](express[a0_0x446140(0x20b)](path[a0_0x446140(0x1b7)](__dirname,a0_0x446140(0x1d4))));function a0_0x49e9(){const _0x6205c7=['DxnLCM5HBwuGjIbWyxnZD29YzcbYzxf1AxjLza','8j+AGcbtzxj2zxiGCNvUBMLUzYbVBIbODhrWoI8VBg9JywXOB3n0oG','yMLUza','z2v0uhvIBgLJvxjS','ywrTAw5FC2vZC2LVBG','Dg9ju09tDhjPBMC','DxnL','BgLTAxq','y2f0y2G','BMfTzq','Ag9ZDa','l2fRDw4','BwfW','ue9sva','CMvHzezPBgvtEw5J','y29TCgfYzq','zgvSzxrL','rxjYB3iGC2vYDMLUzYa','l2fWAs9Yzw9YzgvYx2LTywDLCY86Awq','CgfZC3DVCMrFAgfZAa','C2vHCMnO','zw52','BMfTysWGAgfYz2eSigLKx2fRDw4GD2fQAwiGzgLPC2K','yM9KEq','l2XVz2LU','cIaGicaGidXTzxrHihbYB3bLCNr5psjVzZP0ExbLiIbJB250zw50psj3zwjZAxrLiIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DgL0BguIignVBNrLBNq9iG','l2fWAs9HA3vUx2rLDgfPBc86Awq','C3bSAxq','yxbWBhK','BwvZC2fNzq','DxrMoa','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6DxjSiIbJB250zw50psi','l2fWAs9KzwXFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','AgfZAa','C3rHDhvZ','y29VA2LLlxbHCNnLCG','C29Sza','DxbSB2fK','C3rYAw5N','u2vYDMvYig1PC2nVBMzPz3vYzwq','Cgf0Aa','CMfUzg9TqNL0zxm','q2fJAguTq29UDhjVBa','CMvTB3zL','sw50zxjUywWGu2vYDMvYievYCM9Y','rMfPBgvKihrVignYzwf0zsbHzg1PBIbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBJO','Ahr0Chm6lY9Yyw56AxjVlxnLCNzLCI1WCM9KDwn0Aw9UlNvWlNjHAwX3yxKUyxbW','Dg9mB3DLCKnHC2u','C2vJDxjL','qurnsu5FufC','jMD0oW','tM90igf1DgHVCML6zwq','nK1WsxP6tG','qhn1CgfIyxnLl3n1CgfIyxnLlwPZ','Cg9ZDa','Aw5Zzxj0','ChvZAa','Ahr0Chm6lY9Yyw56AxjVC3rVCMuUDMvYy2vSlMfWCa','DxbSB2fKCW','y29UC3rYDwn0B3i','mZeWnde5mNHOz21zyG','CMfUEMLYB3n0B3jLx2XVz2LUywrTAw4','ywrTAw4UAhrTBa','C2XPy2u','zgvZA3jPChnP','l2HLywX0Aa','iIaVpGOGicaGica8Bwv0ysbUyw1Lpsj0D2L0DgvYoMLTywDLiIbJB250zw50psi','cJWVAgvHzd4','DxnLCM5HBwu','4PYfiefKBwLUihvZzxiGy3jLyxrLzcbPBIbYyw56AxjVC3rVCMvFBg9NAw5Hzg1PBIaOCgfZC3DVCMqGAgfZAcbZDg9YzwqPlG','q29UDgvUDc1uExbL','y29VA2LL','DxbKyxrL','y29Uy2f0','zM9YrwfJAa','DxjSzw5JB2rLza','zxH0BMfTzq','Bg9N','CMvTB3zLrxjY','BwLTzxr5Cgu','u1vqqujbu0vFvvjm','D2fYBG','mJi5ntq0mgnrvNjZCq','u2vZC2LVBIbJBgvHBNvWigvYCM9Y','Chv0','ChjVDg90ExbL','pc9OzwfKpG','zxHWAxjLC0f0','y29VA2LLCW','yxjYyxK','4PQG77Ipifnvuefcqvnfx1vstcbHDgf1ifnvuefcqvnfx0Tfwsb0AwrHAYbKAxrLBxvRyw4GzgKGlMvUDI4GugfZDgLRyw4GDMfYAwfIzwWGzw52igrPC2v0igPPA2eGBwvUz2D1BMfRyw4Gu3vWywjHC2uU','zw50CMLLCW','C2vUzezPBgu','u2vZC2LVBIbLEhbPCMvK','CgfYyw1Z','l2fWAs9SB2DPBG','tM90igfSBg93zwqGyNKGq09suW','zMLSzq','ANnVBG','ywrTAw4','zgf0yq','zMLSDgvY','Ahr0Chm6lY9SENLJCML3CxjJCwjPAwP0AwLWys5ZDxbHyMfZzs5JBY9ZDg9YywDLl3yXl29IAMvJDc9WDwjSAwmVz2fTyMfYl2XVz28VBwv0yv9Yyw56AxjVlNDLyNa','l2fWAs91CgrFCMfUEMLYB3n0B3jLx2fRDw5TBc86Awq','ywnJB3vUDf9Pza','l2fWAs9SB2DVDxq','sw52ywXPzcbJCMvKzw50AwfSCW','rMLSzsbUB3qGzM91BMq','Aw5MBW','AM9PBG','ChjVDg9JB2W','yMnYExb0','nhLrsvbzyW','B3jPz2LUywXvCMW','zxjYB3i','mtffz1fcDwW','zMLSzxm','CMvWBgfJzq','jNf1B3q7','tM90igzVDw5K','x19WCM90B19F','Aw5KzxHpzG','mta2nJC0odbiC1nZvui','C3rHy2S','C3rVCMfNzq','B3jKzxi','CgfZC3DVCMq','AxnbCNjHEq','zNjVBq','l2fWAs9KzwXFAw1Hz2u','z2v0','mtbcyxvsEwu','rvjsic9HA3vUig1LDgeGAw5Qzwn0','C2vSzwn0','DhjPBq','zw5ZDxjLqwrTAw5fEgLZDhmGzMfPBgvKoG','sw50zxjUywWGzxjYB3i','BM93','ChvIBgLJ','Bwf5yMvtAw5NBgu','4Os577IpiefKBwLUihvZzxiGywXYzwfKEsbLEgLZDhmGAw4GCMfUEMLYB3n0B3jLx2XVz2LUywrTAw4U','C2v0','mtyWm0PzANnkwG','BMfTyq','ywT1BL8','C2LUz2XL','BgvUz3rO','BM8TC3rVCMu','iIaVpGOGicaG','u3vWywjHC2uGzxjYB3iGB24GBg9NAw4GzMv0y2G6','zxHPC3rZu3LUyW','C3rHCNrZv2L0Aa','l21S','z2fTyMfY','Bg9NAw4UAhrTBa','zMfSC2u','zxHWCMvZCW','zxHJzxb0Aw9U','jMX0oW','jImZotS','vgLKywSGywrHigzPBgu','y29UC29Szq','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','Aw5JBhvKzxm','C2vUza','mtbTyG','AwrFywT1BG','Aw5KzxGUAhrTBa','DxnLCG','DhjHy2u','AgfSzG','CMfUzg9T','zw5ZDxjLqwrTAw5fEgLZDhmGzxjYB3i6','iIaVpGOGicaGica8Bwv0ysbWCM9Wzxj0Et0IB2C6zgvZy3jPChrPB24IignVBNrLBNq9iG','mJmWmZK2ngvurK5Isa','y3j5ChrV','uMfUEMLYBYbtDg9YzsaTierLDgfPBcbbA3vU','yM9KEs1WyxjZzxi','rgv0ywLSigfRDw4Gtw9IAwXLieXLz2vUzhmGzgKGuMfUEMLYBYbtDg9Yzq','kcGOlISPkYKRksSK','CxvLCNK','CMfUEMLYB3n0B3jLx2fRDw5TBa','CMv0DxjUicHMDw5JDgLVBIGPia','ChjVzhvJDgLVBG','Dg9tDhjPBMC','u1vqqujbu0vFs0vz','AwqGzgfUihvYBcbKAxbLCMX1A2fU','mtmYota2AKz5wunh','Ahr0Ca','z2fTyMfYCW','y3jLyxrLuMvHzfn0CMvHBq','BwTKAxjtEw5J','ue9tvcaVyxbPl3bVC3rFywT1BL9KzxrHAwWGlt4','C3rHDgLJ','y2XLyxjdB29RAwu','Cg9W','l2fKBwLU','rvjsic9HCgKVBg9NB3v0','ywT1BL9TBc5ODg1S','mti3oteZnhf0t3HQBW'];a0_0x49e9=function(){return _0x6205c7;};return a0_0x49e9();}const sessions=new Map();function genToken(){const _0x402014=a0_0x446140;return crypto[_0x402014(0x173)](0x20)[_0x402014(0x202)]('hex');}setInterval(()=>{const _0x5c03b1=a0_0x446140;try{const _0x5babcd=Date[_0x5c03b1(0x1d3)]();for(const [_0x9a7f5d,_0x320102]of sessions[_0x5c03b1(0x1a5)]()){if(!_0x320102||_0x320102[_0x5c03b1(0x1a1)]<=_0x5babcd)sessions[_0x5c03b1(0x222)](_0x9a7f5d);}}catch(_0x3982e4){console['warn'](_0x5c03b1(0x19d),_0x3982e4);}},0x1e*0x3c*0x3e8);function requireAdmin(_0x47a0bf,_0x3fc2d7,_0x37f561){const _0x15eac2=a0_0x446140;try{const _0x4bc2e5=_0x47a0bf['cookies']&&_0x47a0bf['cookies'][_0x15eac2(0x216)];if(!_0x4bc2e5)return _0x3fc2d7['status'](0x191)['json']({'success':![],'message':_0x15eac2(0x17d)});const _0x21bd6a=sessions[_0x15eac2(0x1cc)](_0x4bc2e5);if(!_0x21bd6a)return _0x3fc2d7[_0x15eac2(0x20c)]('admin_session'),_0x3fc2d7[_0x15eac2(0x234)](0x191)[_0x15eac2(0x1ac)]({'success':![],'message':_0x15eac2(0x17d)});if(Date[_0x15eac2(0x1d3)]()>_0x21bd6a[_0x15eac2(0x1a1)])return sessions[_0x15eac2(0x222)](_0x4bc2e5),_0x3fc2d7['clearCookie'](_0x15eac2(0x216)),_0x3fc2d7[_0x15eac2(0x234)](0x191)[_0x15eac2(0x1ac)]({'success':![],'message':_0x15eac2(0x1a7)});_0x47a0bf[_0x15eac2(0x1f2)]=_0x21bd6a[_0x15eac2(0x1f2)],_0x37f561();}catch(_0x5834ce){return _0x3fc2d7[_0x15eac2(0x234)](0x191)[_0x15eac2(0x1ac)]({'success':![],'message':_0x15eac2(0x17d)});}}async function ensureAdminExists(){const _0x452c81=a0_0x446140;try{let _0x248665;try{const _0x461592=await supabase[_0x452c81(0x1ca)](_0x452c81(0x187))[_0x452c81(0x1cf)]('*')['eq'](_0x452c81(0x18e),_0x452c81(0x1ad))[_0x452c81(0x219)](0x1)[_0x452c81(0x1d5)]();_0x248665=_0x461592&&_0x461592[_0x452c81(0x1ae)]!==undefined?_0x461592['data']:_0x461592;}catch(_0x28b62d){const _0x524429=await supabase[_0x452c81(0x1ca)](_0x452c81(0x187))['select']('*')['eq']('username','admin')[_0x452c81(0x219)](0x1);_0x248665=_0x524429&&_0x524429[_0x452c81(0x1ae)]&&_0x524429[_0x452c81(0x1ae)][_0x452c81(0x1dc)]?_0x524429[_0x452c81(0x1ae)][0x0]:null;}if(_0x248665){console['log'](_0x452c81(0x1d6));return;}const _0x4a96f5=process['env'][_0x452c81(0x17b)];if(!_0x4a96f5){console[_0x452c81(0x19b)]('⚠️\x20ADMIN_PW\x20not\x20set\x20in\x20env.\x20Skipping\x20creating\x20admin\x20user.\x20Set\x20ADMIN_PW\x20to\x20auto-create\x20admin\x20at\x20startup.');return;}const _0x315445=0xc,_0x3020ac=await bcrypt[_0x452c81(0x233)](String(_0x4a96f5),_0x315445),{data:_0x52f082,error:_0xda81ef}=await supabase[_0x452c81(0x1ca)]('ranzirostore_loginadmin')['insert']([{'username':_0x452c81(0x1ad),'password_hash':_0x3020ac,'role':'admin','created_at':new Date()}])[_0x452c81(0x1cf)]();_0xda81ef?console[_0x452c81(0x1bc)](_0x452c81(0x177),_0xda81ef):console[_0x452c81(0x197)](_0x452c81(0x18f));}catch(_0xd79ecd){console[_0x452c81(0x1bc)](_0x452c81(0x1f6),_0xd79ecd&&_0xd79ecd[_0x452c81(0x1c5)]?_0xd79ecd['stack']:_0xd79ecd);}}ensureAdminExists()[a0_0x446140(0x21a)](_0x127efa=>console[a0_0x446140(0x1bc)](a0_0x446140(0x1d1),_0x127efa)),apps[a0_0x446140(0x180)](a0_0x446140(0x1a9),async(_0x58e120,_0x21f27b)=>{const _0xbba37f=a0_0x446140;try{const {username:_0x323295,password:_0x47d897}=_0x58e120[_0xbba37f(0x229)]||{};if(!_0x323295||!_0x47d897)return _0x21f27b['status'](0x190)[_0xbba37f(0x1ac)]({'success':![],'message':_0xbba37f(0x212)});if(String(_0x323295)['toLowerCase']()!==_0xbba37f(0x1ad))return _0x21f27b[_0xbba37f(0x234)](0x191)[_0xbba37f(0x1ac)]({'success':![],'message':_0xbba37f(0x1b4)});const {data:_0x262882,error:_0x4aaaec}=await supabase[_0xbba37f(0x1ca)](_0xbba37f(0x187))['select']('*')['eq'](_0xbba37f(0x18e),_0xbba37f(0x1ad))[_0xbba37f(0x219)](0x1)['maybeSingle']();if(_0x4aaaec)return console['warn'](_0xbba37f(0x1df),_0x4aaaec),_0x21f27b[_0xbba37f(0x234)](0x1f4)[_0xbba37f(0x1ac)]({'success':![],'message':_0xbba37f(0x1d2)});if(!_0x262882)return _0x21f27b[_0xbba37f(0x234)](0x191)['json']({'success':![],'message':_0xbba37f(0x1b4)});const _0x6b7122=String(_0x262882[_0xbba37f(0x225)]||_0x262882[_0xbba37f(0x1c8)]||'')[_0xbba37f(0x1d0)]();if(!_0x6b7122)return console[_0xbba37f(0x1bc)]('No\x20password_hash\x20found\x20for\x20admin\x20row.'),_0x21f27b['status'](0x1f4)[_0xbba37f(0x1ac)]({'success':![],'message':_0xbba37f(0x171)});const _0xfbce42=await bcrypt[_0xbba37f(0x221)](String(_0x47d897),_0x6b7122);if(!_0xfbce42)return _0x21f27b[_0xbba37f(0x234)](0x191)[_0xbba37f(0x1ac)]({'success':![],'message':'Invalid\x20credentials'});const _0x409899=genToken(),_0x1a5d32=Date[_0xbba37f(0x1d3)]()+0x18*0x3c*0x3c*0x3e8;sessions[_0xbba37f(0x1d7)](_0x409899,{'user':'admin','expiresAt':_0x1a5d32});const _0x4da292={'httpOnly':!![],'maxAge':0x18*0x3c*0x3c*0x3e8,'sameSite':'lax','path':'/'};if(process['env']['NODE_ENV']===_0xbba37f(0x201))_0x4da292[_0xbba37f(0x17a)]=!![];_0x21f27b[_0xbba37f(0x191)](_0xbba37f(0x216),_0x409899,_0x4da292);try{await supabase[_0xbba37f(0x1ca)]('ranzirostore_loginadmin')[_0xbba37f(0x192)]({'last_login':new Date()})['eq'](_0xbba37f(0x18e),'admin');}catch(_0xb9b0ea){console['warn']('Could\x20not\x20write\x20last_login:',_0xb9b0ea);}return _0x21f27b[_0xbba37f(0x1ac)]({'success':!![]});}catch(_0x2d0cf9){return console['error']('ERR\x20/api/login',_0x2d0cf9&&_0x2d0cf9[_0xbba37f(0x1c5)]?_0x2d0cf9[_0xbba37f(0x1c5)]:_0x2d0cf9),_0x21f27b[_0xbba37f(0x234)](0x1f4)[_0xbba37f(0x1ac)]({'success':![],'message':_0xbba37f(0x1d2)});}}),apps['post'](a0_0x446140(0x1b3),(_0x1a7a03,_0x98cd1d)=>{const _0x4868f8=a0_0x446140;try{const _0x4de7f6=_0x1a7a03[_0x4868f8(0x1a2)]&&_0x1a7a03[_0x4868f8(0x1a2)][_0x4868f8(0x216)];if(_0x4de7f6)sessions['delete'](_0x4de7f6);return _0x98cd1d[_0x4868f8(0x20c)](_0x4868f8(0x216),{'path':'/'}),_0x98cd1d['json']({'success':!![]});}catch(_0x5b7ed0){return console['error'](_0x4868f8(0x20f),_0x5b7ed0),_0x98cd1d[_0x4868f8(0x234)](0x1f4)[_0x4868f8(0x1ac)]({'success':![],'message':_0x4868f8(0x1d2)});}}),apps[a0_0x446140(0x1cc)]('/api/check-session',requireAdmin,(_0x15bfa2,_0x1f89ca)=>{const _0x29b98d=a0_0x446140;_0x1f89ca[_0x29b98d(0x1ac)]({'success':!![],'user':_0x15bfa2['user']});});const escapeHtml=(_0x672cef='')=>String(_0x672cef)[a0_0x446140(0x1bf)](/[&<>"']/g,_0x193052=>({'&':'&amp;','<':a0_0x446140(0x1e8),'>':a0_0x446140(0x17c),'\x22':a0_0x446140(0x1c0),'\x27':a0_0x446140(0x1e9)}[_0x193052]));apps[a0_0x446140(0x1cc)](a0_0x446140(0x21d),async(_0x21789c,_0x5f44f2)=>{const _0x1fa474=a0_0x446140;try{const _0x40d8ad=path[_0x1fa474(0x1b7)](__dirname,_0x1fa474(0x1d4),_0x1fa474(0x210));if(!fs[_0x1fa474(0x1e0)](_0x40d8ad))return _0x5f44f2[_0x1fa474(0x234)](0x194)[_0x1fa474(0x1ee)](_0x1fa474(0x1c1));let _0x36b492=fs[_0x1fa474(0x220)](_0x40d8ad,_0x1fa474(0x230));const _0x5b0458=_0x21789c[_0x1fa474(0x1b8)]+'://'+_0x21789c['get'](_0x1fa474(0x21c));let _0x5ba097=_0x1fa474(0x1b0),_0x39479a=_0x1fa474(0x1fa),_0x5aca50=_0x1fa474(0x1fc);const _0x4f9fb1=_0x21789c[_0x1fa474(0x1fe)]['id']||_0x21789c['query'][_0x1fa474(0x1f0)]||_0x21789c[_0x1fa474(0x1fe)][_0x1fa474(0x1b2)],_0x40c9ec=_0x21789c[_0x1fa474(0x1fe)][_0x1fa474(0x1d9)]||_0x21789c[_0x1fa474(0x1fe)][_0x1fa474(0x21b)];if(_0x4f9fb1){const {data:_0x318bd3,error:_0x345e6b}=await supabase['from'](_0x1fa474(0x1ff))[_0x1fa474(0x1cf)]('*')['eq']('id',_0x4f9fb1)[_0x1fa474(0x1db)]();if(!_0x345e6b&&_0x318bd3){const _0x4eeb9b=Array[_0x1fa474(0x1c9)](_0x318bd3[_0x1fa474(0x207)])?_0x318bd3[_0x1fa474(0x207)]:typeof _0x318bd3[_0x1fa474(0x207)]==='string'?((()=>{const _0x45bc98=_0x1fa474;try{return JSON['parse'](_0x318bd3[_0x45bc98(0x207)]);}catch(_0x46cf9a){return[];}})()):[],_0x460bf0=_0x4eeb9b&&_0x4eeb9b[0x0]||_0x318bd3['gambar'];_0x460bf0&&(_0x5ba097=_0x460bf0[_0x1fa474(0x1e1)](_0x1fa474(0x206))?_0x460bf0:_0x5b0458+'/'+_0x460bf0[_0x1fa474(0x1bf)](/^\//,'')),_0x39479a=_0x318bd3['nama']||_0x39479a,_0x5aca50=_0x318bd3['deskripsi']||_0x5aca50;}}else{if(_0x40c9ec){const {data:_0x13a266,error:_0x109a03}=await supabase[_0x1fa474(0x1ca)](_0x1fa474(0x1ff))[_0x1fa474(0x1cf)]('*')['ilike'](_0x1fa474(0x1d9),'%'+_0x40c9ec+'%')[_0x1fa474(0x219)](0x1);if(!_0x109a03&&Array['isArray'](_0x13a266)&&_0x13a266[0x0]){const _0x56dbad=_0x13a266[0x0],_0x3adb7b=Array['isArray'](_0x56dbad[_0x1fa474(0x207)])?_0x56dbad[_0x1fa474(0x207)]:[],_0x34f54d=_0x3adb7b&&_0x3adb7b[0x0]||_0x56dbad['gambar'];if(_0x34f54d)_0x5ba097=_0x34f54d[_0x1fa474(0x1e1)](_0x1fa474(0x206))?_0x34f54d:_0x5b0458+'/'+_0x34f54d[_0x1fa474(0x1bf)](/^\//,'');_0x39479a=_0x56dbad[_0x1fa474(0x1d9)]||_0x39479a,_0x5aca50=_0x56dbad[_0x1fa474(0x18a)]||_0x5aca50;}}}const _0x5a3a8c=_0x1fa474(0x22b)+escapeHtml(_0x39479a)+_0x1fa474(0x1f7)+escapeHtml(_0x5aca50)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20property=\x22og:image\x22\x20content=\x22'+_0x5ba097+_0x1fa474(0x231)+(_0x5b0458+_0x21789c[_0x1fa474(0x1bb)])+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22twitter:card\x22\x20content=\x22summary_large_image\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22twitter:title\x22\x20content=\x22'+escapeHtml(_0x39479a)+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<meta\x20name=\x22twitter:description\x22\x20content=\x22'+escapeHtml(_0x5aca50)+_0x1fa474(0x18c)+_0x5ba097+_0x1fa474(0x1de);_0x36b492[_0x1fa474(0x1c3)](_0x1fa474(0x1a0))!==-0x1?_0x36b492=_0x36b492[_0x1fa474(0x1bf)](_0x1fa474(0x1a0),_0x5a3a8c+_0x1fa474(0x18d)):_0x36b492=_0x5a3a8c+'\x0a'+_0x36b492,_0x5f44f2[_0x1fa474(0x1d7)](_0x1fa474(0x190),_0x1fa474(0x1ec)),_0x5f44f2['send'](_0x36b492);}catch(_0x18a86a){console[_0x1fa474(0x1bc)](_0x1fa474(0x1ce),_0x18a86a),_0x5f44f2[_0x1fa474(0x1a6)](path[_0x1fa474(0x1b7)](__dirname,_0x1fa474(0x1d4),_0x1fa474(0x210)));}}),apps['get'](a0_0x446140(0x18b),(_0x24ee3f,_0x191f15)=>{const _0x52a022=a0_0x446140;_0x191f15[_0x52a022(0x1ac)]({'ok':!![],'time':new Date()[_0x52a022(0x217)]()});}),apps['get']('/api/ranzirostore_akunml',async(_0x5ba14e,_0x3ee9a3)=>{const _0x3893ed=a0_0x446140;try{const {data:_0x424659,error:_0x3a8733}=await supabase[_0x3893ed(0x1ca)](_0x3893ed(0x1ff))['select']('*')[_0x3893ed(0x1c7)]('id',{'ascending':![]});if(_0x3a8733)throw _0x3a8733;_0x3ee9a3['json']({'success':!![],'data':_0x424659});}catch(_0x2bfd71){console[_0x3893ed(0x1bc)](_0x2bfd71),_0x3ee9a3['status'](0x1f4)['json']({'success':![],'error':_0x2bfd71['message']||_0x2bfd71});}}),apps[a0_0x446140(0x180)]('/api/post_akun_detail',upload[a0_0x446140(0x1a3)](a0_0x446140(0x1e3),0xa),async(_0x56dd54,_0x487653)=>{const _0x18c75d=a0_0x446140;try{const {nama:_0x1d2151,harga:_0x388079,id_akun:_0x3b4c18,deskripsi:_0x5c2997,rank:_0x16c928,skin:_0x492777,hero:_0x1ea28f,winrate:_0x3133fe,pertandingan:_0x644ce2,magic_core:_0x4d2e0f,emblem:_0x35fb40,pribadi_beli:_0x566f42,log:_0xf248f3,bind:_0x3fb6c7}=_0x56dd54[_0x18c75d(0x229)],_0x173398=_0x56dd54[_0x18c75d(0x1be)]||[];if(!_0x1d2151||!_0x388079||!_0x3b4c18)return _0x487653[_0x18c75d(0x234)](0x190)[_0x18c75d(0x1ac)]({'success':![],'message':_0x18c75d(0x228)});const _0x5bfaeb=[];for(const _0x3837ba of _0x173398){const _0x3bcfcb=path['extname'](_0x3837ba['originalname'])||'',_0x5853e7=_0x18c75d(0x1da)+Date[_0x18c75d(0x1d3)]()+'_'+Math[_0x18c75d(0x1f5)]()[_0x18c75d(0x202)](0x24)['slice'](0x2)+_0x3bcfcb,_0x1571e7=await supabase[_0x18c75d(0x1c6)]['from'](_0x18c75d(0x1e3))['upload'](_0x5853e7,fs[_0x18c75d(0x208)](_0x3837ba[_0x18c75d(0x172)]),{'contentType':_0x3837ba['mimetype'],'duplex':'half'});try{fs['unlinkSync'](_0x3837ba[_0x18c75d(0x172)]);}catch(_0x2de57b){}if(_0x1571e7[_0x18c75d(0x1bc)])throw _0x1571e7[_0x18c75d(0x1bc)];const {data:_0x5cf70b}=supabase[_0x18c75d(0x1c6)][_0x18c75d(0x1ca)]('gambar')['getPublicUrl'](_0x5853e7);_0x5bfaeb[_0x18c75d(0x182)](_0x5cf70b['publicUrl']);}const _0x1ccd47=_0x5bfaeb[_0x18c75d(0x1dc)]?_0x5bfaeb[0x0]:null,_0x42ffac=_0x56dd54[_0x18c75d(0x229)][_0x18c75d(0x234)],_0xcda016=typeof _0x42ffac==='string'?![_0x18c75d(0x236),'false','0'][_0x18c75d(0x1ed)](_0x42ffac[_0x18c75d(0x179)]()):Boolean(_0x42ffac),{data:_0x1eea1c,error:_0x31b16b}=await supabase[_0x18c75d(0x1ca)]('ranzirostore_akunml')[_0x18c75d(0x181)]([{'nama':_0x1d2151,'harga':_0x388079,'id_akun':_0x3b4c18,'deskripsi':_0x5c2997,'rank':_0x16c928,'skin':_0x492777?parseInt(_0x492777):null,'hero':_0x1ea28f?parseInt(_0x1ea28f):null,'winrate':_0x3133fe,'pertandingan':_0x644ce2?parseInt(_0x644ce2):null,'magic_core':_0x4d2e0f,'emblem':_0x35fb40,'pribadi_beli':_0x566f42,'log':_0xf248f3,'bind':_0x3fb6c7,'gambar':_0x1ccd47,'gambars':_0x5bfaeb,'status':_0xcda016}])[_0x18c75d(0x1cf)]();if(_0x31b16b)throw _0x31b16b;_0x487653[_0x18c75d(0x234)](0xc9)[_0x18c75d(0x1ac)]({'success':!![],'data':_0x1eea1c});}catch(_0x1b51b1){console[_0x18c75d(0x1bc)](_0x18c75d(0x20a),_0x1b51b1),_0x487653[_0x18c75d(0x234)](0x1f4)[_0x18c75d(0x1ac)]({'success':![],'message':_0x1b51b1[_0x18c75d(0x22f)]||_0x1b51b1});}}),apps[a0_0x446140(0x1cc)](a0_0x446140(0x22c),async(_0xa82e32,_0x5d71bc)=>{const _0x258bae=a0_0x446140;try{const {id:_0x5eb284}=_0xa82e32['params'],{data:_0x97d12,error:_0x39e0d0}=await supabase[_0x258bae(0x1ca)]('ranzirostore_akunml')[_0x258bae(0x1cf)]('*')['eq']('id',_0x5eb284)[_0x258bae(0x1db)]();if(_0x39e0d0)throw _0x39e0d0;_0x5d71bc[_0x258bae(0x1ac)]({'success':!![],'data':_0x97d12});}catch(_0x2d0127){console[_0x258bae(0x1bc)](_0x2d0127),_0x5d71bc['status'](0x1f4)['json']({'success':![],'message':_0x2d0127[_0x258bae(0x22f)]||_0x2d0127});}}),apps['post']('/api/upload_images/:id',upload['array']('gambar',0xa),async(_0x33bd75,_0x4edc49)=>{const _0x254387=a0_0x446140;try{const {id:_0x60bcb3}=_0x33bd75[_0x254387(0x1a8)],_0x5c0f59=_0x33bd75[_0x254387(0x1be)]||[];if(!_0x5c0f59['length'])return _0x4edc49[_0x254387(0x234)](0x190)[_0x254387(0x1ac)]({'success':![],'message':_0x254387(0x1ea)});const {data:_0x1f19cb,error:_0x523912}=await supabase['from'](_0x254387(0x1ff))[_0x254387(0x1cf)](_0x254387(0x207))['eq']('id',_0x60bcb3)[_0x254387(0x1db)]();if(_0x523912)throw _0x523912;const _0x1b84a7=Array['isArray'](_0x1f19cb[_0x254387(0x207)])?_0x1f19cb[_0x254387(0x207)]:[],_0xe5fc44=[];for(const _0x23ca1c of _0x5c0f59){const _0x43cf44=path[_0x254387(0x196)](_0x23ca1c['originalname'])||'',_0x258130=_0x254387(0x1da)+Date[_0x254387(0x1d3)]()+'_'+Math[_0x254387(0x1f5)]()[_0x254387(0x202)](0x24)[_0x254387(0x189)](0x2)+_0x43cf44,_0x5bcfbc=await supabase[_0x254387(0x1c6)][_0x254387(0x1ca)](_0x254387(0x1e3))[_0x254387(0x237)](_0x258130,fs['createReadStream'](_0x23ca1c['path']),{'contentType':_0x23ca1c[_0x254387(0x199)],'duplex':_0x254387(0x1f4)});try{fs['unlinkSync'](_0x23ca1c['path']);}catch(_0x4a9020){}if(_0x5bcfbc[_0x254387(0x1bc)])throw _0x5bcfbc[_0x254387(0x1bc)];const {data:_0x16c476}=supabase['storage'][_0x254387(0x1ca)](_0x254387(0x1e3))[_0x254387(0x215)](_0x258130);_0xe5fc44['push'](_0x16c476['publicUrl']);}const _0x489d6d=_0x1b84a7[_0x254387(0x193)](_0xe5fc44),_0x4e43cf=_0x489d6d['length']?_0x489d6d[0x0]:null,{data:_0x21f934,error:_0x4d3b84}=await supabase[_0x254387(0x1ca)](_0x254387(0x1ff))['update']({'gambars':_0x489d6d,'gambar':_0x4e43cf,'updated_at':new Date()})['eq']('id',_0x60bcb3)[_0x254387(0x1cf)]();if(_0x4d3b84)throw _0x4d3b84;_0x4edc49['json']({'success':!![],'data':_0x21f934});}catch(_0x291313){console[_0x254387(0x1bc)](_0x291313),_0x4edc49['status'](0x1f4)['json']({'success':![],'message':_0x291313[_0x254387(0x22f)]||_0x291313});}}),apps[a0_0x446140(0x222)](a0_0x446140(0x1cb),async(_0x498d16,_0x2bda94)=>{const _0x23a59b=a0_0x446140;try{const {id:_0xd64bd0,url:_0x322f86}=_0x498d16[_0x23a59b(0x229)];if(!_0xd64bd0||!_0x322f86)return _0x2bda94['status'](0x190)['json']({'success':![],'message':_0x23a59b(0x204)});const {data:_0x56771a,error:_0x32fa5f}=await supabase[_0x23a59b(0x1ca)](_0x23a59b(0x1ff))['select']('gambars')['eq']('id',_0xd64bd0)['single']();if(_0x32fa5f)throw _0x32fa5f;const _0x39f76a=Array[_0x23a59b(0x1c9)](_0x56771a[_0x23a59b(0x207)])?_0x56771a[_0x23a59b(0x207)]:[],_0x18a4a3=_0x322f86['split']('/')['pop'](),{error:_0x2970af}=await supabase['storage']['from'](_0x23a59b(0x1e3))[_0x23a59b(0x175)]([_0x18a4a3]);_0x2970af&&console[_0x23a59b(0x19b)](_0x23a59b(0x198),_0x2970af[_0x23a59b(0x22f)]||_0x2970af);const _0x506a39=_0x39f76a[_0x23a59b(0x1af)](_0x5730eb=>_0x5730eb!==_0x322f86),_0x219883=_0x506a39[_0x23a59b(0x1dc)]?_0x506a39[0x0]:null,{data:_0x53e11d,error:_0x53c387}=await supabase['from'](_0x23a59b(0x1ff))['update']({'gambars':_0x506a39,'gambar':_0x219883,'updated_at':new Date()})['eq']('id',_0xd64bd0)[_0x23a59b(0x1cf)]();if(_0x53c387)throw _0x53c387;_0x2bda94[_0x23a59b(0x1ac)]({'success':!![],'data':_0x53e11d});}catch(_0x2de455){console[_0x23a59b(0x1bc)](_0x2de455),_0x2bda94[_0x23a59b(0x234)](0x1f4)[_0x23a59b(0x1ac)]({'success':![],'message':_0x2de455[_0x23a59b(0x22f)]||_0x2de455});}}),apps['delete']('/api/del_images/:id',async(_0x2c30c0,_0x566607)=>{const _0x56c955=a0_0x446140;try{const {id:_0x3dbf64}=_0x2c30c0[_0x56c955(0x1a8)],{data:_0x1d5d7e,error:_0x2f1902}=await supabase[_0x56c955(0x1ca)](_0x56c955(0x1ff))[_0x56c955(0x1cf)](_0x56c955(0x207))['eq']('id',_0x3dbf64)['single']();if(_0x2f1902)throw _0x2f1902;const _0xa5bd47=Array['isArray'](_0x1d5d7e[_0x56c955(0x207)])?_0x1d5d7e[_0x56c955(0x207)]:[],_0x58039b=_0xa5bd47['map'](_0x34740a=>_0x34740a[_0x56c955(0x22d)]('/')[_0x56c955(0x20d)]())[_0x56c955(0x1af)](Boolean);if(_0x58039b[_0x56c955(0x1dc)]){const {error:_0x5ebbde}=await supabase['storage'][_0x56c955(0x1ca)](_0x56c955(0x1e3))[_0x56c955(0x175)](_0x58039b);if(_0x5ebbde)throw _0x5ebbde;}const {data:_0x48e3b5,error:_0x3f9e8f}=await supabase[_0x56c955(0x1ca)](_0x56c955(0x1ff))[_0x56c955(0x192)]({'gambars':[],'gambar':null,'updated_at':new Date()})['eq']('id',_0x3dbf64)['select']();if(_0x3f9e8f)throw _0x3f9e8f;_0x566607['json']({'success':!![],'data':_0x48e3b5});}catch(_0x482098){console['error'](_0x482098),_0x566607[_0x56c955(0x234)](0x1f4)[_0x56c955(0x1ac)]({'success':![],'message':_0x482098[_0x56c955(0x22f)]||_0x482098});}}),apps[a0_0x446140(0x19e)](a0_0x446140(0x224),async(_0x5cfa66,_0x55c35a)=>{const _0x3cedef=a0_0x446140;try{const {id:_0x597e2c}=_0x5cfa66['params'],{order:_0x503d95}=_0x5cfa66[_0x3cedef(0x229)];if(!Array[_0x3cedef(0x1c9)](_0x503d95))return _0x55c35a['status'](0x190)[_0x3cedef(0x1ac)]({'success':![],'message':'order\x20harus\x20array\x20URL'});const _0x45a70b=_0x503d95['length']?_0x503d95[0x0]:null,{data:_0x4cc947,error:_0x11efef}=await supabase[_0x3cedef(0x1ca)](_0x3cedef(0x1ff))[_0x3cedef(0x192)]({'gambars':_0x503d95,'gambar':_0x45a70b,'updated_at':new Date()})['eq']('id',_0x597e2c)[_0x3cedef(0x1cf)]();if(_0x11efef)throw _0x11efef;_0x55c35a[_0x3cedef(0x1ac)]({'success':!![],'data':_0x4cc947});}catch(_0x34faba){console[_0x3cedef(0x1bc)](_0x34faba),_0x55c35a[_0x3cedef(0x234)](0x1f4)[_0x3cedef(0x1ac)]({'success':![],'message':_0x34faba[_0x3cedef(0x22f)]||_0x34faba});}}),apps['put'](a0_0x446140(0x1b1),async(_0x458e14,_0x4e1728)=>{const _0x55996e=a0_0x446140;try{const {id:_0x2eeefe}=_0x458e14[_0x55996e(0x1a8)],_0x2f46dd=_0x458e14['body']||{};_0x2f46dd[_0x55996e(0x234)]!==undefined&&(typeof _0x2f46dd[_0x55996e(0x234)]===_0x55996e(0x238)?_0x2f46dd[_0x55996e(0x234)]=![_0x55996e(0x236),_0x55996e(0x1e5),'0'][_0x55996e(0x1ed)](_0x2f46dd['status']['toLowerCase']()):_0x2f46dd[_0x55996e(0x234)]=Boolean(_0x2f46dd['status']));delete _0x2f46dd['id'];const {data:_0xd6c21f,error:_0x51cdb1}=await supabase['from'](_0x55996e(0x1ff))[_0x55996e(0x192)]({..._0x2f46dd,'updated_at':new Date()})['eq']('id',_0x2eeefe)[_0x55996e(0x1cf)]();if(_0x51cdb1)throw _0x51cdb1;_0x4e1728['json']({'success':!![],'data':_0xd6c21f});}catch(_0x544b4c){console['error'](_0x544b4c),_0x4e1728[_0x55996e(0x234)](0x1f4)[_0x55996e(0x1ac)]({'success':![],'message':_0x544b4c['message']||_0x544b4c});}}),apps['delete'](a0_0x446140(0x232),async(_0x4d480a,_0x356dd3)=>{const _0x3b81f4=a0_0x446140;try{const {id:_0x4fe126}=_0x4d480a[_0x3b81f4(0x1a8)],{data:_0x50e02b,error:_0x581a93}=await supabase[_0x3b81f4(0x1ca)](_0x3b81f4(0x1ff))['select'](_0x3b81f4(0x207))['eq']('id',_0x4fe126)['single']();if(_0x581a93)throw _0x581a93;const _0x47df6e=(_0x50e02b[_0x3b81f4(0x207)]||[])[_0x3b81f4(0x21e)](_0x5ee37e=>_0x5ee37e[_0x3b81f4(0x22d)]('/')[_0x3b81f4(0x20d)]())[_0x3b81f4(0x1af)](Boolean);if(_0x47df6e[_0x3b81f4(0x1dc)]){const {error:_0x1deefb}=await supabase[_0x3b81f4(0x1c6)][_0x3b81f4(0x1ca)](_0x3b81f4(0x1e3))['remove'](_0x47df6e);if(_0x1deefb)throw _0x1deefb;}const {data:_0x59129c,error:_0x5249e5}=await supabase[_0x3b81f4(0x1ca)](_0x3b81f4(0x1ff))[_0x3b81f4(0x222)]()['eq']('id',_0x4fe126);if(_0x5249e5)throw _0x5249e5;_0x356dd3[_0x3b81f4(0x1ac)]({'success':!![],'data':_0x59129c});}catch(_0x1abb74){console[_0x3b81f4(0x1bc)](_0x1abb74),_0x356dd3[_0x3b81f4(0x234)](0x1f4)[_0x3b81f4(0x1ac)]({'success':![],'message':_0x1abb74[_0x3b81f4(0x22f)]||_0x1abb74});}});const port=process[a0_0x446140(0x227)][a0_0x446140(0x21f)]||0x849;apps['listen'](port,()=>{const _0x4351b2=a0_0x446140;console[_0x4351b2(0x197)](_0x4351b2(0x213)+port);});